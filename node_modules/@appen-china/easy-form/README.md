# Easy Form

Easily generate a form with form fields and conditional rules in your React project ðŸŽ‰

## Installation

```shell
yarn add @appen-china/easy-form
```

Please make sure you have the right access to our private resgitry.

## Usage

```javascript
import EasyFrom from '@appen-china/easy-form';

const payload = {
  theme: 'dark',
  fields: [
    {
      name: 'question-1',
      type: 'SWITCH',
      required: true,
    },
    {
      name: 'question-2',
      type: 'TEXT',
      visible: false,
    },
  ],
  conditions: [
    {
      id: 'condition-1',
      type: 'FIELD',
      operator: 'equal_to',
      field: 'question-1',
      value: 'true',
    },
  ],
  effects: [
    {
      id: 'effect-1',
      field: 'question-2',
      attribute: 'visible',
      value: 'true',
    },
  ],
  rules: [
    {
      id: 'rule-1',
      condition: 'condition-1',
      effects: ['effect-1'],
    },
  ],
  onSubmit: (values) => {
    console.log(values);
  },
}

ReactDOM.render(
  <EasyForm {...props} />,
  document.getElementById('form'),
);
```

## Configuration

### Form

Property|Description|Type|Required|Default
------|------------|----|:----:|:----:
theme|form theme.|string|NO|light
fields|form fields list. see [form item configuration](###Field) details below.|array|YES|-
conditions|form conditions list. see [condition item configuration](###Condition) details below.|array|NO|-
effects|form effects list. see [effect item configuration](###Effect) details below.|array|NO|-
rules|form rules list. see [rule item configuration](###Rule) details below.|array|NO|-
submitText|label for submit button.|string|NO|Submit
cancelText|label for cancel button.|string|NO|Cancel
onSubmit|called when submit button click.|(values) => void|YES|-
onCancel|called when cancel button click. provided if you want to show a cancel button.|() => void|NO|-
renderLabel|custom field label renderer.|(label, field) => ReactNode|NO|-

### Field

Property|Description|Type|Required|Default
------|------------|----|:----:|:----:
name|field control name.|string|YES|-
label|field label. use field name if not provided.|string|NO|-
type|field control type: `TEXT`, `TEXTAREA`, `SWITCH`, `CHECKBOX`, `RADIO`, `SELECT`.|string|YES|-
valueType|field value type: `string`, `number`, `boolean`.|string|NO|-
visible|is field visible.|boolean|NO|true
required|is field required.|boolean|NO|false
readonly|is field readonly.|boolean|NO|false
isRTL|is field RTL.|boolean|NO|false
defaultValue|field default value.|string, number, boolean, string[], number[]|NO|-
options|options for `CHECKBOX`, `RADIO`, `SELECT`.|{ value: string, label?: string, group?: string }[] \| string[] \| number[]|NO|-
optionSearchable|is options searchable.|boolean|NO|false
validator|custom field validator.|(value) => boolean \| { pass: boolean, message?: string }|NO|-

### Condition

Property|Description|Type|Required|Default
------|------------|----|:----:|:----:
id|condition id.|string|YES|-
type|`FIELD`, `AGGREGATION`.|string|YES|-
operator|`FIELD`: `equal_to`, `not_equal_to`, `greater_than`, `greater_than_or_equal_to`, `less_than`, `less_than_or_equal_to`, `contains`, `start_with`, `end_with`. `AGGREGATION`: `and`, `or`.|string|YES|-
field|specify the field name the condition checks. used for `FIELD` type.|string|NO|-
value|specify the field value the condition checks. used for `FIELD` type.|string|NO|-
conditions|specify the condition list the condition checks. used for `AGGREGATION` type.|string[]|NO|-

### Effect

Property|Description|Type|Required|Default
------|------------|----|:----:|:----:
id|effect id.|string|YES|-
field|specify the field name the effect influences.|string|YES|-
attribute|`value`, `visible`, `required`, `readonly`.|string|YES|-
vale|specify the field attribute value the effect influences.|string|YES|-

### Rule

Property|Description|Type|Required|Default
------|------------|----|:----:|:----:
id|rule id.|string|YES|-
condition|combined condition id.|string|YES|-
effects|combined effect ids.|string[]|YES|-
