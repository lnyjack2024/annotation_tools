{"ast":null,"code":"var _jsxFileName = \"/Users/qzheng/Documents/webroot/annotation_tools/src/components/long-audio/components/SegmentAbstract/SegmentAbstract.js\";\nimport React, { createRef } from 'react';\nimport { connect } from 'react-redux';\nimport { CellMeasurer, CellMeasurerCache, List, AutoSizer } from 'react-virtualized';\nimport SegmentAbstractItem from './SegmentAbstractItem/SegmentAbstractItem';\nimport './SegmentAbstract.scss';\nconst cache = new CellMeasurerCache({\n  defaultHeight: 72,\n  fixedWidth: true\n});\nclass SegmentAbstract extends React.Component {\n  constructor(props) {\n    super(props);\n    this.listRef = createRef();\n  }\n\n  // TODO: slider bar\n  render() {\n    this.segmentAbstractItems = [];\n    const {\n      currentVideo,\n      results,\n      setCurrentSegment\n    } = this.props;\n    return (\n      /*#__PURE__*/\n      // eslint-disable-next-line react/jsx-filename-extension\n      React.createElement(\"div\", {\n        className: \"segment-abstract-container\",\n        id: \"segment-abstract-container\",\n        ref: r => {\n          this.segmentAbstractBox = r;\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 24,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(AutoSizer, {\n        onResize: () => cache.clearAll(),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 29,\n          columnNumber: 9\n        }\n      }, ({\n        width,\n        height\n      }) => /*#__PURE__*/React.createElement(List, {\n        ref: r => {\n          this.listRef = r;\n        },\n        style: {\n          outline: 'none'\n        },\n        width: width,\n        height: height,\n        deferredMeasurementCache: cache,\n        rowCount: results[currentVideo].length,\n        rowHeight: cache.rowHeight,\n        rowRenderer: ({\n          index,\n          key,\n          parent,\n          style\n        }) => /*#__PURE__*/React.createElement(CellMeasurer, {\n          cache: cache,\n          columnIndex: 0,\n          key: key,\n          parent: parent,\n          rowIndex: index,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 40,\n            columnNumber: 17\n          }\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          style: style,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 47,\n            columnNumber: 19\n          }\n        }, /*#__PURE__*/React.createElement(SegmentAbstractItem, {\n          ref: r => {\n            this.segmentAbstractItems[index] = r;\n          },\n          segmentIndex: index,\n          segment: results[currentVideo][index],\n          setCurrentSegment: setCurrentSegment,\n          onUpdate: () => cache.clear(index, 0),\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 48,\n            columnNumber: 21\n          }\n        }))),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 31,\n          columnNumber: 13\n        }\n      })))\n    );\n  }\n}\nconst mapStateToProps = state => ({\n  results: state.results,\n  ontology: state.ontology,\n  segmentConfig: state.segmentConfig,\n  lineConfig: state.lineConfig,\n  currentVideo: state.currentVideo,\n  currentSegment: state.currentSegment,\n  videos: state.videos\n});\nconst mapDispatchToProps = {};\nexport default connect(mapStateToProps, mapDispatchToProps, null, {\n  forwardRef: true\n})(SegmentAbstract);","map":{"version":3,"names":["React","createRef","connect","CellMeasurer","CellMeasurerCache","List","AutoSizer","SegmentAbstractItem","cache","defaultHeight","fixedWidth","SegmentAbstract","Component","constructor","props","listRef","render","segmentAbstractItems","currentVideo","results","setCurrentSegment","createElement","className","id","ref","r","segmentAbstractBox","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","onResize","clearAll","width","height","style","outline","deferredMeasurementCache","rowCount","length","rowHeight","rowRenderer","index","key","parent","columnIndex","rowIndex","segmentIndex","segment","onUpdate","clear","mapStateToProps","state","ontology","segmentConfig","lineConfig","currentSegment","videos","mapDispatchToProps","forwardRef"],"sources":["/Users/qzheng/Documents/webroot/annotation_tools/src/components/long-audio/components/SegmentAbstract/SegmentAbstract.js"],"sourcesContent":["import React, { createRef } from 'react';\nimport { connect } from 'react-redux';\nimport { CellMeasurer, CellMeasurerCache, List, AutoSizer } from 'react-virtualized';\nimport SegmentAbstractItem from './SegmentAbstractItem/SegmentAbstractItem';\nimport './SegmentAbstract.scss';\n\nconst cache = new CellMeasurerCache({\n  defaultHeight: 72,\n  fixedWidth: true,\n});\n\nclass SegmentAbstract extends React.Component {\n  constructor(props) {\n    super(props);\n    this.listRef = createRef();\n  }\n\n  // TODO: slider bar\n  render() {\n    this.segmentAbstractItems = [];\n    const { currentVideo, results, setCurrentSegment } = this.props;\n    return (\n      // eslint-disable-next-line react/jsx-filename-extension\n      <div\n        className=\"segment-abstract-container\"\n        id=\"segment-abstract-container\"\n        ref={(r) => { this.segmentAbstractBox = r; }}\n      >\n        <AutoSizer onResize={() => cache.clearAll()}>\n          {({ width, height }) => (\n            <List\n              ref={(r) => { this.listRef = r; }}\n              style={{ outline: 'none' }}\n              width={width}\n              height={height}\n              deferredMeasurementCache={cache}\n              rowCount={results[currentVideo].length}\n              rowHeight={cache.rowHeight}\n              rowRenderer={({ index, key, parent, style }) => (\n                <CellMeasurer\n                  cache={cache}\n                  columnIndex={0}\n                  key={key}\n                  parent={parent}\n                  rowIndex={index}\n                >\n                  <div style={style}>\n                    <SegmentAbstractItem\n                      ref={(r) => { this.segmentAbstractItems[index] = r; }}\n                      segmentIndex={index}\n                      segment={results[currentVideo][index]}\n                      setCurrentSegment={setCurrentSegment}\n                      onUpdate={() => cache.clear(index, 0)}\n                    />\n                  </div>\n                </CellMeasurer>\n              )}\n            />\n          )}\n        </AutoSizer>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => ({\n  results: state.results,\n  ontology: state.ontology,\n  segmentConfig: state.segmentConfig,\n  lineConfig: state.lineConfig,\n  currentVideo: state.currentVideo,\n  currentSegment: state.currentSegment,\n  videos: state.videos,\n});\nconst mapDispatchToProps = {\n};\nexport default connect(mapStateToProps, mapDispatchToProps, null, { forwardRef: true })(SegmentAbstract);\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}