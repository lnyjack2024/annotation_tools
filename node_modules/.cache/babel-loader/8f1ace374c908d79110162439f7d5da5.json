{"ast":null,"code":"var _jsxFileName = \"/Users/qzheng/Documents/webroot/annotation_tools/src/components/video-tracking2/components/attributes/GlobalInfo.tsx\";\nimport React, { useState } from 'react';\nimport { observer } from 'mobx-react';\nimport cx from 'classnames';\nimport { Up } from '../../../common/icons';\nimport store from '../../store/RootStore';\nimport i18n from '../../locales';\nconst GlobalInfo = observer(() => {\n  const [collapsed, setCollapsed] = useState(false);\n  const {\n    currentFrame,\n    frameCount,\n    isSingleCamera,\n    cameraCount\n  } = store.frame;\n  const {\n    instances\n  } = store.instance;\n  let instanceCount = 0;\n  let shapesCount = 0;\n  let currentShapesCount = 0;\n  Object.values(instances).forEach(({\n    isEmpty,\n    items\n  }) => {\n    if (!isEmpty) {\n      instanceCount += 1;\n      Object.values(items).forEach(({\n        cameras\n      }) => {\n        Object.values(cameras).forEach(({\n          frames\n        }) => {\n          shapesCount += Object.keys(frames).length;\n          if (frames[currentFrame]) {\n            currentShapesCount += 1;\n          }\n        });\n      });\n    }\n  });\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: cx('collapse-panel', {\n      collapsed\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"collapse-panel-title\",\n    onClick: () => setCollapsed(!collapsed),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"collapse-panel-collapse-icon\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Up, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 11\n    }\n  })), i18n.translate('GLOBAL_INFO')), store.initialized && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"collapse-panel-content\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 11\n    }\n  }, i18n.translate('GLOBAL_INFO_FRAME', {\n    values: {\n      frame: currentFrame + 1,\n      count: frameCount\n    }\n  })), !isSingleCamera && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"value-item\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"value-item-label\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 15\n    }\n  }, i18n.translate('GLOBAL_INFO_CAMERA')), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"value-item-value\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 15\n    }\n  }, i18n.translate('GLOBAL_INFO_CAMERA_COUNT', {\n    values: {\n      count: cameraCount\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"value-item\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"value-item-label\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 13\n    }\n  }, i18n.translate('GLOBAL_INFO_INSTANCE')), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"value-item-value\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 13\n    }\n  }, i18n.translate('GLOBAL_INFO_INSTANCE_COUNT', {\n    values: {\n      count: instanceCount\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"value-item\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"value-item-label\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 13\n    }\n  }, i18n.translate('GLOBAL_INFO_SHAPE')), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"value-item-value\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 13\n    }\n  }, i18n.translate('GLOBAL_INFO_SHAPE_COUNT', {\n    values: {\n      count: shapesCount\n    }\n  }))), frameCount > 1 && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"value-item\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"value-item-label\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 15\n    }\n  }, i18n.translate('GLOBAL_INFO_SHAPE_FRAME')), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"value-item-value\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 15\n    }\n  }, i18n.translate('GLOBAL_INFO_SHAPE_FRAME_COUNT', {\n    values: {\n      count: currentShapesCount\n    }\n  })))));\n});\nexport default GlobalInfo;","map":{"version":3,"names":["React","useState","observer","cx","Up","store","i18n","GlobalInfo","collapsed","setCollapsed","currentFrame","frameCount","isSingleCamera","cameraCount","frame","instances","instance","instanceCount","shapesCount","currentShapesCount","Object","values","forEach","isEmpty","items","cameras","frames","keys","length","createElement","className","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","onClick","translate","initialized","count"],"sources":["/Users/qzheng/Documents/webroot/annotation_tools/src/components/video-tracking2/components/attributes/GlobalInfo.tsx"],"sourcesContent":["import React, { useState } from 'react';\nimport { observer } from 'mobx-react';\nimport cx from 'classnames';\nimport { Up } from '../../../common/icons';\nimport store from '../../store/RootStore';\nimport i18n from '../../locales';\n\nconst GlobalInfo = observer(() => {\n  const [collapsed, setCollapsed] = useState(false);\n\n  const { currentFrame, frameCount, isSingleCamera, cameraCount } = store.frame;\n  const { instances } = store.instance;\n\n  let instanceCount = 0;\n  let shapesCount = 0;\n  let currentShapesCount = 0;\n  Object.values(instances).forEach(({ isEmpty, items }) => {\n    if (!isEmpty) {\n      instanceCount += 1;\n      Object.values(items).forEach(({ cameras }) => {\n        Object.values(cameras).forEach(({ frames }) => {\n          shapesCount += Object.keys(frames).length;\n          if (frames[currentFrame]) {\n            currentShapesCount += 1;\n          }\n        });\n      });\n    }\n  });\n\n  return (\n    <div\n      className={cx('collapse-panel', {\n        collapsed,\n      })}\n    >\n      <div className=\"collapse-panel-title\" onClick={() => setCollapsed(!collapsed)}>\n        <div className=\"collapse-panel-collapse-icon\">\n          <Up />\n        </div>\n        {i18n.translate('GLOBAL_INFO')}\n      </div>\n      {store.initialized && (\n        <div className=\"collapse-panel-content\">\n          <div>{i18n.translate('GLOBAL_INFO_FRAME', { values: { frame: currentFrame + 1, count: frameCount } })}</div>\n          {!isSingleCamera && (\n            <div className=\"value-item\">\n              <div className=\"value-item-label\">{i18n.translate('GLOBAL_INFO_CAMERA')}</div>\n              <div className=\"value-item-value\">{i18n.translate('GLOBAL_INFO_CAMERA_COUNT', { values: { count: cameraCount } })}</div>\n            </div>\n          )}\n          <div className=\"value-item\">\n            <div className=\"value-item-label\">{i18n.translate('GLOBAL_INFO_INSTANCE')}</div>\n            <div className=\"value-item-value\">{i18n.translate('GLOBAL_INFO_INSTANCE_COUNT', { values: { count: instanceCount } })}</div>\n          </div>\n          <div className=\"value-item\">\n            <div className=\"value-item-label\">{i18n.translate('GLOBAL_INFO_SHAPE')}</div>\n            <div className=\"value-item-value\">{i18n.translate('GLOBAL_INFO_SHAPE_COUNT', { values: { count: shapesCount } })}</div>\n          </div>\n          {frameCount > 1 && (\n            <div className=\"value-item\">\n              <div className=\"value-item-label\">{i18n.translate('GLOBAL_INFO_SHAPE_FRAME')}</div>\n              <div className=\"value-item-value\">{i18n.translate('GLOBAL_INFO_SHAPE_FRAME_COUNT', { values: { count: currentShapesCount } })}</div>\n            </div>\n          )}\n        </div>\n      )}\n    </div>\n  );\n});\n\nexport default GlobalInfo;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}