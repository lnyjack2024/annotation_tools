{"ast":null,"code":"import React from'react';import{Select}from'antd';import{UNDEFINED_COLOR}from'./AnnotationForm';class AdvertisementNameSelect extends React.Component{shouldComponentUpdate(prevProps){if(prevProps.advertisementName===this.props.advertisementName&&prevProps.item===this.props.item&&prevProps.index===this.props.index&&prevProps.tempOption===this.props.tempOption&&prevProps.historySelect===this.props.historySelect){return false;}return true;}render(){const{item,advertisementName,tempOption,advertisementNameMap,index,historySelect,disabled}=this.props;return/*#__PURE__*/React.createElement(Select,{showSearch:true,disabled:disabled,className:\"advertisement-attribute-select\",optionFilterProp:\"children\",getPopupContainer:()=>document.getElementById('root'),placeholder:\"\\u8BF7\\u9009\\u62E9\\u8BC6\\u522B\\u7ED3\\u679C\",value:item.name,onChange:e=>this.props.handleSelectChange(e,'name',item.key),onSearch:e=>this.props.handleSelectSearch(e,'name',item.key),onFocus:e=>window.disableAdvertisementHotKeys=true,onBlur:e=>{this.props.handleSelectBlur(e,'name',item.key);window.disableAdvertisementHotKeys=false;}},historySelect.length?/*#__PURE__*/React.createElement(Select.OptGroup,{label:\"history selected\"},historySelect.map(name=>/*#__PURE__*/React.createElement(Select.Option,{key:name,value:name},/*#__PURE__*/React.createElement(\"div\",{className:\"advertisement-color-tag\",style:{background:advertisementNameMap.get(name)||UNDEFINED_COLOR}}),name))):null,/*#__PURE__*/React.createElement(Select.OptGroup,{label:\"selection\"},advertisementName.map(name=>{if(historySelect.indexOf(name.value)===-1){return/*#__PURE__*/React.createElement(Select.Option,{value:name.value,key:name.value},/*#__PURE__*/React.createElement(\"div\",{className:\"advertisement-color-tag\",style:{background:advertisementNameMap.get(name.value)||UNDEFINED_COLOR}}),name.value);}return null;})));}}export default AdvertisementNameSelect;","map":{"version":3,"names":["React","Select","UNDEFINED_COLOR","AdvertisementNameSelect","Component","shouldComponentUpdate","prevProps","advertisementName","props","item","index","tempOption","historySelect","render","advertisementNameMap","disabled","createElement","showSearch","className","optionFilterProp","getPopupContainer","document","getElementById","placeholder","value","name","onChange","e","handleSelectChange","key","onSearch","handleSelectSearch","onFocus","window","disableAdvertisementHotKeys","onBlur","handleSelectBlur","length","OptGroup","label","map","Option","style","background","get","indexOf"],"sources":["/Users/qzheng/Documents/webroot/annotation_tools/src/components/advertisement-annotation/AdvertisementNameSelect.jsx"],"sourcesContent":["import React from 'react';\nimport { Select } from 'antd';\nimport { UNDEFINED_COLOR } from './AnnotationForm';\n\nclass AdvertisementNameSelect extends React.Component {\n  shouldComponentUpdate(prevProps) {\n    if (prevProps.advertisementName === this.props.advertisementName &&\n        prevProps.item === this.props.item &&\n        prevProps.index === this.props.index &&\n        prevProps.tempOption === this.props.tempOption &&\n        prevProps.historySelect === this.props.historySelect) {\n      return false;\n    }\n    return true;\n  }\n\n  render() {\n    const {\n      item,\n      advertisementName,\n      tempOption,\n      advertisementNameMap,\n      index,\n      historySelect,\n      disabled,\n    } = this.props;\n    return (\n      <Select\n        showSearch\n        disabled={disabled}\n        className=\"advertisement-attribute-select\"\n        optionFilterProp=\"children\"\n        getPopupContainer={() => document.getElementById('root')}\n        placeholder=\"请选择识别结果\"\n        value={item.name}\n        onChange={(e) => this.props.handleSelectChange(e, 'name', item.key)}\n        onSearch={(e) => this.props.handleSelectSearch(e, 'name', item.key)}\n        onFocus={(e) => window.disableAdvertisementHotKeys = true}\n        onBlur={(e) => {\n          this.props.handleSelectBlur(e, 'name', item.key);\n          window.disableAdvertisementHotKeys = false;\n        }}\n      >\n        {\n          historySelect.length ? (\n            <Select.OptGroup\n              label=\"history selected\"\n            >\n              {\n              historySelect.map((name) => (\n                <Select.Option key={name} value={name}>\n                  <div className=\"advertisement-color-tag\" style={{ background: advertisementNameMap.get(name) || UNDEFINED_COLOR }} />\n                  {name}\n                </Select.Option>\n              ))\n            }\n            </Select.OptGroup>\n          )\n            : null\n        }\n        <Select.OptGroup\n          label=\"selection\"\n        >\n          {\n            advertisementName.map((name) => {\n              if (historySelect.indexOf(name.value) === -1) {\n                return (\n                  <Select.Option value={name.value} key={name.value}>\n                    <div className=\"advertisement-color-tag\" style={{ background: advertisementNameMap.get(name.value) || UNDEFINED_COLOR }} />\n                    {name.value}\n                  </Select.Option>\n                );\n              }\n              return null;\n            })\n          }\n          {/*{\n            tempOption == null || advertisementNameMap.has(tempOption) || tempOption === ''\n              ? null\n              : (\n                <Select.Option value={tempOption}>\n                  <div className=\"advertisement-color-tag\" style={{ background: UNDEFINED_COLOR }} />\n                  {tempOption}\n                </Select.Option>\n              )\n          }*/}\n        </Select.OptGroup>\n      </Select>\n    );\n  }\n}\n\nexport default AdvertisementNameSelect;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}