{"ast":null,"code":"export let Tool = /*#__PURE__*/function (Tool) {\n  Tool[\"RECTANGLE\"] = \"rectangle\";\n  Tool[\"FOUR_DOTS_RECTANGLE\"] = \"four-dots-rectangle\";\n  Tool[\"CENTERLINE_RECTANGLE\"] = \"centerline-rectangle\";\n  Tool[\"ELLIPSE\"] = \"ellipse\";\n  Tool[\"CIRCLE\"] = \"circle\";\n  Tool[\"POLYGON\"] = \"polygon\";\n  Tool[\"LINE\"] = \"line\";\n  Tool[\"DOT\"] = \"dot\";\n  Tool[\"CUBOID\"] = \"cuboid\";\n  Tool[\"LSHAPE\"] = \"l-shape\";\n  Tool[\"OCR\"] = \"ocr\";\n  Tool[\"OCR_POLYGON\"] = \"ocr-polygon\";\n  Tool[\"GRID\"] = \"grid\";\n  Tool[\"RECOGNITION\"] = \"recognition\";\n  Tool[\"ARROW\"] = \"arrow\";\n  Tool[\"TWO_SIDES_CUBOID\"] = \"two-sides-cuboid\";\n  Tool[\"FORMULA_POLYGON\"] = \"formula-polygon\";\n  return Tool;\n}({});\nexport let LabelItem = /*#__PURE__*/function (LabelItem) {\n  LabelItem[\"CATEGORY\"] = \"category\";\n  // instance category\n  LabelItem[\"NUMBER\"] = \"number\";\n  // instance number\n  LabelItem[\"ATTRIBUTE_KEYS\"] = \"attribute-keys\";\n  // instance attribute key\n  LabelItem[\"ATTRIBUTE_VALUES\"] = \"attribute-values\";\n  // instance attribute value\n  LabelItem[\"ITEM_NAME\"] = \"item-name\";\n  // instance item name\n  LabelItem[\"ITEM_NUMBER\"] = \"item-number\";\n  // instance item number\n  LabelItem[\"ITEM_ATTRIBUTE_KEYS\"] = \"item-attribute-keys\";\n  // instance item attribute key\n  LabelItem[\"ITEM_ATTRIBUTE_VALUES\"] = \"item-attribute-values\";\n  // instance item attribute value\n  LabelItem[\"TOOL_NAME\"] = \"tool-name\"; // shape type\n  return LabelItem;\n}({});\nexport let LabelStyle = /*#__PURE__*/function (LabelStyle) {\n  LabelStyle[\"DEFAULT\"] = \"default\";\n  LabelStyle[\"TRANSPARENT\"] = \"transparent\";\n  return LabelStyle;\n}({});\nexport let LabelFormat = /*#__PURE__*/function (LabelFormat) {\n  LabelFormat[\"DEFAULT\"] = \"default\";\n  LabelFormat[\"COMPRESSED\"] = \"compressed\";\n  return LabelFormat;\n}({});\nexport let ShapeInfoItem = /*#__PURE__*/function (ShapeInfoItem) {\n  ShapeInfoItem[\"AREA\"] = \"area\";\n  return ShapeInfoItem;\n}({});\nexport let ValidationType = /*#__PURE__*/function (ValidationType) {\n  ValidationType[\"ATTR_EMPTY\"] = \"attr_empty\";\n  ValidationType[\"INSTANCE_ITEM_COUNT\"] = \"instance_item_count\";\n  ValidationType[\"INVALID_SHAPE\"] = \"invalid_shape\";\n  ValidationType[\"OUT_OF_BOUNDARY\"] = \"out_of_boundary\";\n  ValidationType[\"CUSTOM\"] = \"custom\";\n  ValidationType[\"EMPTY_AREA\"] = \"empty_area\";\n  ValidationType[\"FULLY_COVERED\"] = \"fully_covered\";\n  ValidationType[\"FRAME_VALID_ANNOTATE\"] = \"frame_valid_annotate\";\n  return ValidationType;\n}({});\nexport let ViewMode = /*#__PURE__*/function (ViewMode) {\n  ViewMode[\"DEFAULT\"] = \"default\";\n  ViewMode[\"GRID\"] = \"grid\";\n  return ViewMode;\n}({});\nexport let ReviewMode = /*#__PURE__*/function (ReviewMode) {\n  ReviewMode[\"LABELING\"] = \"labeling\";\n  ReviewMode[\"REVIEW\"] = \"review\";\n  return ReviewMode;\n}({});\nexport let ProjectMode = /*#__PURE__*/function (ProjectMode) {\n  ProjectMode[\"NONE\"] = \"none\";\n  ProjectMode[\"REAL_TIME\"] = \"real-time\";\n  ProjectMode[\"MANUAL\"] = \"manual\";\n  return ProjectMode;\n}({});\nexport let AttributesMode = /*#__PURE__*/function (AttributesMode) {\n  AttributesMode[\"HIDE\"] = \"hide\";\n  AttributesMode[\"HOVER\"] = \"hover\";\n  AttributesMode[\"ALWAYS\"] = \"always\";\n  return AttributesMode;\n}({});\nexport let ReviewResult = /*#__PURE__*/function (ReviewResult) {\n  ReviewResult[\"APPROVE\"] = \"approve\";\n  ReviewResult[\"REJECT\"] = \"reject\";\n  ReviewResult[\"SUSPEND\"] = \"suspend\";\n  return ReviewResult;\n}({});","map":{"version":3,"names":["Tool","LabelItem","LabelStyle","LabelFormat","ShapeInfoItem","ValidationType","ViewMode","ReviewMode","ProjectMode","AttributesMode","ReviewResult"],"sources":["/Users/qzheng/Documents/webroot/annotation_tools/src/components/video-tracking2/types.ts"],"sourcesContent":["import { Application } from 'pixi.js';\nimport { Field, Condition, Effect, Rule, FieldControlType, FieldOption } from '@appen/easy-form/es/types';\nimport { ShapeType, ShapeData } from '../common/shapes/types';\nimport JobProxy from '../../libs/JobProxy';\n\nexport enum Tool {\n  RECTANGLE = 'rectangle',\n  FOUR_DOTS_RECTANGLE = 'four-dots-rectangle',\n  CENTERLINE_RECTANGLE = 'centerline-rectangle',\n  ELLIPSE = 'ellipse',\n  CIRCLE = 'circle',\n  POLYGON = 'polygon',\n  LINE = 'line',\n  DOT = 'dot',\n  CUBOID = 'cuboid',\n  LSHAPE = 'l-shape',\n  OCR = 'ocr',\n  OCR_POLYGON = 'ocr-polygon',\n  GRID = 'grid',\n  RECOGNITION = 'recognition',\n  ARROW = 'arrow',\n  TWO_SIDES_CUBOID = 'two-sides-cuboid',\n  FORMULA_POLYGON = 'formula-polygon',\n}\n\nexport interface Payload {\n  locale?: string;\n  issue_types?: string;\n  tools?: Tool[]; // legacy data\n  ontology: Ontology[];\n  base_url?: string;\n  frames?: string | string[]; // for single camera\n  cameras?: { // for multiple camera\n    camera: string;\n    frames: string | string[];\n  }[];\n  label_config?: string; // legacy data\n  frame_config?: string;\n  shape_label_visibility?: string | boolean;\n  label_mode?: string;\n  label_item?: string;\n  label_style?: string;\n  label_format?: string;\n  point_label_mode?: string;\n  point_label_item?: string;\n  shape_info_item?: string;\n  is_fill?: string | boolean; // is default shape fill\n  fill_opacity?: string | number; // default shape fill opacity\n  border_opacity?: string | number; // default shape border opacity\n  border_width?: string | number; // default shape border width\n  dot_size?: string | number; // default dot shape size\n  show_vertex?: string | boolean; // default show shape vertexes\n  show_vertex_order?: string | boolean; // default show shape vertex's order\n  vertex_size?: string | number; // default shape vertex size\n  vertex_start?: string | number; // default shape vertex start number\n  measurement_box?: string;\n  auxiliary_lines?: string;\n  ocr_tag_group?: string;\n  auto_ocr?: string | boolean;\n  auto_interpolation?: string | boolean;\n  auto_tracking?: string | boolean;\n  boundary_check?: string | boolean;\n  min_area?: string | number;\n  view_rotatable?: string | boolean;\n  draggable?: string | boolean;\n  rotatable?: string | boolean;\n  auto_snap?: string | boolean;\n  custom_check?: string;\n  empty_area_check?: string | boolean;\n  fully_covered_check?: string | boolean;\n  frame_valid_annotate_check?: string | boolean;\n  submit_check?: string | boolean;\n  hotkeys?: string;\n  relationships?: string;\n  relationship_mode?: string;\n  project_mode?: string;\n  app: Application;\n  jobProxy: JobProxy;\n}\n\nexport interface Styles {\n  fill_color?: string;\n  point_color?: string;\n  point_type?: string;\n  edge_color?: string;\n  edge_type?: string;\n  edge_bold?: boolean | string;\n  points_color?: string[];\n  points_type?: string[];\n  edges_color?: string[];\n  edges_type?: string[];\n  edges_bold?: boolean[] | string[];\n}\n\nexport interface Ontology {\n  class_name: string;\n  display_name?: string;\n  display_color?: string;\n  label_config?: string;\n  children?: {\n    name: string;\n    display_name?: string;\n    display_color?: string;\n    count?: number | null;\n    min_count?: number | null;\n    max_count?: number | null;\n    label_config?: string;\n    label_config_point?: string;\n    label_config_groups?: ({\n      attributes: any;\n    } & Styles)[];\n    label_config_point_groups?: ({\n      attributes: any;\n    } & Styles)[];\n    // legacy tool config\n    type?: string;\n    edges?: number | null;\n    // current tool config\n    tools?: ({\n      type: string;\n      edges?: number | null;\n      config?: any;\n    } & Styles)[];\n  }[];\n}\n\nexport interface Category {\n  className: string;\n  displayName: string;\n  displayColor: string;\n  labelConfig?: LabelConfig;\n  children: CategoryItem[];\n}\n\nexport interface CategoryItem {\n  name: string;\n  displayName: string;\n  displayColor: string;\n  count?: number;\n  minCount?: number;\n  maxCount?: number;\n  labelConfig?: LabelConfig;\n  pointLabelConfig?: LabelConfig;\n  labelConfigGroups?: ({\n    attributes: any;\n  } & ToolStyles)[];\n  pointLabelConfigGroups?: ({\n    attributes: any;\n  } & ToolStyles)[];\n  tools: ToolItem[];\n  edges?: number;\n}\n\nexport interface ToolItem extends ToolStyles {\n  type: Tool;\n  edges?: number;\n  config?: ToolConfig;\n}\n\nexport interface ToolStyles {\n  fillColor?: string;\n  pointColor?: string;\n  pointType?: string;\n  edgeColor?: string;\n  edgeType?: string;\n  edgeBold?: boolean;\n  pointsColor?: string[];\n  pointsType?: string[];\n  edgesColor?: string[];\n  edgesType?: string[];\n  edgesBold?: boolean[];\n}\n\nexport interface RectangleConfig {\n  tolerance?: {\n    width: number;\n    height: number;\n    min?: number;\n  }\n}\nexport type ToolConfig = RectangleConfig;\n\nexport interface LabelConfig {\n  fields: Field[];\n  conditions?: Condition[];\n  effects?: Effect[];\n  rules?: Rule[];\n}\n\nexport interface FieldConfig {\n  name: string;\n  type: FieldControlType;\n  label?: string;\n  options?: FieldOption[];\n}\n\nexport enum LabelItem {\n  CATEGORY = 'category', // instance category\n  NUMBER = 'number', // instance number\n  ATTRIBUTE_KEYS = 'attribute-keys', // instance attribute key\n  ATTRIBUTE_VALUES = 'attribute-values', // instance attribute value\n  ITEM_NAME = 'item-name', // instance item name\n  ITEM_NUMBER = 'item-number', // instance item number\n  ITEM_ATTRIBUTE_KEYS = 'item-attribute-keys', // instance item attribute key\n  ITEM_ATTRIBUTE_VALUES = 'item-attribute-values', // instance item attribute value\n  TOOL_NAME = 'tool-name', // shape type\n}\n\nexport enum LabelStyle {\n  DEFAULT = 'default',\n  TRANSPARENT = 'transparent'\n}\n\nexport enum LabelFormat {\n  DEFAULT = 'default',\n  COMPRESSED = 'compressed',\n}\n\nexport enum ShapeInfoItem {\n  AREA = 'area',\n}\n\nexport interface Instance {\n  id: string;\n  category: string;\n  categoryName?: string;\n  categoryColor?: string;\n  number: number;\n  attributes?: any;\n  children: InstanceItem[];\n}\n\nexport interface InstanceItem {\n  id: string;\n  name: string;\n  number: number;\n  cameras: CameraData[];\n}\n\nexport interface CameraData {\n  camera: string;\n  frames: FrameData[];\n}\n\nexport interface FrameData {\n  frameIndex: number;\n  isKeyFrame: boolean;\n  shapeType: ShapeType;\n  shape: ShapeData;\n  order?: number;\n  attributes?: any;\n  isOCR?: boolean;\n  OCRText?: string;\n  isFormula?: boolean;\n  formulaText?: string;\n}\n\nexport enum ValidationType {\n  ATTR_EMPTY = 'attr_empty',\n  INSTANCE_ITEM_COUNT = 'instance_item_count',\n  INVALID_SHAPE = 'invalid_shape',\n  OUT_OF_BOUNDARY = 'out_of_boundary',\n  CUSTOM = 'custom',\n  EMPTY_AREA = 'empty_area',\n  FULLY_COVERED = 'fully_covered',\n  FRAME_VALID_ANNOTATE = 'frame_valid_annotate',\n}\n\nexport interface ValidationResult {\n  type: ValidationType;\n  id: string;\n  message: string;\n  frames: number[];\n  info?: {\n    [key: string]: any;\n  };\n  blockSubmit?: boolean;\n}\n\nexport interface HotkeyItem {\n  key: string;\n  affected: string;\n  type: string;\n  color?: string;\n  attributes: {\n    [attr: string]: any;\n  };\n}\n\nexport enum ViewMode {\n  DEFAULT = 'default',\n  GRID = 'grid',\n}\n\nexport enum ReviewMode {\n  LABELING = 'labeling',\n  REVIEW = 'review',\n}\n\nexport enum ProjectMode {\n  NONE = 'none',\n  REAL_TIME = 'real-time',\n  MANUAL = 'manual',\n}\n\nexport enum AttributesMode {\n  HIDE = 'hide',\n  HOVER = 'hover',\n  ALWAYS = 'always',\n}\n\nexport interface TagProps {\n  name: string;\n  prefix?: string;\n  suffix?: string;\n  shortcut?: string;\n  text?: string;\n}\n\nexport interface TagGroupProps {\n  name: string;\n  type: string;\n  tags: TagProps[];\n}\n\nexport enum ReviewResult {\n  APPROVE = 'approve',\n  REJECT = 'reject',\n  SUSPEND = 'suspend',\n}\n\nexport interface Summary {\n  ids: string[]\n  category: string;\n  shape?: Tool;\n  count: number;\n  distinctCount: number;\n}\n\nexport interface Element {\n  id: string;\n  shape?: Tool;\n  frame: number;\n  category: string;\n  label?: { [key: string]: string };\n}\n\nexport interface Statistic {\n  elements: Element[];\n  categories: string[];\n  shapes: Set<any>;\n  summary: { [key: string]: Summary };\n  frameCount: number;\n  validFrames: Set<any>;\n  annotatedFrames: Set<any>;\n}\n\nexport interface Review {\n  id: string;\n  camera: string;\n  frameIndex: number;\n  result: ReviewResult;\n  type?: string[];\n  comment?: string;\n  instanceId?: string; // related instance\n  instanceItemId?: string; // related instance item\n  position: {\n    x: number;\n    y: number;\n  };\n}\n\nexport interface FrameAttributes {\n  frameIndex: number;\n  imageUrl?: string;\n  imageWidth?: number;\n  imageHeight?: number;\n  valid: boolean;\n  rotation: number;\n  attributes?: any;\n}\n\nexport interface CameraFrameAttributes {\n  camera: string;\n  frames: FrameAttributes[];\n}\n\nexport interface RelationshipOption {\n  name: string;\n  color?: string;\n  labelConfig?: string;\n}\n\nexport interface RelationshipItem {\n  instance: string;\n  child: string;\n  camera: string;\n}\n\nexport interface RelationshipFrame {\n  frameIndex: number;\n  attributes?: any;\n}\n\nexport interface Relationship {\n  id: string;\n  from: RelationshipItem;\n  to: RelationshipItem;\n  relationship: string;\n  frames?: RelationshipFrame[];\n}\n\nexport interface AuxiliaryLineConfig {\n  positionType: 'percentage' | 'px';\n  positionValue: number;\n  color: number;\n}\n\nexport interface AuxiliaryLines {\n  left: AuxiliaryLineConfig[];\n  top: AuxiliaryLineConfig[];\n  right: AuxiliaryLineConfig[];\n  bottom: AuxiliaryLineConfig[];\n}\n\nexport type PureMatrix3 = [\n  [number, number, number],\n  [number, number, number],\n  [number, number, number],\n];\n"],"mappings":"AAKA,WAAYA,IAAI,0BAAJA,IAAI;EAAJA,IAAI;EAAJA,IAAI;EAAJA,IAAI;EAAJA,IAAI;EAAJA,IAAI;EAAJA,IAAI;EAAJA,IAAI;EAAJA,IAAI;EAAJA,IAAI;EAAJA,IAAI;EAAJA,IAAI;EAAJA,IAAI;EAAJA,IAAI;EAAJA,IAAI;EAAJA,IAAI;EAAJA,IAAI;EAAJA,IAAI;EAAA,OAAJA,IAAI;AAAA;AA+LhB,WAAYC,SAAS,0BAATA,SAAS;EAATA,SAAS;EACI;EADbA,SAAS;EAEA;EAFTA,SAAS;EAGgB;EAHzBA,SAAS;EAIoB;EAJ7BA,SAAS;EAKM;EALfA,SAAS;EAMU;EANnBA,SAAS;EAO0B;EAPnCA,SAAS;EAQ8B;EARvCA,SAAS,6BASM;EAAA,OATfA,SAAS;AAAA;AAYrB,WAAYC,UAAU,0BAAVA,UAAU;EAAVA,UAAU;EAAVA,UAAU;EAAA,OAAVA,UAAU;AAAA;AAKtB,WAAYC,WAAW,0BAAXA,WAAW;EAAXA,WAAW;EAAXA,WAAW;EAAA,OAAXA,WAAW;AAAA;AAKvB,WAAYC,aAAa,0BAAbA,aAAa;EAAbA,aAAa;EAAA,OAAbA,aAAa;AAAA;AAuCzB,WAAYC,cAAc,0BAAdA,cAAc;EAAdA,cAAc;EAAdA,cAAc;EAAdA,cAAc;EAAdA,cAAc;EAAdA,cAAc;EAAdA,cAAc;EAAdA,cAAc;EAAdA,cAAc;EAAA,OAAdA,cAAc;AAAA;AAgC1B,WAAYC,QAAQ,0BAARA,QAAQ;EAARA,QAAQ;EAARA,QAAQ;EAAA,OAARA,QAAQ;AAAA;AAKpB,WAAYC,UAAU,0BAAVA,UAAU;EAAVA,UAAU;EAAVA,UAAU;EAAA,OAAVA,UAAU;AAAA;AAKtB,WAAYC,WAAW,0BAAXA,WAAW;EAAXA,WAAW;EAAXA,WAAW;EAAXA,WAAW;EAAA,OAAXA,WAAW;AAAA;AAMvB,WAAYC,cAAc,0BAAdA,cAAc;EAAdA,cAAc;EAAdA,cAAc;EAAdA,cAAc;EAAA,OAAdA,cAAc;AAAA;AAoB1B,WAAYC,YAAY,0BAAZA,YAAY;EAAZA,YAAY;EAAZA,YAAY;EAAZA,YAAY;EAAA,OAAZA,YAAY;AAAA","ignoreList":[]},"metadata":{},"sourceType":"module"}