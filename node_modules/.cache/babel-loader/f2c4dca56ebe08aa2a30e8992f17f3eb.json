{"ast":null,"code":"import React from'react';import{InputNumber}from'antd';import'./PlaySettingInput.scss';import{connect}from'react-redux';import{debounce}from'lodash';import{setVideoSpeed,setVideoZoom}from'../../../redux/action';import{translate}from'../../../constants';const PlaySettingInput=props=>{const{currentVideo,videos}=props;const handleInputChange=(e,type)=>{switch(type){case'speed':if(parseFloat(videos[currentVideo].speed)===parseFloat(e))break;props.setVideoSpeed({speed:e});break;case'zoom':if(parseFloat(videos[currentVideo].zoom)===parseFloat(e))break;props.setVideoZoom({zoom:e});break;default:break;}};const handleInputFocus=e=>{e.target.blur();};return/*#__PURE__*/React.createElement(\"div\",{className:\"play-setting-container\"},/*#__PURE__*/React.createElement(\"span\",{className:\"play-setting-title\"},translate('speed'),' ',\":\"),/*#__PURE__*/React.createElement(InputNumber,{className:\"play-setting\",value:videos[currentVideo].speed,min:0.25,max:4,step:0.25,type:\"number\",onChange:e=>handleInputChange(e,'speed'),onFocus:()=>{window.disableLongAudioHotKeys=true;},onBlur:()=>{window.disableLongAudioHotKeys=false;}}),/*#__PURE__*/React.createElement(\"span\",{className:\"play-setting-title\"},\"\".concat(translate('zoom'),\":\")),/*#__PURE__*/React.createElement(InputNumber,{className:\"play-setting\",value:videos[currentVideo].zoom,min:1,max:1000,step:1,type:\"number\",onChange:debounce(e=>handleInputChange(e,'zoom'),50),onFocus:()=>{window.disableLongAudioHotKeys=true;},onBlur:()=>{window.disableLongAudioHotKeys=false;}}));};const mapStateToProps=state=>({videos:state.videos,currentVideo:state.currentVideo,currentSegment:state.currentSegment});const mapDispatchToProps={setVideoSpeed,setVideoZoom};export default connect(mapStateToProps,mapDispatchToProps)(PlaySettingInput);","map":{"version":3,"names":["React","InputNumber","connect","debounce","setVideoSpeed","setVideoZoom","translate","PlaySettingInput","props","currentVideo","videos","handleInputChange","e","type","parseFloat","speed","zoom","handleInputFocus","target","blur","createElement","className","value","min","max","step","onChange","onFocus","window","disableLongAudioHotKeys","onBlur","concat","mapStateToProps","state","currentSegment","mapDispatchToProps"],"sources":["/Users/qzheng/Documents/webroot/annotation_tools/src/components/long-audio/components/AudioComp/PlaySettingInput/PlaySettingInput.jsx"],"sourcesContent":["import React from 'react';\nimport { InputNumber } from 'antd';\nimport './PlaySettingInput.scss';\nimport { connect } from 'react-redux';\nimport { debounce } from 'lodash';\nimport { setVideoSpeed, setVideoZoom } from '../../../redux/action';\nimport { translate } from '../../../constants';\n\nconst PlaySettingInput = ((props) => {\n  const { currentVideo, videos } = props;\n  const handleInputChange = (e, type) => {\n    switch (type) {\n      case 'speed':\n        if (parseFloat(videos[currentVideo].speed) === parseFloat(e)) break;\n        props.setVideoSpeed({ speed: e });\n        break;\n      case 'zoom':\n        if (parseFloat(videos[currentVideo].zoom) === parseFloat(e)) break;\n        props.setVideoZoom({ zoom: e });\n        break;\n      default:\n        break;\n    }\n  };\n  const handleInputFocus = (e) => {\n    e.target.blur();\n  };\n\n  return (\n    <div className=\"play-setting-container\">\n      <span className=\"play-setting-title\">\n        {translate('speed')}\n        {' '}\n        :\n      </span>\n      <InputNumber\n        className=\"play-setting\"\n        value={videos[currentVideo].speed}\n        min={0.25}\n        max={4}\n        step={0.25}\n        type=\"number\"\n        onChange={(e) => handleInputChange(e, 'speed')}\n        onFocus={() => { window.disableLongAudioHotKeys = true; }}\n        onBlur={() => { window.disableLongAudioHotKeys = false; }}\n      />\n      <span className=\"play-setting-title\">\n        {`${translate('zoom')}:`}\n      </span>\n      <InputNumber\n        className=\"play-setting\"\n        value={videos[currentVideo].zoom}\n        min={1}\n        max={1000}\n        step={1}\n        type=\"number\"\n        onChange={debounce((e) => handleInputChange(e, 'zoom'), 50)}\n        onFocus={() => { window.disableLongAudioHotKeys = true; }}\n        onBlur={() => { window.disableLongAudioHotKeys = false; }}\n      />\n    </div>\n  );\n});\n\nconst mapStateToProps = (state) => ({\n  videos: state.videos,\n  currentVideo: state.currentVideo,\n  currentSegment: state.currentSegment,\n});\nconst mapDispatchToProps = {\n  setVideoSpeed,\n  setVideoZoom,\n};\nexport default connect(mapStateToProps, mapDispatchToProps)(PlaySettingInput);\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}