{"ast":null,"code":"var _jsxFileName = \"/Users/qzheng/Documents/webroot/annotation_tools/src/components/audio-annotation/index.js\";\nimport React from 'react';\nimport WaveSurfer from 'wavesurfer.js';\nimport TimelinePlugin from 'wavesurfer.js/dist/plugin/wavesurfer.timeline.min.js';\nimport RegionsPlugin from 'wavesurfer.js/dist/plugin/wavesurfer.regions.min.js';\nimport hexToRgba from 'hex-to-rgba';\nimport { IoMdPlay, IoMdRewind, IoMdFastforward, IoMdPause } from 'react-icons/io';\nimport { InputNumber } from 'antd';\nimport { store } from '../../utils';\nimport './audio.css';\nconst toolName = 'audio-annotation';\nconst defaultColor = '#5ceee4';\nconst defaultAlpha = 0.45;\nexport default class AudioAnnotationApp extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      isPlaying: false,\n      isEditing: false,\n      summary: '',\n      category: '',\n      start: '',\n      end: '',\n      note: ''\n    };\n    this.wavesurfer = null;\n    this.workingRegion = null;\n    this.ontologyColors = new Map([...(this.props.ontology && Array.isArray(this.props.ontology) && this.props.ontology.map(i => [i.class_name, i.display_color]))]);\n    this.playPause = e => {\n      e.preventDefault();\n      this.setState({\n        isPlaying: !this.state.isPlaying\n      });\n      this.wavesurfer.playPause();\n    };\n    this.skipBackward = e => {\n      e.preventDefault();\n      this.wavesurfer.skipBackward();\n    };\n    this.skipForward = e => {\n      e.preventDefault();\n      this.wavesurfer.skipForward();\n    };\n    this.showSummary = region => {\n      this.setState({\n        summary: region.data.note\n      });\n    };\n    this.hideSummary = () => {\n      this.setState({\n        summary: ''\n      });\n    };\n    this.onRegionClick = (region, e) => {\n      e.stopPropagation();\n      // Play on click, loop on shift click\n      e.shiftKey ? region.playLoop() : region.play();\n      this.onRegionEdit(region);\n    };\n    this.onRegionEdit = region => {\n      this.workingRegion = region;\n      this.setState({\n        isEditing: true,\n        category: (region.data || {}).category || '',\n        start: Math.round(region.start * 10) / 10,\n        end: Math.round(region.end * 10) / 10,\n        note: (region.data || {}).note || ''\n      });\n    };\n    this.onRegionUpdate = region => {\n      this.saveRegions();\n      if (this.workingRegion) {\n        this.setState({\n          start: Math.round(region.start * 10) / 10,\n          end: Math.round(region.end * 10) / 10\n        });\n      }\n    };\n    this.handleCategorySelect = (category, e) => {\n      e.preventDefault();\n      this.setState({\n        category: category.class_name\n      });\n\n      // save to region\n      this.workingRegion.update({\n        color: hexToRgba(category.display_color, defaultAlpha),\n        data: {\n          note: this.state.note,\n          category: category.class_name\n        }\n      });\n      this.saveRegions();\n    };\n    this.handleRegionDelete = e => {\n      e.preventDefault();\n      this.workingRegion.remove();\n      this.workingRegion = null;\n      this.saveRegions();\n      this.setState({\n        isEditing: false\n      });\n    };\n    this.handleRegionSave = e => {\n      e.preventDefault();\n      const {\n        category,\n        start,\n        end,\n        note\n      } = this.state;\n      this.workingRegion.update({\n        start,\n        end,\n        data: {\n          category,\n          note\n        }\n      });\n      this.workingRegion = null;\n      this.saveRegions();\n      this.setState({\n        isEditing: false\n      });\n    };\n    this.setSpeed = n => {\n      const rate = this.speedFormula(n);\n      this.wavesurfer.setPlaybackRate(rate);\n    };\n  }\n  componentDidMount() {\n    this.wavesurfer = WaveSurfer.create({\n      container: '#wave',\n      pixelRatio: 1,\n      scrollParent: true,\n      normalize: true,\n      minimap: true,\n      backend: 'MediaElement',\n      backgroundColor: '#504D66',\n      waveColor: '#27253c',\n      progressColor: '#F7963D',\n      cursorColor: '#F7963D',\n      plugins: [RegionsPlugin.create(), TimelinePlugin.create({\n        container: '#wave-timeline',\n        primaryColor: '#EDEDEF',\n        secondaryColor: '#DCDBE0',\n        primaryFontColor: '#EDEDEF',\n        secondaryFontColor: '#DCDBE0'\n      })]\n    });\n    this.wavesurfer.load(this.props.audio);\n    this.wavesurfer.on('ready', () => {\n      this.wavesurfer.enableDragSelection({\n        color: hexToRgba(defaultColor, defaultAlpha)\n      });\n      const {\n        audio,\n        mode,\n        unit_id\n      } = this.props;\n      const unitId = unit_id;\n      const isCacheValid = this.isCacheValid(audio, mode, unitId);\n      const storedRegions = store.getStorage(toolName, 'regions');\n      if (isCacheValid && storedRegions) {\n        this.loadRegions(storedRegions);\n      } else {\n        const annotation = this.props.review_from;\n        if (annotation && annotation.length > 0) {\n          this.loadRegions(annotation);\n          this.saveRegions();\n        }\n      }\n      store.setStorage(toolName, 'baseInfo', {\n        audio,\n        mode,\n        unitId\n      });\n    });\n\n    // bind actions\n    this.wavesurfer.on('play', () => {\n      this.setState({\n        isPlaying: true\n      });\n    });\n    this.wavesurfer.on('pause', () => {\n      this.setState({\n        isPlaying: false\n      });\n    });\n    this.wavesurfer.on('region-in', this.showSummary);\n    this.wavesurfer.on('region-out', this.hideSummary);\n    this.wavesurfer.on('region-click', this.onRegionClick);\n    this.wavesurfer.on('region-update-end', this.onRegionEdit);\n    this.wavesurfer.on('region-updated', this.onRegionUpdate);\n    document.addEventListener('keydown', e => {\n      const {\n        keyCode\n      } = e;\n      switch (keyCode) {\n        case 32:\n          e.preventDefault();\n          this.wavesurfer.playPause();\n          break;\n        case 37:\n          // left arrow\n          this.skipBackward(e);\n          break;\n        case 39:\n          // right arrow\n          this.skipForward(e);\n          break;\n        default:\n      }\n    });\n  }\n  exportResult() {\n    return store.getStorage(toolName, 'regions');\n  }\n  cleanData() {\n    store.removeStorage(toolName, 'regions');\n  }\n  isCacheValid(audio, mode, unitId) {\n    try {\n      const baseInfo = store.getStorage(toolName, 'baseInfo');\n      if (baseInfo && audio === baseInfo.audio && mode === baseInfo.mode && unitId === baseInfo.unitId) {\n        return true;\n      }\n    } catch (e) {\n      // failed to parse baseInfo\n    }\n    return false;\n  }\n  loadRegions(regions) {\n    regions.forEach(region => {\n      const regionColor = this.ontologyColors.get(region.data.category) || defaultColor;\n      region.color = hexToRgba(regionColor, defaultAlpha);\n      this.wavesurfer.addRegion(region);\n    });\n  }\n  saveRegions() {\n    const regions = Object.keys(this.wavesurfer.regions.list).map(id => {\n      const {\n        start,\n        end,\n        data\n      } = this.wavesurfer.regions.list[id];\n      return {\n        start,\n        end,\n        data\n      };\n    });\n    store.setStorage(toolName, 'regions', regions);\n  }\n  speedFormula(n) {\n    const num = parseInt(n);\n    if (isNaN(num)) return 1.0;\n    let rate = (1 + 0.1 * num).toFixed(1);\n    if (rate > 2) return 2.0;\n    if (rate < 0.1) return 0.1;\n    return rate;\n  }\n  render() {\n    const {\n      isPlaying,\n      isEditing,\n      summary,\n      category,\n      start,\n      end,\n      note\n    } = this.state;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: `${toolName}-container`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 254,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      id: \"wave\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 255,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      id: \"wave-timeline\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 256,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: `${toolName}-btn-group`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 258,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      className: `${toolName}-audio-btn`,\n      onClick: this.skipBackward,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 259,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(IoMdRewind, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 260,\n        columnNumber: 13\n      }\n    })), /*#__PURE__*/React.createElement(\"button\", {\n      className: `${toolName}-audio-btn`,\n      onClick: this.playPause,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 262,\n        columnNumber: 11\n      }\n    }, isPlaying ? /*#__PURE__*/React.createElement(IoMdPause, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 263,\n        columnNumber: 26\n      }\n    }) : /*#__PURE__*/React.createElement(IoMdPlay, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 263,\n        columnNumber: 42\n      }\n    })), /*#__PURE__*/React.createElement(\"button\", {\n      className: `${toolName}-audio-btn`,\n      onClick: this.skipForward,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 265,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(IoMdFastforward, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 266,\n        columnNumber: 13\n      }\n    })), /*#__PURE__*/React.createElement(\"span\", {\n      className: `${toolName}-speed-control`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 268,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 269,\n        columnNumber: 13\n      }\n    }, \"Playback Rate: \"), /*#__PURE__*/React.createElement(InputNumber, {\n      id: `${toolName}-speed-btn`,\n      defaultValue: 0,\n      min: -9,\n      max: 10,\n      step: 1,\n      type: \"number\",\n      size: \"small\",\n      formatter: value => this.speedFormula(value),\n      onChange: this.setSpeed,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 270,\n        columnNumber: 13\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: `${toolName}-summary`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 284,\n        columnNumber: 9\n      }\n    }, summary), isEditing && /*#__PURE__*/React.createElement(\"form\", {\n      className: `${toolName}-form`,\n      onSubmit: this.handleRegionSave,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 287,\n        columnNumber: 11\n      }\n    }, this.props.ontology && this.props.ontology.length > 0 && /*#__PURE__*/React.createElement(\"div\", {\n      className: `${toolName}-form-group`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 290,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 291,\n        columnNumber: 17\n      }\n    }, \"Category\"), this.props.ontology.map(i => /*#__PURE__*/React.createElement(\"div\", {\n      key: i.key,\n      className: `${toolName}-ontology-btn ${i.class_name === category ? 'label-selected' : 'label-unselected'}`,\n      style: {\n        background: i.display_color\n      },\n      onClick: e => this.handleCategorySelect(i, e),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 293,\n        columnNumber: 19\n      }\n    }, i.class_name))), /*#__PURE__*/React.createElement(\"div\", {\n      className: `${toolName}-form-group`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 305,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 306,\n        columnNumber: 15\n      }\n    }, \"Start\"), /*#__PURE__*/React.createElement(\"input\", {\n      value: start,\n      onChange: e => this.setState({\n        start: e.target.value\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 307,\n        columnNumber: 15\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: `${toolName}-form-group`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 310,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 311,\n        columnNumber: 15\n      }\n    }, \"End\"), /*#__PURE__*/React.createElement(\"input\", {\n      value: end,\n      onChange: e => this.setState({\n        end: e.target.value\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 312,\n        columnNumber: 15\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: `${toolName}-form-group`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 315,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 316,\n        columnNumber: 15\n      }\n    }, \"Note\"), /*#__PURE__*/React.createElement(\"textarea\", {\n      rows: \"3\",\n      value: note,\n      onChange: e => this.setState({\n        note: e.target.value\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 317,\n        columnNumber: 15\n      }\n    })), /*#__PURE__*/React.createElement(\"button\", {\n      className: `${toolName}-action-btn`,\n      type: \"submit\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 320,\n        columnNumber: 13\n      }\n    }, \"Save\"), /*#__PURE__*/React.createElement(\"button\", {\n      className: `${toolName}-action-btn danger`,\n      onClick: this.handleRegionDelete,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 323,\n        columnNumber: 13\n      }\n    }, \"Delete\")));\n  }\n}","map":{"version":3,"names":["React","WaveSurfer","TimelinePlugin","RegionsPlugin","hexToRgba","IoMdPlay","IoMdRewind","IoMdFastforward","IoMdPause","InputNumber","store","toolName","defaultColor","defaultAlpha","AudioAnnotationApp","Component","constructor","args","state","isPlaying","isEditing","summary","category","start","end","note","wavesurfer","workingRegion","ontologyColors","Map","props","ontology","Array","isArray","map","i","class_name","display_color","playPause","e","preventDefault","setState","skipBackward","skipForward","showSummary","region","data","hideSummary","onRegionClick","stopPropagation","shiftKey","playLoop","play","onRegionEdit","Math","round","onRegionUpdate","saveRegions","handleCategorySelect","update","color","handleRegionDelete","remove","handleRegionSave","setSpeed","n","rate","speedFormula","setPlaybackRate","componentDidMount","create","container","pixelRatio","scrollParent","normalize","minimap","backend","backgroundColor","waveColor","progressColor","cursorColor","plugins","primaryColor","secondaryColor","primaryFontColor","secondaryFontColor","load","audio","on","enableDragSelection","mode","unit_id","unitId","isCacheValid","storedRegions","getStorage","loadRegions","annotation","review_from","length","setStorage","document","addEventListener","keyCode","exportResult","cleanData","removeStorage","baseInfo","regions","forEach","regionColor","get","addRegion","Object","keys","list","id","num","parseInt","isNaN","toFixed","render","createElement","className","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","onClick","defaultValue","min","max","step","type","size","formatter","value","onChange","onSubmit","key","style","background","target","rows"],"sources":["/Users/qzheng/Documents/webroot/annotation_tools/src/components/audio-annotation/index.js"],"sourcesContent":["import React from 'react';\nimport WaveSurfer from 'wavesurfer.js';\nimport TimelinePlugin from 'wavesurfer.js/dist/plugin/wavesurfer.timeline.min.js';\nimport RegionsPlugin from 'wavesurfer.js/dist/plugin/wavesurfer.regions.min.js';\nimport hexToRgba from 'hex-to-rgba';\nimport { IoMdPlay, IoMdRewind, IoMdFastforward, IoMdPause } from 'react-icons/io';\nimport { InputNumber } from 'antd';\nimport { store } from '../../utils';\nimport './audio.css';\n\nconst toolName = 'audio-annotation';\nconst defaultColor = '#5ceee4';\nconst defaultAlpha = 0.45;\n\nexport default class AudioAnnotationApp extends React.Component {\n  state = {\n    isPlaying: false,\n    isEditing: false,\n    summary: '',\n    category: '',\n    start: '',\n    end: '',\n    note: '',\n  };\n\n  wavesurfer = null;\n  workingRegion = null;\n  ontologyColors = new Map([\n    ...this.props.ontology && Array.isArray(this.props.ontology) &&\n    this.props.ontology.map(i => ([i.class_name, i.display_color])),\n  ]);\n\n  componentDidMount() {\n    this.wavesurfer = WaveSurfer.create({\n      container: '#wave',\n      pixelRatio: 1,\n      scrollParent: true,\n      normalize: true,\n      minimap: true,\n      backend: 'MediaElement',\n      backgroundColor: '#504D66',\n      waveColor: '#27253c',\n      progressColor: '#F7963D',\n      cursorColor: '#F7963D',\n      plugins: [\n        RegionsPlugin.create(),\n        TimelinePlugin.create({\n          container: '#wave-timeline',\n          primaryColor: '#EDEDEF',\n          secondaryColor: '#DCDBE0',\n          primaryFontColor: '#EDEDEF',\n          secondaryFontColor: '#DCDBE0',\n        })\n      ]\n    });\n    this.wavesurfer.load(this.props.audio);\n\n    this.wavesurfer.on('ready', () => {\n      this.wavesurfer.enableDragSelection({\n        color: hexToRgba(defaultColor, defaultAlpha)\n      });\n\n      const { audio, mode, unit_id } = this.props;\n      const unitId = unit_id;\n      const isCacheValid = this.isCacheValid(audio, mode, unitId);\n      const storedRegions = store.getStorage(toolName, 'regions');\n      if (isCacheValid && storedRegions) {\n        this.loadRegions(storedRegions);\n      } else {\n        const annotation = this.props.review_from;\n        if (annotation && annotation.length > 0) {\n          this.loadRegions(annotation);\n          this.saveRegions();\n        }\n      }\n      store.setStorage(toolName, 'baseInfo', { audio, mode, unitId });\n    });\n\n    // bind actions\n    this.wavesurfer.on('play', () => {\n      this.setState({ isPlaying: true });\n    });\n    this.wavesurfer.on('pause', () => {\n      this.setState({ isPlaying: false });\n    });\n    this.wavesurfer.on('region-in', this.showSummary);\n    this.wavesurfer.on('region-out', this.hideSummary);\n    this.wavesurfer.on('region-click', this.onRegionClick);\n    this.wavesurfer.on('region-update-end', this.onRegionEdit);\n    this.wavesurfer.on('region-updated', this.onRegionUpdate);\n\n    document.addEventListener('keydown', (e) => {\n      const { keyCode } = e;\n      switch (keyCode) {\n        case 32:\n          e.preventDefault();\n          this.wavesurfer.playPause();\n          break;\n        case 37: // left arrow\n          this.skipBackward(e);\n          break;\n        case 39: // right arrow\n          this.skipForward(e);\n          break\n        default:\n      }\n    });\n  }\n\n  exportResult() {\n    return store.getStorage(toolName, 'regions');\n  }\n\n  cleanData() {\n    store.removeStorage(toolName, 'regions');\n  }\n\n  isCacheValid(audio, mode, unitId) {\n    try {\n      const baseInfo = store.getStorage(toolName, 'baseInfo');\n      if (baseInfo && audio === baseInfo.audio && mode === baseInfo.mode && unitId === baseInfo.unitId) {\n        return true;\n      }\n    } catch (e) {\n      // failed to parse baseInfo\n    }\n    return false;\n  }\n\n  loadRegions(regions) {\n    regions.forEach((region) => {\n      const regionColor = this.ontologyColors.get(region.data.category) || defaultColor;\n      region.color = hexToRgba(regionColor, defaultAlpha);\n      this.wavesurfer.addRegion(region);\n    });\n  }\n\n  saveRegions() {\n    const regions = Object.keys(this.wavesurfer.regions.list).map((id) => {\n      const { start, end, data } = this.wavesurfer.regions.list[id];\n      return { start, end, data };\n    });\n    store.setStorage(toolName, 'regions', regions);\n  }\n\n  playPause = (e) => {\n    e.preventDefault();\n    this.setState({ isPlaying: !this.state.isPlaying });\n    this.wavesurfer.playPause();\n  }\n\n  skipBackward = (e) => {\n    e.preventDefault();\n    this.wavesurfer.skipBackward();\n  }\n\n  skipForward = (e) => {\n    e.preventDefault();\n    this.wavesurfer.skipForward();\n  }\n\n  showSummary = (region) => {\n    this.setState({ summary: region.data.note });\n  }\n\n  hideSummary = () => {\n    this.setState({ summary: '' });\n  }\n\n  onRegionClick = (region, e) => {\n    e.stopPropagation();\n    // Play on click, loop on shift click\n    e.shiftKey ? region.playLoop() : region.play();\n\n    this.onRegionEdit(region);\n  }\n\n  onRegionEdit = (region) => {\n    this.workingRegion = region;\n    this.setState({\n      isEditing: true,\n      category: (region.data || {}).category || '',\n      start: Math.round(region.start * 10) / 10,\n      end: Math.round(region.end * 10) / 10,\n      note: (region.data || {}).note || '',\n    });\n  }\n\n  onRegionUpdate = (region) => {\n    this.saveRegions();\n\n    if (this.workingRegion) {\n      this.setState({\n        start: Math.round(region.start * 10) / 10,\n        end: Math.round(region.end * 10) / 10,\n      });\n    }\n  }\n\n  handleCategorySelect = (category, e) => {\n    e.preventDefault();\n    this.setState({ category: category.class_name });\n\n    // save to region\n    this.workingRegion.update({\n      color: hexToRgba(category.display_color, defaultAlpha),\n      data: {\n        note: this.state.note,\n        category: category.class_name,\n      }\n    });\n    this.saveRegions();\n  }\n\n  handleRegionDelete = (e) => {\n    e.preventDefault();\n    this.workingRegion.remove();\n    this.workingRegion = null;\n    this.saveRegions();\n    this.setState({ isEditing: false });\n  }\n\n  handleRegionSave = (e) => {\n    e.preventDefault();\n    const { category, start, end, note } = this.state;\n    this.workingRegion.update({\n      start,\n      end,\n      data: { category, note },\n    });\n    this.workingRegion = null;\n    this.saveRegions();\n    this.setState({ isEditing: false });\n  }\n\n  setSpeed = (n) => {\n    const rate = this.speedFormula(n);\n    this.wavesurfer.setPlaybackRate(rate);\n  }\n\n  speedFormula(n) {\n    const num = parseInt(n);\n    if (isNaN(num)) return 1.0;\n    let rate = (1 + 0.1 * num).toFixed(1);\n    if (rate > 2) return 2.0;\n    if (rate < 0.1) return 0.1;\n    return rate;\n  }\n\n  render() {\n    const { isPlaying, isEditing, summary, category, start, end, note } = this.state;\n\n    return (\n      <div className={`${toolName}-container`}>\n        <div id=\"wave\" />\n        <div id=\"wave-timeline\" />\n\n        <div className={`${toolName}-btn-group`}>\n          <button className={`${toolName}-audio-btn`} onClick={this.skipBackward}>\n            <IoMdRewind />\n          </button>\n          <button className={`${toolName}-audio-btn`} onClick={this.playPause}>\n            {isPlaying ? <IoMdPause /> : <IoMdPlay />}\n          </button>\n          <button className={`${toolName}-audio-btn`} onClick={this.skipForward}>\n            <IoMdFastforward />\n          </button>\n          <span className={`${toolName}-speed-control`}>\n            <span>Playback Rate: </span>\n            <InputNumber\n              id={`${toolName}-speed-btn`}\n              defaultValue={0}\n              min={-9}\n              max={10}\n              step={1}\n              type={\"number\"}\n              size={\"small\"}\n              formatter={value => this.speedFormula(value)}\n              onChange={this.setSpeed}\n            />\n          </span>\n        </div>\n\n        <div className={`${toolName}-summary`}>{summary}</div>\n\n        {isEditing && (\n          <form className={`${toolName}-form`} onSubmit={this.handleRegionSave}>\n            {\n              this.props.ontology && this.props.ontology.length > 0 &&\n              <div className={`${toolName}-form-group`}>\n                <label>Category</label>\n                {this.props.ontology.map(i => (\n                  <div\n                    key={i.key}\n                    className={`${toolName}-ontology-btn ${i.class_name === category ? 'label-selected' : 'label-unselected'}`}\n                    style={{ background: i.display_color }}\n                    onClick={(e) => this.handleCategorySelect(i, e)}\n                  >\n                    {i.class_name}\n                  </div>\n                ))}\n              </div>\n            }\n\n            <div className={`${toolName}-form-group`}>\n              <label>Start</label>\n              <input value={start} onChange={e => this.setState({ start: e.target.value })} />\n            </div>\n\n            <div className={`${toolName}-form-group`}>\n              <label>End</label>\n              <input value={end} onChange={e => this.setState({ end: e.target.value })} />\n            </div>\n\n            <div className={`${toolName}-form-group`}>\n              <label>Note</label>\n              <textarea rows=\"3\" value={note} onChange={e => this.setState({ note: e.target.value })} />\n            </div>\n\n            <button className={`${toolName}-action-btn`} type=\"submit\">\n              Save\n            </button>\n            <button className={`${toolName}-action-btn danger`} onClick={this.handleRegionDelete}>\n              Delete\n            </button>\n          </form>\n        )}\n      </div>\n    );\n  }\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}