{"ast":null,"code":"/* eslint-disable react/no-array-index-key */import React,{useCallback}from'react';import CodeHighlight from'../../code/CodeHighlight';import{ContentItemType}from'../types';const ChatContent=_ref=>{let{content}=_ref;const renderContent=useCallback(()=>{if(!content){return null;}const allItems=[];let code='';let language;content.forEach((item,i)=>{if(code){allItems.push(/*#__PURE__*/React.createElement(CodeHighlight,{key:i-1,code:code,language:language}));code='';}if(item.type===ContentItemType.UNSTYLED){if(!item.content){allItems.push(/*#__PURE__*/React.createElement(\"br\",{key:i}));}else{const splitted=item.content.split('\\n');splitted.forEach((t,ii)=>{allItems.push(/*#__PURE__*/React.createElement(\"div\",{key:\"\".concat(i,\"-\").concat(ii)},t));});}}});if(code){allItems.push(/*#__PURE__*/React.createElement(CodeHighlight,{key:content.length,code:code,language:language}));}return allItems;},[content]);return/*#__PURE__*/React.createElement(\"div\",{className:\"llm-chat-content\"},renderContent());};export default ChatContent;","map":{"version":3,"names":["React","useCallback","CodeHighlight","ContentItemType","ChatContent","_ref","content","renderContent","allItems","code","language","forEach","item","i","push","createElement","key","type","UNSTYLED","splitted","split","t","ii","concat","length","className"],"sources":["/Users/qzheng/Documents/webroot/annotation_tools/src/components/common/llm/chat/ChatContent.tsx"],"sourcesContent":["/* eslint-disable react/no-array-index-key */\nimport React, { useCallback } from 'react';\nimport CodeHighlight from '../../code/CodeHighlight';\nimport { Content, ContentItemType } from '../types';\nimport { ChatItemType } from './ChatItem';\n\ninterface ChatContentProps {\n  type?: ChatItemType;\n  content?: Content;\n  onContentChange?: (newContent: Content) => void;\n}\n\nconst ChatContent: React.FC<ChatContentProps> = ({\n  content,\n}) => {\n  const renderContent = useCallback(() => {\n    if (!content) {\n      return null;\n    }\n\n    const allItems = [];\n    let code = '';\n    let language: string | undefined;\n    content.forEach((item, i) => {\n      if (code) {\n        allItems.push(\n          <CodeHighlight key={i - 1} code={code} language={language} />\n        );\n        code = '';\n      }\n      if (item.type === ContentItemType.UNSTYLED) {\n        if (!item.content) {\n          allItems.push(\n            <br key={i} />\n          );\n        } else {\n          const splitted = item.content.split('\\n');\n          splitted.forEach((t, ii) => {\n            allItems.push(\n              <div key={`${i}-${ii}`}>{t}</div>,\n            );\n          });\n        }\n      }\n    });\n    if (code) {\n      allItems.push(\n        <CodeHighlight key={content.length} code={code} language={language} />\n      );\n    }\n    return allItems;\n  }, [content]);\n\n  return (\n    <div className=\"llm-chat-content\">\n      {renderContent()}\n    </div>\n  );\n};\n\nexport default ChatContent;\n"],"mappings":"AAAA,6CACA,MAAO,CAAAA,KAAK,EAAIC,WAAW,KAAQ,OAAO,CAC1C,MAAO,CAAAC,aAAa,KAAM,0BAA0B,CACpD,OAAkBC,eAAe,KAAQ,UAAU,CASnD,KAAM,CAAAC,WAAuC,CAAGC,IAAA,EAE1C,IAF2C,CAC/CC,OACF,CAAC,CAAAD,IAAA,CACC,KAAM,CAAAE,aAAa,CAAGN,WAAW,CAAC,IAAM,CACtC,GAAI,CAACK,OAAO,CAAE,CACZ,MAAO,KAAI,CACb,CAEA,KAAM,CAAAE,QAAQ,CAAG,EAAE,CACnB,GAAI,CAAAC,IAAI,CAAG,EAAE,CACb,GAAI,CAAAC,QAA4B,CAChCJ,OAAO,CAACK,OAAO,CAAC,CAACC,IAAI,CAAEC,CAAC,GAAK,CAC3B,GAAIJ,IAAI,CAAE,CACRD,QAAQ,CAACM,IAAI,cACXd,KAAA,CAAAe,aAAA,CAACb,aAAa,EAACc,GAAG,CAAEH,CAAC,CAAG,CAAE,CAACJ,IAAI,CAAEA,IAAK,CAACC,QAAQ,CAAEA,QAAS,CAAE,CAC9D,CAAC,CACDD,IAAI,CAAG,EAAE,CACX,CACA,GAAIG,IAAI,CAACK,IAAI,GAAKd,eAAe,CAACe,QAAQ,CAAE,CAC1C,GAAI,CAACN,IAAI,CAACN,OAAO,CAAE,CACjBE,QAAQ,CAACM,IAAI,cACXd,KAAA,CAAAe,aAAA,OAAIC,GAAG,CAAEH,CAAE,CAAE,CACf,CAAC,CACH,CAAC,IAAM,CACL,KAAM,CAAAM,QAAQ,CAAGP,IAAI,CAACN,OAAO,CAACc,KAAK,CAAC,IAAI,CAAC,CACzCD,QAAQ,CAACR,OAAO,CAAC,CAACU,CAAC,CAAEC,EAAE,GAAK,CAC1Bd,QAAQ,CAACM,IAAI,cACXd,KAAA,CAAAe,aAAA,QAAKC,GAAG,IAAAO,MAAA,CAAKV,CAAC,MAAAU,MAAA,CAAID,EAAE,CAAG,EAAED,CAAO,CAClC,CAAC,CACH,CAAC,CAAC,CACJ,CACF,CACF,CAAC,CAAC,CACF,GAAIZ,IAAI,CAAE,CACRD,QAAQ,CAACM,IAAI,cACXd,KAAA,CAAAe,aAAA,CAACb,aAAa,EAACc,GAAG,CAAEV,OAAO,CAACkB,MAAO,CAACf,IAAI,CAAEA,IAAK,CAACC,QAAQ,CAAEA,QAAS,CAAE,CACvE,CAAC,CACH,CACA,MAAO,CAAAF,QAAQ,CACjB,CAAC,CAAE,CAACF,OAAO,CAAC,CAAC,CAEb,mBACEN,KAAA,CAAAe,aAAA,QAAKU,SAAS,CAAC,kBAAkB,EAC9BlB,aAAa,CAAC,CACZ,CAAC,CAEV,CAAC,CAED,cAAe,CAAAH,WAAW","ignoreList":[]},"metadata":{},"sourceType":"module"}