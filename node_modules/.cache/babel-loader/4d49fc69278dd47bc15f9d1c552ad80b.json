{"ast":null,"code":"export default class Label{set visible(visible){this.dom.style.display=visible?'':'none';}set zIndex(zIndex){this.dom.style.zIndex=\"\".concat(zIndex);}set text(text){this.textContainer.innerText=text;}constructor(_ref){let{id,className,text,transPosition}=_ref;this.dom=void 0;this.textContainer=void 0;this.onPositionChange=void 0;this.transPosition=void 0;this.dom=document.createElement('div');if(id!==undefined){this.dom.id=id;}if(className!==undefined){this.dom.className=className;}this.textContainer=document.createElement('span');this.textContainer.innerText=text||'';this.textContainer.className='text';this.dom.appendChild(this.textContainer);this.transPosition=transPosition;}addToContainer(container){container.appendChild(this.dom);}setPosition(position,pivot,rotation){const p=this.transPosition?this.transPosition(position):position;this.dom.style.transform=\"translate(\".concat(p.x,\"px, \").concat(p.y,\"px) rotate(\").concat(rotation,\"rad) translate(0, -100%)\");this.dom.style.transformOrigin=\"\".concat(pivot.x-position.x,\"px \").concat(pivot.y-position.y,\"px\");if(this.onPositionChange){this.onPositionChange();}}remove(){this.dom.remove();}}","map":{"version":3,"names":["Label","visible","dom","style","display","zIndex","concat","text","textContainer","innerText","constructor","_ref","id","className","transPosition","onPositionChange","document","createElement","undefined","appendChild","addToContainer","container","setPosition","position","pivot","rotation","p","transform","x","y","transformOrigin","remove"],"sources":["/Users/qzheng/Documents/webroot/annotation_tools/src/components/common/shapes/label/Label.ts"],"sourcesContent":["interface LabelOptions {\n  id?: string;\n  className?: string;\n  text?: string;\n  transPosition?: (p: { x: number; y: number }) => ({ x: number; y: number });\n}\n\nexport default class Label {\n  dom: HTMLDivElement;\n\n  textContainer: HTMLSpanElement;\n\n  onPositionChange?: () => void;\n\n  transPosition?: (p: { x: number; y: number }) => ({ x: number; y: number });\n\n  set visible(visible: boolean) {\n    this.dom.style.display = visible ? '' : 'none';\n  }\n\n  set zIndex(zIndex: number) {\n    this.dom.style.zIndex = `${zIndex}`;\n  }\n\n  set text(text: string) {\n    this.textContainer.innerText = text;\n  }\n\n  constructor({ id, className, text, transPosition }: LabelOptions) {\n    this.dom = document.createElement('div');\n    if (id !== undefined) {\n      this.dom.id = id;\n    }\n    if (className !== undefined) {\n      this.dom.className = className;\n    }\n\n    this.textContainer = document.createElement('span');\n    this.textContainer.innerText = text || '';\n    this.textContainer.className = 'text';\n    this.dom.appendChild(this.textContainer);\n\n    this.transPosition = transPosition;\n  }\n\n  addToContainer(container: Element) {\n    container.appendChild(this.dom);\n  }\n\n  setPosition(position: { x: number; y: number }, pivot: { x: number; y: number }, rotation: number) {\n    const p = this.transPosition ? this.transPosition(position) : position;\n    this.dom.style.transform = `translate(${p.x}px, ${p.y}px) rotate(${rotation}rad) translate(0, -100%)`;\n    this.dom.style.transformOrigin = `${pivot.x - position.x}px ${pivot.y - position.y}px`;\n    if (this.onPositionChange) {\n      this.onPositionChange();\n    }\n  }\n\n  remove() {\n    this.dom.remove();\n  }\n}\n"],"mappings":"AAOA,cAAe,MAAM,CAAAA,KAAM,CASzB,GAAI,CAAAC,OAAOA,CAACA,OAAgB,CAAE,CAC5B,IAAI,CAACC,GAAG,CAACC,KAAK,CAACC,OAAO,CAAGH,OAAO,CAAG,EAAE,CAAG,MAAM,CAChD,CAEA,GAAI,CAAAI,MAAMA,CAACA,MAAc,CAAE,CACzB,IAAI,CAACH,GAAG,CAACC,KAAK,CAACE,MAAM,IAAAC,MAAA,CAAMD,MAAM,CAAE,CACrC,CAEA,GAAI,CAAAE,IAAIA,CAACA,IAAY,CAAE,CACrB,IAAI,CAACC,aAAa,CAACC,SAAS,CAAGF,IAAI,CACrC,CAEAG,WAAWA,CAAAC,IAAA,CAAuD,IAAtD,CAAEC,EAAE,CAAEC,SAAS,CAAEN,IAAI,CAAEO,aAA4B,CAAC,CAAAH,IAAA,MApBhET,GAAG,aAEHM,aAAa,aAEbO,gBAAgB,aAEhBD,aAAa,QAeX,IAAI,CAACZ,GAAG,CAAGc,QAAQ,CAACC,aAAa,CAAC,KAAK,CAAC,CACxC,GAAIL,EAAE,GAAKM,SAAS,CAAE,CACpB,IAAI,CAAChB,GAAG,CAACU,EAAE,CAAGA,EAAE,CAClB,CACA,GAAIC,SAAS,GAAKK,SAAS,CAAE,CAC3B,IAAI,CAAChB,GAAG,CAACW,SAAS,CAAGA,SAAS,CAChC,CAEA,IAAI,CAACL,aAAa,CAAGQ,QAAQ,CAACC,aAAa,CAAC,MAAM,CAAC,CACnD,IAAI,CAACT,aAAa,CAACC,SAAS,CAAGF,IAAI,EAAI,EAAE,CACzC,IAAI,CAACC,aAAa,CAACK,SAAS,CAAG,MAAM,CACrC,IAAI,CAACX,GAAG,CAACiB,WAAW,CAAC,IAAI,CAACX,aAAa,CAAC,CAExC,IAAI,CAACM,aAAa,CAAGA,aAAa,CACpC,CAEAM,cAAcA,CAACC,SAAkB,CAAE,CACjCA,SAAS,CAACF,WAAW,CAAC,IAAI,CAACjB,GAAG,CAAC,CACjC,CAEAoB,WAAWA,CAACC,QAAkC,CAAEC,KAA+B,CAAEC,QAAgB,CAAE,CACjG,KAAM,CAAAC,CAAC,CAAG,IAAI,CAACZ,aAAa,CAAG,IAAI,CAACA,aAAa,CAACS,QAAQ,CAAC,CAAGA,QAAQ,CACtE,IAAI,CAACrB,GAAG,CAACC,KAAK,CAACwB,SAAS,cAAArB,MAAA,CAAgBoB,CAAC,CAACE,CAAC,SAAAtB,MAAA,CAAOoB,CAAC,CAACG,CAAC,gBAAAvB,MAAA,CAAcmB,QAAQ,4BAA0B,CACrG,IAAI,CAACvB,GAAG,CAACC,KAAK,CAAC2B,eAAe,IAAAxB,MAAA,CAAMkB,KAAK,CAACI,CAAC,CAAGL,QAAQ,CAACK,CAAC,QAAAtB,MAAA,CAAMkB,KAAK,CAACK,CAAC,CAAGN,QAAQ,CAACM,CAAC,MAAI,CACtF,GAAI,IAAI,CAACd,gBAAgB,CAAE,CACzB,IAAI,CAACA,gBAAgB,CAAC,CAAC,CACzB,CACF,CAEAgB,MAAMA,CAAA,CAAG,CACP,IAAI,CAAC7B,GAAG,CAAC6B,MAAM,CAAC,CAAC,CACnB,CACF","ignoreList":[]},"metadata":{},"sourceType":"module"}