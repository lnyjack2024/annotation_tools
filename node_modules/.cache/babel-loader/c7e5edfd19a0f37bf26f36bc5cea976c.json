{"ast":null,"code":"var _jsxFileName = \"/Users/qzheng/Documents/webroot/annotation_tools/src/components/video-tracking2/components/toolbar/OperationNavigator.tsx\";\nimport React from 'react';\nimport { observer } from 'mobx-react';\nimport cx from 'classnames';\nimport { Tooltip } from 'antd';\nimport { Pointer, LayerUp, LayerDown, Merge, Subtract } from '../../../common/icons';\nimport CreateToolSelector from '../tools/CreateToolSelector';\nimport ReviewToolSelector from '../review/ReviewToolSelector';\nimport ViewScale from './ViewScale';\nimport store from '../../store/RootStore';\nimport i18n from '../../locales';\nimport { ShapeType } from '../../../common/shapes/types';\nimport './OperationNavigator.scss';\nconst OperationNavigator = observer(({\n  onViewReset,\n  setViewScale\n}) => {\n  const {\n    addMode\n  } = store.config;\n  const {\n    isSingleSelected\n  } = store.instance;\n  const {\n    selectedShapes\n  } = store.shape;\n  const isSingle = isSingleSelected && selectedShapes.length === 1;\n  const selectedShape = isSingle ? selectedShapes[0] : undefined;\n  const isPolygon = (selectedShape === null || selectedShape === void 0 ? void 0 : selectedShape.shapeType) === ShapeType.POLYGON;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"operation-navigator\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: cx('operation-icon pointer', {\n      active: !addMode\n    }),\n    onClick: () => {\n      if (addMode) {\n        store.config.setAddMode(false);\n      }\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Pointer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"divider\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(CreateToolSelector, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(ReviewToolSelector, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"divider\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 9\n    }\n  }), !store.readonly && !addMode && isSingle && /*#__PURE__*/React.createElement(React.Fragment, null, isPolygon && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Tooltip, {\n    placement: \"bottom\",\n    title: i18n.translate('OPERATION_SHAPE_MERGE'),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"operation-icon\",\n    onClick: store.shape.merge,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(Merge, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 21\n    }\n  }))), /*#__PURE__*/React.createElement(Tooltip, {\n    placement: \"bottom\",\n    title: i18n.translate('OPERATION_SHAPE_SUBTRACT'),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"operation-icon\",\n    onClick: store.shape.subtractPolygon,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(Subtract, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 21\n    }\n  })))), /*#__PURE__*/React.createElement(Tooltip, {\n    placement: \"bottom\",\n    title: i18n.translate('OPERATION_SHAPE_UP'),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"operation-icon\",\n    onClick: () => store.moveFront(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(LayerUp, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 17\n    }\n  }))), /*#__PURE__*/React.createElement(Tooltip, {\n    placement: \"bottom\",\n    title: i18n.translate('OPERATION_SHAPE_DOWN'),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"operation-icon\",\n    onClick: () => store.moveBack(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(LayerDown, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 17\n    }\n  }))))), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(ViewScale, {\n    onViewReset: onViewReset,\n    setViewScale: setViewScale,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 9\n    }\n  })));\n});\nexport default OperationNavigator;","map":{"version":3,"names":["React","observer","cx","Tooltip","Pointer","LayerUp","LayerDown","Merge","Subtract","CreateToolSelector","ReviewToolSelector","ViewScale","store","i18n","ShapeType","OperationNavigator","onViewReset","setViewScale","addMode","config","isSingleSelected","instance","selectedShapes","shape","isSingle","length","selectedShape","undefined","isPolygon","shapeType","POLYGON","createElement","className","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","active","onClick","setAddMode","readonly","Fragment","placement","title","translate","merge","subtractPolygon","moveFront","moveBack"],"sources":["/Users/qzheng/Documents/webroot/annotation_tools/src/components/video-tracking2/components/toolbar/OperationNavigator.tsx"],"sourcesContent":["import React from 'react';\nimport { observer } from 'mobx-react';\nimport cx from 'classnames';\nimport { Tooltip } from 'antd';\nimport { Pointer, LayerUp, LayerDown, Merge, Subtract } from '../../../common/icons';\nimport CreateToolSelector from '../tools/CreateToolSelector';\nimport ReviewToolSelector from '../review/ReviewToolSelector';\nimport ViewScale from './ViewScale';\nimport store from '../../store/RootStore';\nimport i18n from '../../locales';\nimport { ShapeType } from '../../../common/shapes/types';\nimport './OperationNavigator.scss';\n\ninterface OperationNavigatorProps {\n  onViewReset: () => void;\n  setViewScale: (scale: number) => void;\n}\n\nconst OperationNavigator = observer(({ onViewReset, setViewScale }: OperationNavigatorProps) => {\n  const { addMode } = store.config;\n  const { isSingleSelected } = store.instance;\n  const { selectedShapes } = store.shape;\n  const isSingle = isSingleSelected && selectedShapes.length === 1;\n  const selectedShape = isSingle ? selectedShapes[0] : undefined;\n  const isPolygon = selectedShape?.shapeType === ShapeType.POLYGON;\n  return (\n    <div className=\"operation-navigator\">\n      <div>\n        <div\n          className={cx('operation-icon pointer', {\n            active: !addMode,\n          })}\n          onClick={() => {\n            if (addMode) {\n              store.config.setAddMode(false);\n            }\n          }}\n        >\n          <Pointer />\n        </div>\n        <div className=\"divider\" />\n        <CreateToolSelector />\n        <ReviewToolSelector />\n        <div className=\"divider\" />\n        {!store.readonly && !addMode && isSingle && (\n          <>\n            {isPolygon && (\n              <>\n                <Tooltip placement=\"bottom\" title={i18n.translate('OPERATION_SHAPE_MERGE')}>\n                  <div\n                    className=\"operation-icon\"\n                    onClick={store.shape.merge}\n                  >\n                    <Merge />\n                  </div>\n                </Tooltip>\n                <Tooltip placement=\"bottom\" title={i18n.translate('OPERATION_SHAPE_SUBTRACT')}>\n                  <div className=\"operation-icon\" onClick={store.shape.subtractPolygon}>\n                    <Subtract />\n                  </div>\n                </Tooltip>\n              </>\n            )}\n            <Tooltip placement=\"bottom\" title={i18n.translate('OPERATION_SHAPE_UP')}>\n              <div className=\"operation-icon\" onClick={() => store.moveFront()}>\n                <LayerUp />\n              </div>\n            </Tooltip>\n            <Tooltip placement=\"bottom\" title={i18n.translate('OPERATION_SHAPE_DOWN')}>\n              <div className=\"operation-icon\" onClick={() => store.moveBack()}>\n                <LayerDown />\n              </div>\n            </Tooltip>\n          </>\n        )}\n      </div>\n      <div>\n        <ViewScale onViewReset={onViewReset} setViewScale={setViewScale} />\n      </div>\n    </div>\n  );\n});\n\nexport default OperationNavigator;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}