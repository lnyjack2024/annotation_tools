{"ast":null,"code":"var _jsxFileName = \"/Users/qzheng/Documents/webroot/annotation_tools/src/components/common/llm/chat/MarkRank.tsx\";\nimport React, { useContext } from 'react';\nimport { Button } from 'antd';\nimport { FormOutlined } from '@ant-design/icons';\nimport cx from 'classnames';\nimport LocaleContext from '../locales/context';\nimport translate from '../locales';\nconst MarkRank = ({\n  options,\n  editable,\n  editing,\n  onEdit,\n  value,\n  onChange\n}) => {\n  const locale = useContext(LocaleContext);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"llm-chat-item-content-rank\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 5\n    }\n  }, editing ? options.map(o => /*#__PURE__*/React.createElement(\"span\", {\n    key: o,\n    className: cx('llm-chat-item-content-rank-tag', {\n      active: value === null || value === void 0 ? void 0 : value.includes(o)\n    }),\n    onClick: e => {\n      e.stopPropagation();\n      const set = new Set(value);\n      if (set.has(o)) {\n        set.delete(o);\n      } else {\n        set.add(o);\n      }\n      onChange(Array.from(set));\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 9\n    }\n  }, o)) : /*#__PURE__*/React.createElement(React.Fragment, null, options.map(o => (value === null || value === void 0 ? void 0 : value.includes(o)) ? /*#__PURE__*/React.createElement(\"span\", {\n    key: o,\n    className: \"llm-chat-item-content-rank-tag outline\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 15\n    }\n  }, o) : null), (!value || value.length === 0) && /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 13\n    }\n  }, translate(locale, 'CHAT_RANK_EMPTY')), editable && /*#__PURE__*/React.createElement(Button, {\n    size: \"small\",\n    type: \"link\",\n    icon: /*#__PURE__*/React.createElement(FormOutlined, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 21\n      }\n    }),\n    onClick: e => {\n      if (onEdit) {\n        e.stopPropagation();\n        onEdit();\n      }\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 13\n    }\n  })));\n};\nexport default MarkRank;","map":{"version":3,"names":["React","useContext","Button","FormOutlined","cx","LocaleContext","translate","MarkRank","options","editable","editing","onEdit","value","onChange","locale","createElement","className","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","map","o","key","active","includes","onClick","e","stopPropagation","set","Set","has","delete","add","Array","from","Fragment","length","size","type","icon"],"sources":["/Users/qzheng/Documents/webroot/annotation_tools/src/components/common/llm/chat/MarkRank.tsx"],"sourcesContent":["import React, { useContext } from 'react';\nimport { Button } from 'antd';\nimport { FormOutlined } from '@ant-design/icons';\nimport cx from 'classnames';\nimport { Rank } from '../types';\nimport LocaleContext from '../locales/context';\nimport translate from '../locales';\n\ninterface MarkRankProps {\n  options: string[];\n  editable: boolean;\n  editing: boolean;\n  onEdit?: () => void;\n  value?: Rank['marks'];\n  onChange: (value: Rank['marks']) => void;\n}\n\nconst MarkRank: React.FC<MarkRankProps> = ({\n  options,\n  editable,\n  editing,\n  onEdit,\n  value,\n  onChange,\n}) => {\n  const locale = useContext(LocaleContext);\n  return (\n    <div className=\"llm-chat-item-content-rank\">\n      {editing ? options.map((o) => (\n        <span\n          key={o}\n          className={cx('llm-chat-item-content-rank-tag', {\n            active: value?.includes(o),\n          })}\n          onClick={(e) => {\n            e.stopPropagation();\n            const set = new Set(value);\n            if (set.has(o)) {\n              set.delete(o);\n            } else {\n              set.add(o);\n            }\n            onChange(Array.from(set));\n          }}\n        >\n          {o}\n        </span>\n      )) : (\n        <>\n          {options.map((o) => (value?.includes(o)\n            ? (\n              <span\n                key={o}\n                className=\"llm-chat-item-content-rank-tag outline\"\n              >\n                {o}\n              </span>\n            )\n            : null\n          ))}\n          {(!value || value.length === 0) && (\n            <span>{translate(locale, 'CHAT_RANK_EMPTY')}</span>\n          )}\n          {editable && (\n            <Button\n              size=\"small\"\n              type=\"link\"\n              icon={<FormOutlined />}\n              onClick={(e) => {\n                if (onEdit) {\n                  e.stopPropagation();\n                  onEdit();\n                }\n              }}\n            />\n          )}\n        </>\n      )}\n    </div>\n  );\n};\n\nexport default MarkRank;\n"],"mappings":";AAAA,OAAOA,KAAK,IAAIC,UAAU,QAAQ,OAAO;AACzC,SAASC,MAAM,QAAQ,MAAM;AAC7B,SAASC,YAAY,QAAQ,mBAAmB;AAChD,OAAOC,EAAE,MAAM,YAAY;AAE3B,OAAOC,aAAa,MAAM,oBAAoB;AAC9C,OAAOC,SAAS,MAAM,YAAY;AAWlC,MAAMC,QAAiC,GAAGA,CAAC;EACzCC,OAAO;EACPC,QAAQ;EACRC,OAAO;EACPC,MAAM;EACNC,KAAK;EACLC;AACF,CAAC,KAAK;EACJ,MAAMC,MAAM,GAAGb,UAAU,CAACI,aAAa,CAAC;EACxC,oBACEL,KAAA,CAAAe,aAAA;IAAKC,SAAS,EAAC,4BAA4B;IAAAC,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GACxCZ,OAAO,GAAGF,OAAO,CAACe,GAAG,CAAEC,CAAC,iBACvBxB,KAAA,CAAAe,aAAA;IACEU,GAAG,EAAED,CAAE;IACPR,SAAS,EAAEZ,EAAE,CAAC,gCAAgC,EAAE;MAC9CsB,MAAM,EAAEd,KAAK,aAALA,KAAK,uBAALA,KAAK,CAAEe,QAAQ,CAACH,CAAC;IAC3B,CAAC,CAAE;IACHI,OAAO,EAAGC,CAAC,IAAK;MACdA,CAAC,CAACC,eAAe,CAAC,CAAC;MACnB,MAAMC,GAAG,GAAG,IAAIC,GAAG,CAACpB,KAAK,CAAC;MAC1B,IAAImB,GAAG,CAACE,GAAG,CAACT,CAAC,CAAC,EAAE;QACdO,GAAG,CAACG,MAAM,CAACV,CAAC,CAAC;MACf,CAAC,MAAM;QACLO,GAAG,CAACI,GAAG,CAACX,CAAC,CAAC;MACZ;MACAX,QAAQ,CAACuB,KAAK,CAACC,IAAI,CAACN,GAAG,CAAC,CAAC;IAC3B,CAAE;IAAAd,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAEDE,CACG,CACP,CAAC,gBACAxB,KAAA,CAAAe,aAAA,CAAAf,KAAA,CAAAsC,QAAA,QACG9B,OAAO,CAACe,GAAG,CAAEC,CAAC,IAAM,CAAAZ,KAAK,aAALA,KAAK,uBAALA,KAAK,CAAEe,QAAQ,CAACH,CAAC,CAAC,iBAEnCxB,KAAA,CAAAe,aAAA;IACEU,GAAG,EAAED,CAAE;IACPR,SAAS,EAAC,wCAAwC;IAAAC,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAEjDE,CACG,CAAC,GAEP,IACH,CAAC,EACD,CAAC,CAACZ,KAAK,IAAIA,KAAK,CAAC2B,MAAM,KAAK,CAAC,kBAC5BvC,KAAA,CAAAe,aAAA;IAAAE,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAOhB,SAAS,CAACQ,MAAM,EAAE,iBAAiB,CAAQ,CACnD,EACAL,QAAQ,iBACPT,KAAA,CAAAe,aAAA,CAACb,MAAM;IACLsC,IAAI,EAAC,OAAO;IACZC,IAAI,EAAC,MAAM;IACXC,IAAI,eAAE1C,KAAA,CAAAe,aAAA,CAACZ,YAAY;MAAAc,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,CAAE,CAAE;IACvBM,OAAO,EAAGC,CAAC,IAAK;MACd,IAAIlB,MAAM,EAAE;QACVkB,CAAC,CAACC,eAAe,CAAC,CAAC;QACnBnB,MAAM,CAAC,CAAC;MACV;IACF,CAAE;IAAAM,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,CACH,CAEH,CAED,CAAC;AAEV,CAAC;AAED,eAAef,QAAQ","ignoreList":[]},"metadata":{},"sourceType":"module"}