{"ast":null,"code":"var _jsxFileName = \"/Users/qzheng/Documents/webroot/annotation_tools/src/components/video-tracking2/components/sidebar/SidebarCategory.tsx\";\nimport React, { useCallback } from 'react';\nimport { observer } from 'mobx-react';\nimport hexToRgba from 'hex-to-rgba';\nimport { CaretDownOutlined } from '@ant-design/icons';\nimport SidebarInstance from './SidebarInstance';\nimport store from '../../store/RootStore';\nconst SidebarCategory = observer(({\n  category,\n  collapsed,\n  onCollapseChange\n}) => {\n  const selectCategory = useCallback(() => {\n    store.ontology.selectCategory(category.className);\n  }, []);\n  const collapse = e => {\n    e.stopPropagation();\n    onCollapseChange(!collapsed);\n  };\n  const {\n    className,\n    displayName,\n    displayColor\n  } = category;\n  const isSelected = store.ontology.selectedCategoryName === className;\n  const instances = store.instance.categoryInstancesMap[className];\n  const isEmpty = !instances || instances.length <= 0;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"sidebar-category\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"sidebar-category-title\",\n    style: {\n      backgroundColor: isSelected ? hexToRgba(displayColor || '#FFFFFF', 0.2) : '#3D424D'\n    },\n    onClick: selectCategory,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"sidebar-category-title__dot\",\n    style: {\n      backgroundColor: displayColor\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      flex: 1\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 11\n    }\n  }, displayName)), /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 9\n    }\n  }, !isEmpty && /*#__PURE__*/React.createElement(\"span\", {\n    className: \"sidebar-category-title__count\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 13\n    }\n  }, instances.length), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"sidebar-category-action\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(CaretDownOutlined, {\n    className: \"sidebar-category-icon\",\n    style: {\n      transform: collapsed ? 'rotate(-90deg)' : '',\n      transition: 'transform 0.2s'\n    },\n    onClick: collapse,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 13\n    }\n  })))), !collapsed && !isEmpty && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"sidebar-category-content\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 9\n    }\n  }, instances.map(instance => /*#__PURE__*/React.createElement(SidebarInstance, {\n    key: instance.id,\n    instance: instance,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 13\n    }\n  }))));\n});\nexport default SidebarCategory;","map":{"version":3,"names":["React","useCallback","observer","hexToRgba","CaretDownOutlined","SidebarInstance","store","SidebarCategory","category","collapsed","onCollapseChange","selectCategory","ontology","className","collapse","e","stopPropagation","displayName","displayColor","isSelected","selectedCategoryName","instances","instance","categoryInstancesMap","isEmpty","length","createElement","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","style","backgroundColor","onClick","flex","transform","transition","map","key","id"],"sources":["/Users/qzheng/Documents/webroot/annotation_tools/src/components/video-tracking2/components/sidebar/SidebarCategory.tsx"],"sourcesContent":["import React, { useCallback } from 'react';\nimport { observer } from 'mobx-react';\nimport hexToRgba from 'hex-to-rgba';\nimport { CaretDownOutlined } from '@ant-design/icons';\nimport SidebarInstance from './SidebarInstance';\nimport store from '../../store/RootStore';\nimport { Category } from '../../types';\n\ninterface SidebarCategoryProps {\n  category: Category;\n  collapsed: boolean;\n  onCollapseChange: (collapsed: boolean) => void;\n}\n\nconst SidebarCategory = observer(({ category, collapsed, onCollapseChange }: SidebarCategoryProps) => {\n  const selectCategory = useCallback(() => {\n    store.ontology.selectCategory(category.className);\n  }, []);\n\n  const collapse = (e: React.MouseEvent) => {\n    e.stopPropagation();\n    onCollapseChange(!collapsed);\n  };\n\n  const { className, displayName, displayColor } = category;\n  const isSelected = store.ontology.selectedCategoryName === className;\n  const instances = store.instance.categoryInstancesMap[className];\n  const isEmpty = !instances || instances.length <= 0;\n  return (\n    <div className=\"sidebar-category\">\n      <div\n        className=\"sidebar-category-title\"\n        style={{\n          backgroundColor: isSelected ? hexToRgba(displayColor || '#FFFFFF', 0.2) : '#3D424D',\n        }}\n        onClick={selectCategory}\n      >\n        <span>\n          <div\n            className=\"sidebar-category-title__dot\"\n            style={{ backgroundColor: displayColor }}\n          />\n          <div style={{ flex: 1 }}>\n            {displayName}\n          </div>\n        </span>\n        <span>\n          {!isEmpty && (\n            <span className=\"sidebar-category-title__count\">\n              {instances.length}\n            </span>\n          )}\n          <span className=\"sidebar-category-action\">\n            <CaretDownOutlined\n              className=\"sidebar-category-icon\"\n              style={{\n                transform: collapsed ? 'rotate(-90deg)' : '',\n                transition: 'transform 0.2s',\n              }}\n              onClick={collapse}\n            />\n          </span>\n        </span>\n      </div>\n      {!collapsed && !isEmpty && (\n        <div\n          className=\"sidebar-category-content\"\n        >\n          {instances.map((instance) => (\n            <SidebarInstance key={instance.id} instance={instance} />\n          ))}\n        </div>\n      )}\n    </div>\n  );\n});\n\nexport default SidebarCategory;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}