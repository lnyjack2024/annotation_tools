{"ast":null,"code":"/* eslint-disable jsx-a11y/label-has-associated-control */import React from'react';import classnames from'classnames';import{Table,Button,Select,Input,Card,Radio,Tag}from'antd';import{formatTime,simpleClone}from'./util';import{UNDEFINED_COLOR}from'./AnnotationForm';import{isReviewEditable}from'../../utils/tool-mode';class AnnotationResults extends React.Component{constructor(){super();this.isUnfinished=item=>{var _item$type,_item$position;return item.name==null||!((_item$type=item.type)===null||_item$type===void 0?void 0:_item$type.length)||item.end==null||item.start==null||!((_item$position=item.position)===null||_item$position===void 0?void 0:_item$position.length);};this.state={qaIndex:null};// this.typeFilter = [];\nthis.snapshotPlaceholder=null;}componentDidMount(){const canvas=document.createElement('canvas');const ctx=canvas.getContext('2d');const w='1px';const h='1px';ctx.fillStyle='#ddddddff';ctx.fillRect(0,0,w,h);this.snapshotPlaceholder=canvas.toDataURL('image/png');}getColumns(){const{results,advertisementNameMap}=this.props;const adNames=new Set();const adTypes=new Set();results.forEach(result=>{const adName=result.name;const adType=result.type;if(adName){adNames.add(adName);}if(adType&&adType.length>0){adTypes.add(adType[adType.length-1]);}});return[{title:'ID',key:'id',width:50,dataIndex:'id',render:(text,record)=>{let i=-1;results.some((result,index)=>{if(result.key===record.key){i=result.key;return true;};return false;});return i;},sorter:(a,b)=>a.key-b.key},{title:'识别结果',key:'name',width:150,dataIndex:'name',render:(text,record)=>/*#__PURE__*/React.createElement(Tag,{color:advertisementNameMap.get(text)||UNDEFINED_COLOR},text||'未识别'),filters:[...adNames].map(item=>({text:item||'',value:item||''})).concat({text:'未识别',value:'未识别'}),onFilter:(value,record)=>{if(record.name==null)return value==='未识别';return record.name.indexOf(value)===0;}},{title:'广告形式',key:'type',dataIndex:'type',render:(text,record)=>text.join(' / ')||/*#__PURE__*/React.createElement(\"span\",null,\"\\u672A\\u9009\\u62E9\"),filters:[...adTypes].map(item=>({text:item||'',value:item||''})).concat({text:'未选择',value:'未选择'}),onFilter:(value,record)=>{if(record.type.length===0)return value==='未选择';return record.type[record.type.length-1]===value;}},{title:'开始时间',key:'start',width:100,dataIndex:'start',render:(text,record)=>formatTime(text),sorter:(a,b)=>a.start-b.start},{title:'结束时间',key:'end',width:100,dataIndex:'end',render:(text,record)=>formatTime(text),sorter:(a,b)=>a.end-b.end},{title:'视频截图',key:'snapshot',width:150,dataIndex:'snapshot',render:(text,record,index)=>{if(!text){return/*#__PURE__*/React.createElement(\"span\",null,\"-\");}return/*#__PURE__*/React.createElement(\"img\",{src:text,height:\"100\",width:\"178\",alt:\"snapshot\"});}},{title:'质检结果',width:100,key:'qaState',render:(text,record)=>{if(this.isUnfinished(record)){return/*#__PURE__*/React.createElement(Tag,{onClick:e=>this.handleTagClick(e,record.key),style:{backgroundColor:\"\".concat(UNDEFINED_COLOR,\"40\"),borderColor:UNDEFINED_COLOR}},\"\\u672A\\u5B8C\\u6210\");};switch(record.qaState){case'accepted':return/*#__PURE__*/React.createElement(Tag,{color:\"green\",onClick:e=>this.handleTagClick(e,record.key)},\"\\u5DF2\\u901A\\u8FC7\");case'rejected':return/*#__PURE__*/React.createElement(Tag,{color:\"red\",onClick:e=>this.handleTagClick(e,record.key)},\"\\u88AB\\u9A73\\u56DE\");default:return/*#__PURE__*/React.createElement(Tag,{color:\"gold\",onClick:e=>this.handleTagClick(e,record.key)},\"\\u5F85\\u8D28\\u68C0\");};},filters:[{text:'通过',value:'accepted'},{text:'驳回',value:'rejected'},{text:'未质检',value:'unchecked'},{text:'未完成',value:'unfinished'}],onFilter:(value,record)=>{if(value!=='unfinished')return value===record.qaState;return record.name==null||!record.type.length||record.end==null||record.start==null;}}];}handleTagClick(e,index){e.preventDefault();e.stopPropagation();const{qaIndex}=this.state;this.setState({qaIndex:qaIndex===index?null:index,clientX:this.container.offsetLeft+400,// e.clientX - document.getElementById('advertisement-annotation-app').offsetLeft,\nclientY:this.container.offsetTop-150// e.clientY - document.getElementById('advertisement-annotation-app').offsetTop,\n});}handleRowClick(record){const{canvas,results}=this.props;if(!canvas||!canvas.video)return;const key=record.key;// this.props.playVideo(record);\ncanvas.video.pause();if(record.start||record.start===0){canvas.video.currentTime=record.start;}this.props.setCurrentIndex(key);this.props.focusItemInRightSide(key);}handleButtonClick(e,type){this.setState({qaIndex:null});}// eslint-disable-next-line class-methods-use-this\ngetResult(results,key){return results.find(r=>r.key===key);}handleSelectChange(e,type){const{results}=this.props;const{qaIndex}=this.state;if(!this.getResult(results,qaIndex))return;const resultsCopy=simpleClone(results);const copyItem=this.getResult(resultsCopy,qaIndex);copyItem.qaReason=e;this.props.handleResultsChange(resultsCopy);}handleInputChange(e,type){const{results}=this.props;const{qaIndex}=this.state;if(!this.getResult(results,qaIndex))return;const resultsCopy=simpleClone(results);const copyItem=this.getResult(resultsCopy,qaIndex);copyItem.qaComment=e.target.value;this.props.handleResultsChange(resultsCopy);}handleRadioChange(e,type){const{results}=this.props;const{qaIndex}=this.state;if(!this.getResult(results,qaIndex))return;const resultsCopy=simpleClone(results);const copyItem=this.getResult(resultsCopy,qaIndex);copyItem.qaState=e.target.value;this.props.handleResultsChange(resultsCopy);}render(){const{results,currentIndex,issueTypes,toolMode}=this.props;const issueTypesList=(issueTypes||'广告形式错误,开始时间不准确,结束时间不准确,识别结果错误,其他').split(',');const{qaIndex,clientX,clientY}=this.state;const qaItem=this.getResult(results,qaIndex);const qaDisabled=qaItem&&this.isUnfinished(qaItem)||!isReviewEditable(toolMode);return/*#__PURE__*/React.createElement(\"div\",{className:\"annotation-results-container\",ref:r=>{this.container=r;}},/*#__PURE__*/React.createElement(Table,{columns:this.getColumns(),dataSource:results,size:\"middle\",pagination:{position:['bottomRight']}// scroll={{ y: 300 }}\n,onRow:(record,rowkey)=>({onClick:this.handleRowClick.bind(this,record)// 有点击事件的时候鼠标应该变成手指\n}),rowClassName:(record,index)=>classnames({'annotation-results-row-focus':record.key===currentIndex,'annotation-results-row-fail':this.isUnfinished(record)}),rowKey:record=>record.key}),qaIndex!=null&&qaItem?/*#__PURE__*/React.createElement(Card,{style:{position:'absolute',left:clientX,top:clientY,width:'400px',height:'200px',zIndex:'3',backgroundColor:'whitesmoke'}},\"ID: \".concat(qaIndex),/*#__PURE__*/React.createElement(Radio.Group,{value:this.qaState,size:\"small\",className:\"qa-state-radio\",onChange:e=>this.handleRadioChange(e,'qaState'),disabled:qaDisabled},/*#__PURE__*/React.createElement(Radio.Button,{value:\"accepted\"},\"\\u901A\\u8FC7\"),/*#__PURE__*/React.createElement(Radio.Button,{value:\"rejected\"},\"\\u9A73\\u56DE\")),/*#__PURE__*/React.createElement(Select,{size:\"small\",value:qaItem.qaReason,className:\"qa-reason-select\",onChange:e=>this.handleSelectChange(e,'qaReason'),getPopupContainer:()=>document.getElementById('root'),disabled:qaDisabled||qaItem.qaState==='accepted'},issueTypesList.map((value,index)=>/*#__PURE__*/ // eslint-disable-next-line react/no-array-index-key\nReact.createElement(Select.Option,{value:value,key:index},value))),/*#__PURE__*/React.createElement(\"label\",{style:{float:'right'}},\"\\u539F\\u56E0\"),/*#__PURE__*/React.createElement(Input.TextArea,{rows:4,className:\"qa-comment-textarea\",value:qaItem.qaComment,onChange:e=>this.handleInputChange(e,'qaComment'),disabled:qaDisabled||qaItem.qaState==='accepted'}),/*#__PURE__*/React.createElement(Button,{size:\"small\",style:{float:'right'},onClick:e=>this.handleButtonClick(e,'qaClose')},\"\\u5173\\u95ED\")):null);}}export default AnnotationResults;","map":{"version":3,"names":["React","classnames","Table","Button","Select","Input","Card","Radio","Tag","formatTime","simpleClone","UNDEFINED_COLOR","isReviewEditable","AnnotationResults","Component","constructor","isUnfinished","item","_item$type","_item$position","name","type","length","end","start","position","state","qaIndex","snapshotPlaceholder","componentDidMount","canvas","document","createElement","ctx","getContext","w","h","fillStyle","fillRect","toDataURL","getColumns","results","advertisementNameMap","props","adNames","Set","adTypes","forEach","result","adName","adType","add","title","key","width","dataIndex","render","text","record","i","some","index","sorter","a","b","color","get","filters","map","value","concat","onFilter","indexOf","join","src","height","alt","onClick","e","handleTagClick","style","backgroundColor","borderColor","qaState","preventDefault","stopPropagation","setState","clientX","container","offsetLeft","clientY","offsetTop","handleRowClick","video","pause","currentTime","setCurrentIndex","focusItemInRightSide","handleButtonClick","getResult","find","r","handleSelectChange","resultsCopy","copyItem","qaReason","handleResultsChange","handleInputChange","qaComment","target","handleRadioChange","currentIndex","issueTypes","toolMode","issueTypesList","split","qaItem","qaDisabled","className","ref","columns","dataSource","size","pagination","onRow","rowkey","bind","rowClassName","rowKey","left","top","zIndex","Group","onChange","disabled","getPopupContainer","getElementById","Option","float","TextArea","rows"],"sources":["/Users/qzheng/Documents/webroot/annotation_tools/src/components/advertisement-annotation/AnnotationResults.jsx"],"sourcesContent":["/* eslint-disable jsx-a11y/label-has-associated-control */\nimport React from 'react';\nimport classnames from 'classnames';\nimport { Table, Button, Select, Input, Card, Radio, Tag } from 'antd';\nimport { formatTime, simpleClone } from './util';\nimport { UNDEFINED_COLOR } from './AnnotationForm';\nimport { isReviewEditable } from '../../utils/tool-mode';\n\nclass AnnotationResults extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      qaIndex: null,\n    };\n    // this.typeFilter = [];\n    this.snapshotPlaceholder = null;\n  }\n\n  componentDidMount() {\n    const canvas = document.createElement('canvas');\n    const ctx = canvas.getContext('2d');\n    const w = '1px';\n    const h = '1px';\n    ctx.fillStyle = '#ddddddff';\n    ctx.fillRect(0, 0, w, h);\n    this.snapshotPlaceholder = canvas.toDataURL('image/png');\n  }\n\n  getColumns() {\n    const { results, advertisementNameMap } = this.props;\n\n    const adNames = new Set();\n    const adTypes = new Set();\n    results.forEach((result) => {\n      const adName = result.name;\n      const adType = result.type;\n      if (adName) {\n        adNames.add(adName);\n      }\n      if (adType && adType.length > 0) {\n        adTypes.add(adType[adType.length - 1]);\n      }\n    });\n\n    return [\n      {\n        title: 'ID',\n        key: 'id',\n        width: 50,\n        dataIndex: 'id',\n        render: (text, record) => {\n          let i = -1;\n          results.some((result, index) => {\n            if (result.key === record.key) {\n              i = result.key;\n              return true;\n            };\n            return false;\n          });\n          return i;\n        },\n        sorter: (a, b) => (a.key - b.key),\n      },\n      {\n        title: '识别结果',\n        key: 'name',\n        width: 150,\n        dataIndex: 'name',\n        render: (text, record) => (\n          <Tag color={advertisementNameMap.get(text) || UNDEFINED_COLOR}>\n            {text || '未识别'}\n          </Tag>\n        ),\n        filters: [...adNames].map((item) => ({\n          text: item || '',\n          value: item || '',\n        })).concat({ text: '未识别', value: '未识别' }),\n        onFilter: (value, record) => {\n          if (record.name == null) return value === '未识别';\n          return record.name.indexOf(value) === 0;\n        },\n      },\n      {\n        title: '广告形式',\n        key: 'type',\n        dataIndex: 'type',\n        render: (text, record) => (\n          text.join(' / ') || (\n          <span>\n            未选择\n          </span>\n          )\n        ),\n        filters: [...adTypes].map((item) => ({\n          text: item || '',\n          value: item || '',\n        })).concat({ text: '未选择', value: '未选择' }),\n        onFilter: (value, record) => {\n          if (record.type.length === 0) return value === '未选择';\n          return record.type[record.type.length - 1] === value;\n        }\n      },\n      {\n        title: '开始时间',\n        key: 'start',\n        width: 100,\n        dataIndex: 'start',\n        render: (text, record) => formatTime(text),\n        sorter: (a, b) => (a.start - b.start),\n      },\n      {\n        title: '结束时间',\n        key: 'end',\n        width: 100,\n        dataIndex: 'end',\n        render: (text, record) => formatTime(text),\n        sorter: (a, b) => (a.end - b.end),\n      },\n      {\n        title: '视频截图',\n        key: 'snapshot',\n        width: 150,\n        dataIndex: 'snapshot',\n        render: (text, record, index) => {\n          if (!text) {\n            return <span>-</span>;\n          }\n          return <img src={text} height=\"100\" width=\"178\" alt=\"snapshot\" />;\n        },\n      },\n      {\n        title: '质检结果',\n        width: 100,\n        key: 'qaState',\n        render: (text, record) => {\n          if (this.isUnfinished(record)) {\n            return (\n              <Tag\n                onClick={(e) => this.handleTagClick(e, record.key)}\n                style={{\n                  backgroundColor: `${UNDEFINED_COLOR}40`,\n                  borderColor: UNDEFINED_COLOR,\n                }}\n              >\n                未完成\n              </Tag>\n            );\n          };\n          switch (record.qaState) {\n            case 'accepted':\n              return <Tag color=\"green\" onClick={(e) => this.handleTagClick(e, record.key)}>已通过</Tag>;\n            case 'rejected':\n              return <Tag color=\"red\" onClick={(e) => this.handleTagClick(e, record.key)}>被驳回</Tag>;\n            default:\n              return <Tag color=\"gold\" onClick={(e) => this.handleTagClick(e, record.key)}>待质检</Tag>;\n          };\n        },\n        filters: [{ text: '通过', value: 'accepted' }, { text: '驳回', value: 'rejected' }, { text: '未质检', value: 'unchecked' }, { text: '未完成', value: 'unfinished' }],\n        onFilter: (value, record) => {\n          if (value !== 'unfinished') return value === record.qaState;\n          return (record.name == null || !record.type.length || record.end == null || record.start == null);\n        }\n      }\n    ];\n  }\n\n  isUnfinished = (item) => (item.name == null || !item.type?.length || item.end == null || item.start == null || !item.position?.length);\n\n  handleTagClick(e, index) {\n    e.preventDefault();\n    e.stopPropagation();\n    const { qaIndex } = this.state;\n    this.setState({\n      qaIndex: qaIndex === index ? null : index,\n      clientX: this.container.offsetLeft + 400, // e.clientX - document.getElementById('advertisement-annotation-app').offsetLeft,\n      clientY: this.container.offsetTop - 150, // e.clientY - document.getElementById('advertisement-annotation-app').offsetTop,\n    });\n  }\n\n  handleRowClick(record) {\n    const { canvas, results } = this.props;\n    if (!canvas || !canvas.video) return;\n    const key = record.key;\n    // this.props.playVideo(record);\n    canvas.video.pause();\n    if (record.start || record.start === 0) {\n      canvas.video.currentTime = record.start;\n    }\n    this.props.setCurrentIndex(key);\n    this.props.focusItemInRightSide(key);\n  }\n\n  handleButtonClick(e, type) {\n    this.setState({\n      qaIndex: null,\n    });\n  }\n\n  // eslint-disable-next-line class-methods-use-this\n  getResult(results, key) {\n    return results.find((r) => r.key === key);\n  }\n\n  handleSelectChange(e, type) {\n    const { results } = this.props;\n    const { qaIndex } = this.state;\n    if (!this.getResult(results, qaIndex)) return;\n    const resultsCopy = simpleClone(results);\n    const copyItem = this.getResult(resultsCopy, qaIndex);\n    copyItem.qaReason = e;\n    this.props.handleResultsChange(resultsCopy);\n  }\n\n  handleInputChange(e, type) {\n    const { results } = this.props;\n    const { qaIndex } = this.state;\n    if (!this.getResult(results, qaIndex)) return;\n    const resultsCopy = simpleClone(results);\n    const copyItem = this.getResult(resultsCopy, qaIndex);\n    copyItem.qaComment = e.target.value;\n    this.props.handleResultsChange(resultsCopy);\n  }\n\n  handleRadioChange(e, type) {\n    const { results } = this.props;\n    const { qaIndex } = this.state;\n    if (!this.getResult(results, qaIndex)) return;\n    const resultsCopy = simpleClone(results);\n    const copyItem = this.getResult(resultsCopy, qaIndex);\n    copyItem.qaState = e.target.value;\n    this.props.handleResultsChange(resultsCopy);\n  }\n\n  render() {\n    const { results, currentIndex, issueTypes, toolMode } = this.props;\n    const issueTypesList = (issueTypes || '广告形式错误,开始时间不准确,结束时间不准确,识别结果错误,其他').split(',');\n    const { qaIndex, clientX, clientY } = this.state;\n    const qaItem = this.getResult(results, qaIndex);\n    const qaDisabled = (qaItem && this.isUnfinished(qaItem)) || !isReviewEditable(toolMode);\n    return (\n      <div\n        className=\"annotation-results-container\"\n        ref={(r) => { this.container = r; }}\n      >\n        <Table\n          columns={this.getColumns()}\n          dataSource={results}\n          size=\"middle\"\n          pagination={{ position: ['bottomRight'] }}\n          // scroll={{ y: 300 }}\n          onRow={(record, rowkey) => ({\n            onClick: this.handleRowClick.bind(this, record), // 有点击事件的时候鼠标应该变成手指\n          })}\n          rowClassName={(record, index) => classnames({\n            'annotation-results-row-focus': record.key === currentIndex,\n            'annotation-results-row-fail': this.isUnfinished(record),\n          })}\n          rowKey={(record) => record.key}\n        />\n        {\n          qaIndex != null && qaItem\n            ? (\n              <Card\n                style={{\n                  position: 'absolute',\n                  left: clientX,\n                  top: clientY,\n                  width: '400px',\n                  height: '200px',\n                  zIndex: '3',\n                  backgroundColor: 'whitesmoke'\n                }}\n              >\n                {`ID: ${qaIndex}`}\n                <Radio.Group\n                  value={this.qaState}\n                  size=\"small\"\n                  className=\"qa-state-radio\"\n                  onChange={(e) => this.handleRadioChange(e, 'qaState')}\n                  disabled={qaDisabled}\n                >\n                  <Radio.Button value=\"accepted\">通过</Radio.Button>\n                  <Radio.Button value=\"rejected\">驳回</Radio.Button>\n                </Radio.Group>\n                <Select\n                  size=\"small\"\n                  value={qaItem.qaReason}\n                  className=\"qa-reason-select\"\n                  onChange={(e) => this.handleSelectChange(e, 'qaReason')}\n                  getPopupContainer={() => document.getElementById('root')}\n                  disabled={qaDisabled || qaItem.qaState === 'accepted'}\n                >\n                  {issueTypesList.map((value, index) => (\n                    // eslint-disable-next-line react/no-array-index-key\n                    <Select.Option value={value} key={index}>{value}</Select.Option>\n                  ))}\n                </Select>\n                <label style={{ float: 'right' }}>原因</label>\n                <Input.TextArea\n                  rows={4}\n                  className=\"qa-comment-textarea\"\n                  value={qaItem.qaComment}\n                  onChange={(e) => this.handleInputChange(e, 'qaComment')}\n                  disabled={qaDisabled || qaItem.qaState === 'accepted'}\n                />\n                <Button\n                  size=\"small\"\n\n                  style={{ float: 'right' }}\n                  onClick={(e) => this.handleButtonClick(e, 'qaClose')}\n                >\n                  关闭\n                </Button>\n              </Card>\n            )\n            : null\n        }\n      </div>\n    );\n  }\n}\n\nexport default AnnotationResults;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}