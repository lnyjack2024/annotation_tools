{"ast":null,"code":"var _jsxFileName = \"/Users/qzheng/Documents/webroot/annotation_tools/src/components/long-audio/components/SegmentAbstract/LineAbstractItem/LineAbstractItem.js\";\nimport React from 'react';\nimport { Input } from 'antd';\nimport { connect } from 'react-redux';\nimport hexToRgba from 'hex-to-rgba';\nimport { setLineText } from '../../../redux/action';\nimport './LineAbstractItem.scss';\nimport { defaultColor, shortText } from '../../../constants';\nconst LineAbstractItem = props => {\n  const color = props.ontology.get(props.line.role) ? hexToRgba(props.ontology.get(props.line.role), defaultColor.defaultAlpha) : 'transparent';\n  const validConfig = props.lineConfig.fields.map(value => value.name) || [];\n  const handleChangeInput = e => {\n    props.setLineText({\n      videoIndex: null,\n      segmentIndex: props.segmentIndex,\n      lineIndex: props.lineIndex,\n      text: e.target.value\n    });\n  };\n  const handleInputClick = e => {\n    e.stopPropagation();\n    props.setCurrentSegment({\n      index: props.segmentIndex\n    });\n    e.target.focus();\n  };\n  return (\n    /*#__PURE__*/\n    // eslint-disable-next-line react/jsx-filename-extension\n    React.createElement(\"div\", {\n      className: \"line-abstract-item-container\",\n      style: {\n        borderLeft: `6px solid ${color}`\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 32,\n        columnNumber: 5\n      }\n    }, props.client === 'hw-translation' ? /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Input.TextArea, {\n      className: \"line-abstract-item-text-input-hw\",\n      value: props.line.text,\n      onClick: e => handleInputClick(e),\n      disabled: true,\n      autoComplete: \"off\",\n      autoSize: {\n        minRows: 1\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 11\n      }\n    })) : /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"line-abstract-item-head\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 11\n      }\n    }, props.existRole && /*#__PURE__*/React.createElement(LineAbstractRoleTag, {\n      color: color,\n      role: props.line.role,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 15\n      }\n    }), Object.keys(props.line.attributes).map((value, index) => validConfig.indexOf(value) >= 0 && props.line.attributes[value] !== undefined ? /*#__PURE__*/React.createElement(\"div\", {\n      className: \"line-abstract-item-category\"\n      // eslint-disable-next-line react/no-array-index-key\n      ,\n      key: `line-abstract-item-category${index}`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 19\n      }\n    }, shortText(props.line.attributes[value], 10)) : null)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"line-abstract-item-text\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"line-abstract-item-text-cnt\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 13\n      }\n    }, props.line.text.length), /*#__PURE__*/React.createElement(Input, {\n      className: \"line-abstract-item-text-input\",\n      value: props.line.text,\n      onChange: e => handleChangeInput(e),\n      onClick: e => handleInputClick(e),\n      disabled: true,\n      autoComplete: \"off\",\n      onFocus: () => {\n        window.disableLongAudioHotKeys = true;\n      },\n      onBlur: () => {\n        window.disableLongAudioHotKeys = false;\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 13\n      }\n    }))))\n  );\n};\nconst LineAbstractRoleTag = props => /*#__PURE__*/React.createElement(\"div\", {\n  className: \"line-abstract-item-role\",\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 89,\n    columnNumber: 3\n  }\n}, /*#__PURE__*/React.createElement(\"div\", {\n  className: \"line-abstract-item-role-color\",\n  style: {\n    backgroundColor: props.color\n  },\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 90,\n    columnNumber: 5\n  }\n}), props.role);\nconst mapStateToProps = state => ({\n  ontology: state.ontology,\n  segmentConfig: state.segmentConfig,\n  lineConfig: state.lineConfig,\n  currentSegment: state.currentSegment,\n  toolMode: state.toolMode,\n  client: state.client\n});\nconst mapDispatchToProps = {\n  setLineText\n};\nexport default connect(mapStateToProps, mapDispatchToProps)(LineAbstractItem);","map":{"version":3,"names":["React","Input","connect","hexToRgba","setLineText","defaultColor","shortText","LineAbstractItem","props","color","ontology","get","line","role","defaultAlpha","validConfig","lineConfig","fields","map","value","name","handleChangeInput","e","videoIndex","segmentIndex","lineIndex","text","target","handleInputClick","stopPropagation","setCurrentSegment","index","focus","createElement","className","style","borderLeft","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","client","Fragment","TextArea","onClick","disabled","autoComplete","autoSize","minRows","existRole","LineAbstractRoleTag","Object","keys","attributes","indexOf","undefined","key","length","onChange","onFocus","window","disableLongAudioHotKeys","onBlur","backgroundColor","mapStateToProps","state","segmentConfig","currentSegment","toolMode","mapDispatchToProps"],"sources":["/Users/qzheng/Documents/webroot/annotation_tools/src/components/long-audio/components/SegmentAbstract/LineAbstractItem/LineAbstractItem.js"],"sourcesContent":["import React from 'react';\nimport { Input } from 'antd';\nimport { connect } from 'react-redux';\nimport hexToRgba from 'hex-to-rgba';\nimport { setLineText } from '../../../redux/action';\nimport './LineAbstractItem.scss';\nimport { defaultColor, shortText } from '../../../constants';\n\nconst LineAbstractItem = ((props) => {\n  const color = props.ontology.get(props.line.role)\n    ? hexToRgba(props.ontology.get(props.line.role), defaultColor.defaultAlpha)\n    : 'transparent';\n  const validConfig = props.lineConfig.fields.map((value) => value.name) || [];\n\n  const handleChangeInput = ((e) => {\n    props.setLineText({\n      videoIndex: null,\n      segmentIndex: props.segmentIndex,\n      lineIndex: props.lineIndex,\n      text: e.target.value,\n    });\n  });\n\n  const handleInputClick = (e) => {\n    e.stopPropagation();\n    props.setCurrentSegment({ index: props.segmentIndex });\n    e.target.focus();\n  };\n\n  return (\n    // eslint-disable-next-line react/jsx-filename-extension\n    <div\n      className=\"line-abstract-item-container\"\n      style={{ borderLeft: `6px solid ${color}` }}\n    >\n      { props.client === 'hw-translation' ? (\n        <>\n          <Input.TextArea\n            className=\"line-abstract-item-text-input-hw\"\n            value={props.line.text}\n            onClick={(e) => handleInputClick(e)}\n            disabled\n            autoComplete=\"off\"\n            autoSize={{ minRows: 1 }}\n          />\n        </>\n      ) : (\n        <>\n          <div className=\"line-abstract-item-head\">\n            {props.existRole && (\n              <LineAbstractRoleTag\n                color={color}\n                role={props.line.role}\n              />\n            )}\n            {Object.keys(props.line.attributes).map((value, index) => (\n              (validConfig.indexOf(value) >= 0 && props.line.attributes[value] !== undefined)\n                ? (\n                  <div\n                    className=\"line-abstract-item-category\"\n                    // eslint-disable-next-line react/no-array-index-key\n                    key={`line-abstract-item-category${index}`}\n                  >\n                    {shortText(props.line.attributes[value], 10)}\n                  </div>\n                ) : null\n            ))}\n          </div>\n          <div className=\"line-abstract-item-text\">\n            <div className=\"line-abstract-item-text-cnt\">{props.line.text.length}</div>\n            <Input\n              className=\"line-abstract-item-text-input\"\n              value={props.line.text}\n              onChange={(e) => handleChangeInput(e)}\n              onClick={(e) => handleInputClick(e)}\n              disabled\n              autoComplete=\"off\"\n              onFocus={() => { window.disableLongAudioHotKeys = true; }}\n              onBlur={() => { window.disableLongAudioHotKeys = false; }}\n            />\n          </div>\n        </>\n      )}\n    </div>\n  );\n});\n\nconst LineAbstractRoleTag = ((props) => (\n  <div className=\"line-abstract-item-role\">\n    <div\n      className=\"line-abstract-item-role-color\"\n      style={{ backgroundColor: props.color }}\n    />\n    {props.role}\n  </div>\n));\n\nconst mapStateToProps = (state) => ({\n  ontology: state.ontology,\n  segmentConfig: state.segmentConfig,\n  lineConfig: state.lineConfig,\n  currentSegment: state.currentSegment,\n  toolMode: state.toolMode,\n  client: state.client,\n});\nconst mapDispatchToProps = {\n  setLineText,\n};\nexport default connect(mapStateToProps, mapDispatchToProps)(LineAbstractItem);\n"],"mappings":";AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,KAAK,QAAQ,MAAM;AAC5B,SAASC,OAAO,QAAQ,aAAa;AACrC,OAAOC,SAAS,MAAM,aAAa;AACnC,SAASC,WAAW,QAAQ,uBAAuB;AACnD,OAAO,yBAAyB;AAChC,SAASC,YAAY,EAAEC,SAAS,QAAQ,oBAAoB;AAE5D,MAAMC,gBAAgB,GAAKC,KAAK,IAAK;EACnC,MAAMC,KAAK,GAAGD,KAAK,CAACE,QAAQ,CAACC,GAAG,CAACH,KAAK,CAACI,IAAI,CAACC,IAAI,CAAC,GAC7CV,SAAS,CAACK,KAAK,CAACE,QAAQ,CAACC,GAAG,CAACH,KAAK,CAACI,IAAI,CAACC,IAAI,CAAC,EAAER,YAAY,CAACS,YAAY,CAAC,GACzE,aAAa;EACjB,MAAMC,WAAW,GAAGP,KAAK,CAACQ,UAAU,CAACC,MAAM,CAACC,GAAG,CAAEC,KAAK,IAAKA,KAAK,CAACC,IAAI,CAAC,IAAI,EAAE;EAE5E,MAAMC,iBAAiB,GAAKC,CAAC,IAAK;IAChCd,KAAK,CAACJ,WAAW,CAAC;MAChBmB,UAAU,EAAE,IAAI;MAChBC,YAAY,EAAEhB,KAAK,CAACgB,YAAY;MAChCC,SAAS,EAAEjB,KAAK,CAACiB,SAAS;MAC1BC,IAAI,EAAEJ,CAAC,CAACK,MAAM,CAACR;IACjB,CAAC,CAAC;EACJ,CAAE;EAEF,MAAMS,gBAAgB,GAAIN,CAAC,IAAK;IAC9BA,CAAC,CAACO,eAAe,CAAC,CAAC;IACnBrB,KAAK,CAACsB,iBAAiB,CAAC;MAAEC,KAAK,EAAEvB,KAAK,CAACgB;IAAa,CAAC,CAAC;IACtDF,CAAC,CAACK,MAAM,CAACK,KAAK,CAAC,CAAC;EAClB,CAAC;EAED;IAAA;IACE;IACAhC,KAAA,CAAAiC,aAAA;MACEC,SAAS,EAAC,8BAA8B;MACxCC,KAAK,EAAE;QAAEC,UAAU,EAAE,aAAa3B,KAAK;MAAG,CAAE;MAAA4B,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,GAE1ClC,KAAK,CAACmC,MAAM,KAAK,gBAAgB,gBACjC3C,KAAA,CAAAiC,aAAA,CAAAjC,KAAA,CAAA4C,QAAA,qBACE5C,KAAA,CAAAiC,aAAA,CAAChC,KAAK,CAAC4C,QAAQ;MACbX,SAAS,EAAC,kCAAkC;MAC5Cf,KAAK,EAAEX,KAAK,CAACI,IAAI,CAACc,IAAK;MACvBoB,OAAO,EAAGxB,CAAC,IAAKM,gBAAgB,CAACN,CAAC,CAAE;MACpCyB,QAAQ;MACRC,YAAY,EAAC,KAAK;MAClBC,QAAQ,EAAE;QAAEC,OAAO,EAAE;MAAE,CAAE;MAAAb,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,CAC1B,CACD,CAAC,gBAEH1C,KAAA,CAAAiC,aAAA,CAAAjC,KAAA,CAAA4C,QAAA,qBACE5C,KAAA,CAAAiC,aAAA;MAAKC,SAAS,EAAC,yBAAyB;MAAAG,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,GACrClC,KAAK,CAAC2C,SAAS,iBACdnD,KAAA,CAAAiC,aAAA,CAACmB,mBAAmB;MAClB3C,KAAK,EAAEA,KAAM;MACbI,IAAI,EAAEL,KAAK,CAACI,IAAI,CAACC,IAAK;MAAAwB,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,CACvB,CACF,EACAW,MAAM,CAACC,IAAI,CAAC9C,KAAK,CAACI,IAAI,CAAC2C,UAAU,CAAC,CAACrC,GAAG,CAAC,CAACC,KAAK,EAAEY,KAAK,KAClDhB,WAAW,CAACyC,OAAO,CAACrC,KAAK,CAAC,IAAI,CAAC,IAAIX,KAAK,CAACI,IAAI,CAAC2C,UAAU,CAACpC,KAAK,CAAC,KAAKsC,SAAS,gBAE1EzD,KAAA,CAAAiC,aAAA;MACEC,SAAS,EAAC;MACV;MAAA;MACAwB,GAAG,EAAE,8BAA8B3B,KAAK,EAAG;MAAAM,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,GAE1CpC,SAAS,CAACE,KAAK,CAACI,IAAI,CAAC2C,UAAU,CAACpC,KAAK,CAAC,EAAE,EAAE,CACxC,CAAC,GACJ,IACP,CACE,CAAC,eACNnB,KAAA,CAAAiC,aAAA;MAAKC,SAAS,EAAC,yBAAyB;MAAAG,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,gBACtC1C,KAAA,CAAAiC,aAAA;MAAKC,SAAS,EAAC,6BAA6B;MAAAG,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,GAAElC,KAAK,CAACI,IAAI,CAACc,IAAI,CAACiC,MAAY,CAAC,eAC3E3D,KAAA,CAAAiC,aAAA,CAAChC,KAAK;MACJiC,SAAS,EAAC,+BAA+B;MACzCf,KAAK,EAAEX,KAAK,CAACI,IAAI,CAACc,IAAK;MACvBkC,QAAQ,EAAGtC,CAAC,IAAKD,iBAAiB,CAACC,CAAC,CAAE;MACtCwB,OAAO,EAAGxB,CAAC,IAAKM,gBAAgB,CAACN,CAAC,CAAE;MACpCyB,QAAQ;MACRC,YAAY,EAAC,KAAK;MAClBa,OAAO,EAAEA,CAAA,KAAM;QAAEC,MAAM,CAACC,uBAAuB,GAAG,IAAI;MAAE,CAAE;MAC1DC,MAAM,EAAEA,CAAA,KAAM;QAAEF,MAAM,CAACC,uBAAuB,GAAG,KAAK;MAAE,CAAE;MAAA1B,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,CAC3D,CACE,CACL,CAED;EAAC;AAEV,CAAE;AAEF,MAAMU,mBAAmB,GAAK5C,KAAK,iBACjCR,KAAA,CAAAiC,aAAA;EAAKC,SAAS,EAAC,yBAAyB;EAAAG,MAAA;EAAAC,QAAA;IAAAC,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA;AAAA,gBACtC1C,KAAA,CAAAiC,aAAA;EACEC,SAAS,EAAC,+BAA+B;EACzCC,KAAK,EAAE;IAAE8B,eAAe,EAAEzD,KAAK,CAACC;EAAM,CAAE;EAAA4B,MAAA;EAAAC,QAAA;IAAAC,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA;AAAA,CACzC,CAAC,EACDlC,KAAK,CAACK,IACJ,CACL;AAEF,MAAMqD,eAAe,GAAIC,KAAK,KAAM;EAClCzD,QAAQ,EAAEyD,KAAK,CAACzD,QAAQ;EACxB0D,aAAa,EAAED,KAAK,CAACC,aAAa;EAClCpD,UAAU,EAAEmD,KAAK,CAACnD,UAAU;EAC5BqD,cAAc,EAAEF,KAAK,CAACE,cAAc;EACpCC,QAAQ,EAAEH,KAAK,CAACG,QAAQ;EACxB3B,MAAM,EAAEwB,KAAK,CAACxB;AAChB,CAAC,CAAC;AACF,MAAM4B,kBAAkB,GAAG;EACzBnE;AACF,CAAC;AACD,eAAeF,OAAO,CAACgE,eAAe,EAAEK,kBAAkB,CAAC,CAAChE,gBAAgB,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module"}