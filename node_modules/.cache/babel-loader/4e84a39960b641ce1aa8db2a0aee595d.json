{"ast":null,"code":"var _jsxFileName = \"/Users/qzheng/Documents/webroot/annotation_tools/src/components/text-annotation/components/Container.tsx\";\nimport React from 'react';\nimport { Button, Popover } from 'antd';\nimport { FaQuestionCircle, FaDownload } from 'react-icons/fa';\nimport Guide from './Guide';\nimport { shadeColor } from '../utils';\nimport './Container.css';\nconst classPrefix = 'text-annotation';\nexport default ({\n  children,\n  mode,\n  labels,\n  connections,\n  selectedCategory,\n  onCategorySelect,\n  onImageDownload\n}) => {\n  const renderOption = (option, type) => {\n    const {\n      id,\n      text\n    } = option;\n    const isSelected = (selectedCategory === null || selectedCategory === void 0 ? void 0 : selectedCategory.type) === type && (selectedCategory === null || selectedCategory === void 0 ? void 0 : selectedCategory.id) === id;\n    const color = option.color || '#CBCCC6';\n    return /*#__PURE__*/React.createElement(\"div\", {\n      key: id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 34,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", Object.assign({\n      className: `${classPrefix}-category-option`,\n      style: {\n        borderColor: color,\n        backgroundColor: isSelected ? color : shadeColor(color, 30),\n        ...(!isSelected && {\n          color: shadeColor(color, -30),\n          fontWeight: 'normal'\n        }),\n        ...(mode === 'work' && {\n          cursor: 'pointer'\n        })\n      }\n    }, mode === 'work' && {\n      onClick: () => onCategorySelect({\n        type,\n        id\n      })\n    }, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 9\n      }\n    }), text));\n  };\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: `${classPrefix}-container`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: `${classPrefix}-content`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 7\n    }\n  }, mode === 'view' && /*#__PURE__*/React.createElement(\"div\", {\n    className: `${classPrefix}-alert`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 29\n    }\n  }, \"Run in a \", /*#__PURE__*/React.createElement(\"b\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 78\n    }\n  }, \"view\"), \" mode now.\"), children), /*#__PURE__*/React.createElement(\"div\", {\n    className: `${classPrefix}-mask`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: `${classPrefix}-block`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: `${classPrefix}-sidebar`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: `${classPrefix}-toolbar`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    type: \"link\",\n    ghost: true,\n    icon: /*#__PURE__*/React.createElement(FaDownload, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 45\n      }\n    }),\n    onClick: onImageDownload,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(Popover, {\n    placement: \"bottomRight\",\n    content: /*#__PURE__*/React.createElement(Guide, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 55\n      }\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    type: \"link\",\n    ghost: true,\n    icon: /*#__PURE__*/React.createElement(FaQuestionCircle, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 47\n      }\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 15\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: `${classPrefix}-category`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: `${classPrefix}-category-title`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 13\n    }\n  }, \"Labels\"), labels.map(label => renderOption(label, 'label'))), /*#__PURE__*/React.createElement(\"div\", {\n    className: `${classPrefix}-category`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: `${classPrefix}-category-title`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 13\n    }\n  }, \"Connections\"), connections.map(connection => renderOption(connection, 'connection'))))));\n};","map":{"version":3,"names":["React","Button","Popover","FaQuestionCircle","FaDownload","Guide","shadeColor","classPrefix","children","mode","labels","connections","selectedCategory","onCategorySelect","onImageDownload","renderOption","option","type","id","text","isSelected","color","createElement","key","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","Object","assign","className","style","borderColor","backgroundColor","fontWeight","cursor","onClick","ghost","icon","placement","content","map","label","connection"],"sources":["/Users/qzheng/Documents/webroot/annotation_tools/src/components/text-annotation/components/Container.tsx"],"sourcesContent":["import React from 'react';\nimport { Button, Popover } from 'antd';\nimport { FaQuestionCircle, FaDownload } from 'react-icons/fa';\nimport Guide from './Guide';\nimport { LabelCategory, ConnectionCategory } from '../payload';\nimport { shadeColor } from '../utils';\nimport './Container.css';\n\nexport interface SelectedCategory {\n  type: 'label' | 'connection';\n  id: LabelCategory['id'] | ConnectionCategory['id'];\n}\n\ninterface ContainerProps {\n  children?: React.ReactNode;\n  mode: string;\n  labels: LabelCategory[];\n  connections: ConnectionCategory[];\n  selectedCategory?: SelectedCategory;\n  onCategorySelect: (category: SelectedCategory) => void;\n  onImageDownload: () => void;\n}\n\nconst classPrefix = 'text-annotation';\n\nexport default ({ children, mode, labels, connections, selectedCategory, onCategorySelect, onImageDownload }: ContainerProps) => {\n  const renderOption = (option: LabelCategory | ConnectionCategory, type: SelectedCategory['type']) => {\n    const { id, text } = option;\n    const isSelected = selectedCategory?.type === type && selectedCategory?.id === id;\n\n    const color = (option as LabelCategory).color || '#CBCCC6';\n\n    return (\n      <div key={id}>\n        <span\n          className={`${classPrefix}-category-option`}\n          style={{\n            borderColor: color,\n            backgroundColor: isSelected ? color : shadeColor(color, 30),\n            ...!isSelected && { color: shadeColor(color, -30), fontWeight: 'normal' },\n            ...mode === 'work' && { cursor: 'pointer' },\n          }}\n          {...mode === 'work' && {\n            onClick: () => onCategorySelect({ type, id }),\n          }}\n        >\n          {text}\n        </span>\n      </div>\n    )\n  };\n\n  return (\n    <div className={`${classPrefix}-container`}>\n      <div className={`${classPrefix}-content`}>\n        {mode === 'view' && <div className={`${classPrefix}-alert`}>Run in a <b>view</b> mode now.</div>}\n        {children}\n      </div>\n      <div className={`${classPrefix}-mask`}>\n        <div className={`${classPrefix}-block`}></div>\n        <div className={`${classPrefix}-sidebar`}>\n          <div className={`${classPrefix}-toolbar`}>\n            <Button type=\"link\" ghost icon={<FaDownload />} onClick={onImageDownload} />\n            <Popover placement=\"bottomRight\" content={<Guide />}>\n              <Button type=\"link\" ghost icon={<FaQuestionCircle />} />\n            </Popover>\n          </div>\n          <div className={`${classPrefix}-category`}>\n            <div className={`${classPrefix}-category-title`}>Labels</div>\n            {labels.map(label => renderOption(label, 'label'))}\n          </div>\n          <div className={`${classPrefix}-category`}>\n            <div className={`${classPrefix}-category-title`}>Connections</div>\n            {connections.map(connection => renderOption(connection, 'connection'))}\n          </div>\n        </div>\n      </div>\n\n    </div>\n  )\n};\n"],"mappings":";AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,MAAM,EAAEC,OAAO,QAAQ,MAAM;AACtC,SAASC,gBAAgB,EAAEC,UAAU,QAAQ,gBAAgB;AAC7D,OAAOC,KAAK,MAAM,SAAS;AAE3B,SAASC,UAAU,QAAQ,UAAU;AACrC,OAAO,iBAAiB;AAiBxB,MAAMC,WAAW,GAAG,iBAAiB;AAErC,eAAe,CAAC;EAAEC,QAAQ;EAAEC,IAAI;EAAEC,MAAM;EAAEC,WAAW;EAAEC,gBAAgB;EAAEC,gBAAgB;EAAEC;AAAgC,CAAC,KAAK;EAC/H,MAAMC,YAAY,GAAGA,CAACC,MAA0C,EAAEC,IAA8B,KAAK;IACnG,MAAM;MAAEC,EAAE;MAAEC;IAAK,CAAC,GAAGH,MAAM;IAC3B,MAAMI,UAAU,GAAG,CAAAR,gBAAgB,aAAhBA,gBAAgB,uBAAhBA,gBAAgB,CAAEK,IAAI,MAAKA,IAAI,IAAI,CAAAL,gBAAgB,aAAhBA,gBAAgB,uBAAhBA,gBAAgB,CAAEM,EAAE,MAAKA,EAAE;IAEjF,MAAMG,KAAK,GAAIL,MAAM,CAAmBK,KAAK,IAAI,SAAS;IAE1D,oBACErB,KAAA,CAAAsB,aAAA;MAAKC,GAAG,EAAEL,EAAG;MAAAM,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,gBACX7B,KAAA,CAAAsB,aAAA,SAAAQ,MAAA,CAAAC,MAAA;MACEC,SAAS,EAAE,GAAGzB,WAAW,kBAAmB;MAC5C0B,KAAK,EAAE;QACLC,WAAW,EAAEb,KAAK;QAClBc,eAAe,EAAEf,UAAU,GAAGC,KAAK,GAAGf,UAAU,CAACe,KAAK,EAAE,EAAE,CAAC;QAC3D,IAAG,CAACD,UAAU,IAAI;UAAEC,KAAK,EAAEf,UAAU,CAACe,KAAK,EAAE,CAAC,EAAE,CAAC;UAAEe,UAAU,EAAE;QAAS,CAAC;QACzE,IAAG3B,IAAI,KAAK,MAAM,IAAI;UAAE4B,MAAM,EAAE;QAAU,CAAC;MAC7C;IAAE,GACE5B,IAAI,KAAK,MAAM,IAAI;MACrB6B,OAAO,EAAEA,CAAA,KAAMzB,gBAAgB,CAAC;QAAEI,IAAI;QAAEC;MAAG,CAAC;IAC9C,CAAC;MAAAM,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,IAEAV,IACG,CACH,CAAC;EAEV,CAAC;EAED,oBACEnB,KAAA,CAAAsB,aAAA;IAAKU,SAAS,EAAE,GAAGzB,WAAW,YAAa;IAAAiB,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBACzC7B,KAAA,CAAAsB,aAAA;IAAKU,SAAS,EAAE,GAAGzB,WAAW,UAAW;IAAAiB,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GACtCpB,IAAI,KAAK,MAAM,iBAAIT,KAAA,CAAAsB,aAAA;IAAKU,SAAS,EAAE,GAAGzB,WAAW,QAAS;IAAAiB,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAC,WAAS,eAAA7B,KAAA,CAAAsB,aAAA;IAAAE,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAG,MAAO,CAAC,cAAe,CAAC,EAC/FrB,QACE,CAAC,eACNR,KAAA,CAAAsB,aAAA;IAAKU,SAAS,EAAE,GAAGzB,WAAW,OAAQ;IAAAiB,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBACpC7B,KAAA,CAAAsB,aAAA;IAAKU,SAAS,EAAE,GAAGzB,WAAW,QAAS;IAAAiB,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,CAAM,CAAC,eAC9C7B,KAAA,CAAAsB,aAAA;IAAKU,SAAS,EAAE,GAAGzB,WAAW,UAAW;IAAAiB,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBACvC7B,KAAA,CAAAsB,aAAA;IAAKU,SAAS,EAAE,GAAGzB,WAAW,UAAW;IAAAiB,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBACvC7B,KAAA,CAAAsB,aAAA,CAACrB,MAAM;IAACgB,IAAI,EAAC,MAAM;IAACsB,KAAK;IAACC,IAAI,eAAExC,KAAA,CAAAsB,aAAA,CAAClB,UAAU;MAAAoB,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,CAAE,CAAE;IAACS,OAAO,EAAExB,eAAgB;IAAAU,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,CAAE,CAAC,eAC5E7B,KAAA,CAAAsB,aAAA,CAACpB,OAAO;IAACuC,SAAS,EAAC,aAAa;IAACC,OAAO,eAAE1C,KAAA,CAAAsB,aAAA,CAACjB,KAAK;MAAAmB,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,CAAE,CAAE;IAAAL,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBAClD7B,KAAA,CAAAsB,aAAA,CAACrB,MAAM;IAACgB,IAAI,EAAC,MAAM;IAACsB,KAAK;IAACC,IAAI,eAAExC,KAAA,CAAAsB,aAAA,CAACnB,gBAAgB;MAAAqB,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,CAAE,CAAE;IAAAL,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,CAAE,CAChD,CACN,CAAC,eACN7B,KAAA,CAAAsB,aAAA;IAAKU,SAAS,EAAE,GAAGzB,WAAW,WAAY;IAAAiB,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBACxC7B,KAAA,CAAAsB,aAAA;IAAKU,SAAS,EAAE,GAAGzB,WAAW,iBAAkB;IAAAiB,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAC,QAAW,CAAC,EAC5DnB,MAAM,CAACiC,GAAG,CAACC,KAAK,IAAI7B,YAAY,CAAC6B,KAAK,EAAE,OAAO,CAAC,CAC9C,CAAC,eACN5C,KAAA,CAAAsB,aAAA;IAAKU,SAAS,EAAE,GAAGzB,WAAW,WAAY;IAAAiB,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBACxC7B,KAAA,CAAAsB,aAAA;IAAKU,SAAS,EAAE,GAAGzB,WAAW,iBAAkB;IAAAiB,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAC,aAAgB,CAAC,EACjElB,WAAW,CAACgC,GAAG,CAACE,UAAU,IAAI9B,YAAY,CAAC8B,UAAU,EAAE,YAAY,CAAC,CAClE,CACF,CACF,CAEF,CAAC;AAEV,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module"}