{"ast":null,"code":"import React,{useEffect,useRef,useState}from'react';import cx from'classnames';import'./LayoutWrapper.scss';const LayoutWrapper=_ref=>{let{className,style,loading=false,loadingDelay=300,children,onMouseDown}=_ref;const timer=useRef();const[shouldLoading,setShouldLoading]=useState(false);useEffect(()=>{if(loadingDelay<=0){// no delay, do immediately\nsetShouldLoading(loading);}else if(loading){// if loading, set timer to show as loading\ntimer.current=window.setTimeout(()=>{setShouldLoading(loading);},loadingDelay);}else if(timer.current){window.clearTimeout(timer.current);setShouldLoading(false);}},[loading]);return/*#__PURE__*/React.createElement(\"div\",{className:cx('app-layout-wrapper',className),style:style,onContextMenu:e=>e.preventDefault(),onMouseDown:onMouseDown},shouldLoading&&/*#__PURE__*/React.createElement(\"div\",{className:\"app-loading\"}),children);};export default LayoutWrapper;","map":{"version":3,"names":["React","useEffect","useRef","useState","cx","LayoutWrapper","_ref","className","style","loading","loadingDelay","children","onMouseDown","timer","shouldLoading","setShouldLoading","current","window","setTimeout","clearTimeout","createElement","onContextMenu","e","preventDefault"],"sources":["/Users/qzheng/Documents/webroot/annotation_tools/src/components/common/layout/LayoutWrapper.tsx"],"sourcesContent":["import React, { useEffect, useRef, useState } from 'react';\nimport cx from 'classnames';\nimport './LayoutWrapper.scss';\n\ninterface LayoutWrapperProps {\n  className?: string;\n  style?: React.CSSProperties;\n  loading?: boolean;\n  loadingDelay?: number;\n  children: React.ReactNode;\n  onMouseDown?: (e: React.MouseEvent) => void;\n}\n\nconst LayoutWrapper = ({\n  className,\n  style,\n  loading = false,\n  loadingDelay = 300,\n  children,\n  onMouseDown,\n}: LayoutWrapperProps) => {\n  const timer = useRef<number>();\n  const [shouldLoading, setShouldLoading] = useState(false);\n\n  useEffect(() => {\n    if (loadingDelay <= 0) {\n      // no delay, do immediately\n      setShouldLoading(loading);\n    } else if (loading) {\n      // if loading, set timer to show as loading\n      timer.current = window.setTimeout(() => {\n        setShouldLoading(loading);\n      }, loadingDelay);\n    } else if (timer.current) {\n      window.clearTimeout(timer.current);\n      setShouldLoading(false);\n    }\n  }, [loading]);\n\n  return (\n    <div\n      className={cx('app-layout-wrapper', className)}\n      style={style}\n      onContextMenu={(e) => e.preventDefault()}\n      onMouseDown={onMouseDown}\n    >\n      {shouldLoading && <div className=\"app-loading\" />}\n      {children}\n    </div>\n  );\n};\n\nexport default LayoutWrapper;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,MAAM,CAAEC,QAAQ,KAAQ,OAAO,CAC1D,MAAO,CAAAC,EAAE,KAAM,YAAY,CAC3B,MAAO,sBAAsB,CAW7B,KAAM,CAAAC,aAAa,CAAGC,IAAA,EAOI,IAPH,CACrBC,SAAS,CACTC,KAAK,CACLC,OAAO,CAAG,KAAK,CACfC,YAAY,CAAG,GAAG,CAClBC,QAAQ,CACRC,WACkB,CAAC,CAAAN,IAAA,CACnB,KAAM,CAAAO,KAAK,CAAGX,MAAM,CAAS,CAAC,CAC9B,KAAM,CAACY,aAAa,CAAEC,gBAAgB,CAAC,CAAGZ,QAAQ,CAAC,KAAK,CAAC,CAEzDF,SAAS,CAAC,IAAM,CACd,GAAIS,YAAY,EAAI,CAAC,CAAE,CACrB;AACAK,gBAAgB,CAACN,OAAO,CAAC,CAC3B,CAAC,IAAM,IAAIA,OAAO,CAAE,CAClB;AACAI,KAAK,CAACG,OAAO,CAAGC,MAAM,CAACC,UAAU,CAAC,IAAM,CACtCH,gBAAgB,CAACN,OAAO,CAAC,CAC3B,CAAC,CAAEC,YAAY,CAAC,CAClB,CAAC,IAAM,IAAIG,KAAK,CAACG,OAAO,CAAE,CACxBC,MAAM,CAACE,YAAY,CAACN,KAAK,CAACG,OAAO,CAAC,CAClCD,gBAAgB,CAAC,KAAK,CAAC,CACzB,CACF,CAAC,CAAE,CAACN,OAAO,CAAC,CAAC,CAEb,mBACET,KAAA,CAAAoB,aAAA,QACEb,SAAS,CAAEH,EAAE,CAAC,oBAAoB,CAAEG,SAAS,CAAE,CAC/CC,KAAK,CAAEA,KAAM,CACba,aAAa,CAAGC,CAAC,EAAKA,CAAC,CAACC,cAAc,CAAC,CAAE,CACzCX,WAAW,CAAEA,WAAY,EAExBE,aAAa,eAAId,KAAA,CAAAoB,aAAA,QAAKb,SAAS,CAAC,aAAa,CAAE,CAAC,CAChDI,QACE,CAAC,CAEV,CAAC,CAED,cAAe,CAAAN,aAAa","ignoreList":[]},"metadata":{},"sourceType":"module"}