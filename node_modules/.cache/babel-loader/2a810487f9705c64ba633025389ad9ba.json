{"ast":null,"code":"var _jsxFileName = \"/Users/qzheng/Documents/webroot/annotation_tools/src/components/dialogue/components/validationPanel/index.tsx\";\nimport React, { useState } from 'react';\nimport { observer } from 'mobx-react';\nimport { Collapse } from 'antd';\nimport { CaretRightOutlined } from '@ant-design/icons';\nimport cx from 'classnames';\nimport i18n from '../../locales';\nimport ValidationItem from './ValidationItem';\nimport { Warning, Sync } from '../../../common/icons';\nimport store from '../../store';\nimport { ValidationType } from '../../types';\nconst ValidationPanel = observer(() => {\n  var _store$validation2, _store$validation3, _store$validation4;\n  const [activeKey, setActiveKey] = useState([ValidationType.SCRIPT]);\n  const titles = {\n    [ValidationType.SCRIPT]: i18n.translate('VALIDATION_TYPE_SCRIPT')\n  };\n  const renderWarnings = type => {\n    var _store$validation;\n    const warnings = (_store$validation = store.validation) === null || _store$validation === void 0 ? void 0 : _store$validation.warnings.filter(w => w.type === type);\n    if (!warnings || warnings.length <= 0) {\n      return null;\n    }\n    return /*#__PURE__*/React.createElement(Collapse.Panel, {\n      key: type,\n      header: titles[type],\n      extra: /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 27,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        className: \"result-count\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 28,\n          columnNumber: 13\n        }\n      }, warnings.length)),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 23,\n        columnNumber: 7\n      }\n    }, warnings.map(warning => /*#__PURE__*/React.createElement(ValidationItem, {\n      key: warning.id,\n      warning: warning,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 34,\n        columnNumber: 36\n      }\n    })));\n  };\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"scroller\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"sidebar-validation-header\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Warning, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"span\", {\n    style: {\n      paddingLeft: 8\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 11\n    }\n  }, i18n.translate('VALIDATION_TITLE', {\n    values: {\n      count: (_store$validation2 = store.validation) === null || _store$validation2 === void 0 ? void 0 : _store$validation2.warningCount\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: cx('icon-button', {\n      spinning: (_store$validation3 = store.validation) === null || _store$validation3 === void 0 ? void 0 : _store$validation3.checking\n    }),\n    onClick: (_store$validation4 = store.validation) === null || _store$validation4 === void 0 ? void 0 : _store$validation4.sync,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Sync, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 13\n    }\n  })))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"sidebar-validation-content\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Collapse, {\n    activeKey: activeKey,\n    onChange: activeKeys => setActiveKey(activeKeys),\n    ghost: true,\n    expandIcon: ({\n      isActive\n    }) => /*#__PURE__*/React.createElement(CaretRightOutlined, {\n      style: {\n        ...(isActive ? {\n          top: 11,\n          transform: 'rotate(90deg)',\n          color: 'rgba(0, 0, 0, 0.6)'\n        } : {\n          color: 'rgba(0, 0, 0, 0.4)'\n        })\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 13\n      }\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 9\n    }\n  }, Object.values(ValidationType).map(type => renderWarnings(type)))));\n});\nexport default ValidationPanel;","map":{"version":3,"names":["React","useState","observer","Collapse","CaretRightOutlined","cx","i18n","ValidationItem","Warning","Sync","store","ValidationType","ValidationPanel","_store$validation2","_store$validation3","_store$validation4","activeKey","setActiveKey","SCRIPT","titles","translate","renderWarnings","type","_store$validation","warnings","validation","filter","w","length","createElement","Panel","key","header","extra","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","className","map","warning","id","style","paddingLeft","values","count","warningCount","spinning","checking","onClick","sync","onChange","activeKeys","ghost","expandIcon","isActive","top","transform","color","Object"],"sources":["/Users/qzheng/Documents/webroot/annotation_tools/src/components/dialogue/components/validationPanel/index.tsx"],"sourcesContent":["import React, { useState } from 'react';\nimport { observer } from 'mobx-react';\nimport { Collapse } from 'antd';\nimport { CaretRightOutlined } from '@ant-design/icons';\nimport cx from 'classnames';\nimport i18n from '../../locales';\nimport ValidationItem from './ValidationItem';\nimport { Warning, Sync } from '../../../common/icons';\nimport store from '../../store';\nimport { ValidationType } from '../../types';\n\nconst ValidationPanel = observer(() => {\n  const [activeKey, setActiveKey] = useState<ValidationType | ValidationType[]>([ValidationType.SCRIPT]);\n  const titles = {\n    [ValidationType.SCRIPT]: i18n.translate('VALIDATION_TYPE_SCRIPT'),\n  };\n  const renderWarnings = (type: ValidationType) => {\n    const warnings = store.validation?.warnings.filter((w) => w.type === type);\n    if (!warnings || warnings.length <= 0) {\n      return null;\n    }\n    return (\n      <Collapse.Panel\n        key={type}\n        header={titles[type]}\n        extra={(\n          <div>\n            <span className=\"result-count\">\n              {warnings.length}\n            </span>\n          </div>\n        )}\n      >\n        {warnings.map((warning) => <ValidationItem key={warning.id} warning={warning} />)}\n      </Collapse.Panel>\n    );\n  };\n  return (\n    <div className=\"scroller\">\n      <div className=\"sidebar-validation-header\">\n        <div>\n          <Warning />\n          <span style={{ paddingLeft: 8 }}>\n            {i18n.translate('VALIDATION_TITLE', { values: { count: store.validation?.warningCount } })}\n          </span>\n        </div>\n        <div>\n          <div\n            className={cx('icon-button', {\n              spinning: store.validation?.checking,\n            })}\n            onClick={store.validation?.sync}\n          >\n            <Sync />\n          </div>\n        </div>\n      </div>\n      <div className=\"sidebar-validation-content\">\n        <Collapse\n          activeKey={activeKey}\n          onChange={(activeKeys) => setActiveKey(activeKeys as (ValidationType | ValidationType[]))}\n          ghost\n          expandIcon={({ isActive }) => (\n            <CaretRightOutlined\n              style={{\n                ...isActive ? {\n                  top: 11,\n                  transform: 'rotate(90deg)',\n                  color: 'rgba(0, 0, 0, 0.6)',\n                } : {\n                  color: 'rgba(0, 0, 0, 0.4)',\n                },\n              }}\n            />\n          )}\n        >\n          {Object.values(ValidationType).map((type) => renderWarnings(type))}\n        </Collapse>\n      </div>\n\n    </div>\n  );\n});\n\nexport default ValidationPanel;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}