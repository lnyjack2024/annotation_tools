{"ast":null,"code":"import { caf, raf } from './animationFrame';\n/*:: export type AnimationTimeoutId = {\n  id: number,\n};*/\nexport var cancelAnimationTimeout = function cancelAnimationTimeout(frame /*: AnimationTimeoutId*/) {\n  return caf(frame.id);\n};\n\n/**\n * Recursively calls requestAnimationFrame until a specified delay has been met or exceeded.\n * When the delay time has been reached the function you're timing out will be called.\n *\n * Credit: Joe Lambert (https://gist.github.com/joelambert/1002116#file-requesttimeout-js)\n */\nexport var requestAnimationTimeout = function requestAnimationTimeout(callback /*: Function*/, delay /*: number*/) /*: AnimationTimeoutId*/{\n  var start;\n  // wait for end of processing current event handler, because event handler may be long\n  Promise.resolve().then(function () {\n    start = Date.now();\n  });\n  var _timeout = function timeout() {\n    if (Date.now() - start >= delay) {\n      callback.call();\n    } else {\n      frame.id = raf(_timeout);\n    }\n  };\n  var frame /*: AnimationTimeoutId*/ = {\n    id: raf(_timeout)\n  };\n  return frame;\n};","map":{"version":3,"names":["caf","raf","cancelAnimationTimeout","frame","id","requestAnimationTimeout","callback","delay","start","Promise","resolve","then","Date","now","_timeout","timeout","call"],"sources":["/Users/qzheng/Documents/webroot/annotation_tools/node_modules/react-virtualized/dist/es/utils/requestAnimationTimeout.js"],"sourcesContent":["import { caf, raf } from './animationFrame';\n/*:: export type AnimationTimeoutId = {\n  id: number,\n};*/\nexport var cancelAnimationTimeout = function cancelAnimationTimeout(frame /*: AnimationTimeoutId*/) {\n  return caf(frame.id);\n};\n\n/**\n * Recursively calls requestAnimationFrame until a specified delay has been met or exceeded.\n * When the delay time has been reached the function you're timing out will be called.\n *\n * Credit: Joe Lambert (https://gist.github.com/joelambert/1002116#file-requesttimeout-js)\n */\nexport var requestAnimationTimeout = function requestAnimationTimeout(callback /*: Function*/, delay /*: number*/) /*: AnimationTimeoutId*/{\n  var start;\n  // wait for end of processing current event handler, because event handler may be long\n  Promise.resolve().then(function () {\n    start = Date.now();\n  });\n  var _timeout = function timeout() {\n    if (Date.now() - start >= delay) {\n      callback.call();\n    } else {\n      frame.id = raf(_timeout);\n    }\n  };\n  var frame /*: AnimationTimeoutId*/ = {\n    id: raf(_timeout)\n  };\n  return frame;\n};"],"mappings":"AAAA,SAASA,GAAG,EAAEC,GAAG,QAAQ,kBAAkB;AAC3C;AACA;AACA;AACA,OAAO,IAAIC,sBAAsB,GAAG,SAASA,sBAAsBA,CAACC,KAAK,CAAC,0BAA0B;EAClG,OAAOH,GAAG,CAACG,KAAK,CAACC,EAAE,CAAC;AACtB,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA,OAAO,IAAIC,uBAAuB,GAAG,SAASA,uBAAuBA,CAACC,QAAQ,CAAC,gBAAgBC,KAAK,CAAC,cAAc,wBAAwB;EACzI,IAAIC,KAAK;EACT;EACAC,OAAO,CAACC,OAAO,CAAC,CAAC,CAACC,IAAI,CAAC,YAAY;IACjCH,KAAK,GAAGI,IAAI,CAACC,GAAG,CAAC,CAAC;EACpB,CAAC,CAAC;EACF,IAAIC,QAAQ,GAAG,SAASC,OAAOA,CAAA,EAAG;IAChC,IAAIH,IAAI,CAACC,GAAG,CAAC,CAAC,GAAGL,KAAK,IAAID,KAAK,EAAE;MAC/BD,QAAQ,CAACU,IAAI,CAAC,CAAC;IACjB,CAAC,MAAM;MACLb,KAAK,CAACC,EAAE,GAAGH,GAAG,CAACa,QAAQ,CAAC;IAC1B;EACF,CAAC;EACD,IAAIX,KAAK,CAAC,2BAA2B;IACnCC,EAAE,EAAEH,GAAG,CAACa,QAAQ;EAClB,CAAC;EACD,OAAOX,KAAK;AACd,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module"}