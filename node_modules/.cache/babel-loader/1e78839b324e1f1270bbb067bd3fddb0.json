{"ast":null,"code":"/* eslint-disable react/jsx-filename-extension */import React,{useEffect,useState}from'react';import{connect}from'react-redux';import'./QACommentInput.scss';import{Input}from'antd';import{translate}from'../../../constants';import{setSegmentQAComment}from'../../../redux/action';const QACommentInput=props=>{const{results,currentVideo,currentSegment}=props;const segment=results[currentVideo][currentSegment];const[comment,setComment]=useState(segment.qaComment);useEffect(()=>{if(segment.qaComment!==comment){setComment(segment.qaComment);}},[segment.qaComment]);const handleInputChange=e=>{const{value}=e.target;setComment(value);props.setSegmentQAComment({qaComment:value});};return/*#__PURE__*/React.createElement(\"div\",{className:\"qa-comment-container\"},/*#__PURE__*/React.createElement(\"div\",{className:\"qa-comment-title\"},\"\".concat(translate('comment'),\":\")),/*#__PURE__*/React.createElement(Input.TextArea,{className:\"qa-comment-text\",value:comment,autoSize:{minRows:6},onChange:e=>handleInputChange(e),onFocus:()=>{window.disableLongAudioHotKeys=true;},onBlur:()=>{window.disableLongAudioHotKeys=false;}}));};const mapStateToProps=state=>({results:state.results,currentVideo:state.currentVideo,currentSegment:state.currentSegment});const mapDispatchToProps={setSegmentQAComment};export default connect(mapStateToProps,mapDispatchToProps)(QACommentInput);","map":{"version":3,"names":["React","useEffect","useState","connect","Input","translate","setSegmentQAComment","QACommentInput","props","results","currentVideo","currentSegment","segment","comment","setComment","qaComment","handleInputChange","e","value","target","createElement","className","concat","TextArea","autoSize","minRows","onChange","onFocus","window","disableLongAudioHotKeys","onBlur","mapStateToProps","state","mapDispatchToProps"],"sources":["/Users/qzheng/Documents/webroot/annotation_tools/src/components/long-audio/components/SegmentDetail/QACommentInput/QACommentInput.jsx"],"sourcesContent":["/* eslint-disable react/jsx-filename-extension */\nimport React, { useEffect, useState } from 'react';\nimport { connect } from 'react-redux';\nimport './QACommentInput.scss';\nimport { Input } from 'antd';\nimport { translate } from '../../../constants';\nimport { setSegmentQAComment } from '../../../redux/action';\n\nconst QACommentInput = (props) => {\n  const { results, currentVideo, currentSegment } = props;\n  const segment = results[currentVideo][currentSegment];\n\n  const [comment, setComment] = useState(segment.qaComment);\n\n  useEffect(() => {\n    if (segment.qaComment !== comment) {\n      setComment(segment.qaComment);\n    }\n  }, [segment.qaComment]);\n\n  const handleInputChange = (e) => {\n    const { value } = e.target;\n    setComment(value);\n    props.setSegmentQAComment({ qaComment: value });\n  };\n  return (\n    <div className=\"qa-comment-container\">\n      <div className=\"qa-comment-title\">{`${translate('comment')}:`}</div>\n      <Input.TextArea\n        className=\"qa-comment-text\"\n        value={comment}\n        autoSize={{ minRows: 6 }}\n        onChange={(e) => handleInputChange(e)}\n        onFocus={() => { window.disableLongAudioHotKeys = true; }}\n        onBlur={() => { window.disableLongAudioHotKeys = false; }}\n      />\n    </div>\n  );\n};\n\nQACommentInput.propTypes = {\n};\n\nconst mapStateToProps = (state) => ({\n  results: state.results,\n  currentVideo: state.currentVideo,\n  currentSegment: state.currentSegment,\n});\nconst mapDispatchToProps = {\n  setSegmentQAComment\n};\nexport default connect(mapStateToProps, mapDispatchToProps)(QACommentInput);\n"],"mappings":"AAAA,iDACA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,OAASC,OAAO,KAAQ,aAAa,CACrC,MAAO,uBAAuB,CAC9B,OAASC,KAAK,KAAQ,MAAM,CAC5B,OAASC,SAAS,KAAQ,oBAAoB,CAC9C,OAASC,mBAAmB,KAAQ,uBAAuB,CAE3D,KAAM,CAAAC,cAAc,CAAIC,KAAK,EAAK,CAChC,KAAM,CAAEC,OAAO,CAAEC,YAAY,CAAEC,cAAe,CAAC,CAAGH,KAAK,CACvD,KAAM,CAAAI,OAAO,CAAGH,OAAO,CAACC,YAAY,CAAC,CAACC,cAAc,CAAC,CAErD,KAAM,CAACE,OAAO,CAAEC,UAAU,CAAC,CAAGZ,QAAQ,CAACU,OAAO,CAACG,SAAS,CAAC,CAEzDd,SAAS,CAAC,IAAM,CACd,GAAIW,OAAO,CAACG,SAAS,GAAKF,OAAO,CAAE,CACjCC,UAAU,CAACF,OAAO,CAACG,SAAS,CAAC,CAC/B,CACF,CAAC,CAAE,CAACH,OAAO,CAACG,SAAS,CAAC,CAAC,CAEvB,KAAM,CAAAC,iBAAiB,CAAIC,CAAC,EAAK,CAC/B,KAAM,CAAEC,KAAM,CAAC,CAAGD,CAAC,CAACE,MAAM,CAC1BL,UAAU,CAACI,KAAK,CAAC,CACjBV,KAAK,CAACF,mBAAmB,CAAC,CAAES,SAAS,CAAEG,KAAM,CAAC,CAAC,CACjD,CAAC,CACD,mBACElB,KAAA,CAAAoB,aAAA,QAAKC,SAAS,CAAC,sBAAsB,eACnCrB,KAAA,CAAAoB,aAAA,QAAKC,SAAS,CAAC,kBAAkB,KAAAC,MAAA,CAAKjB,SAAS,CAAC,SAAS,CAAC,KAAS,CAAC,cACpEL,KAAA,CAAAoB,aAAA,CAAChB,KAAK,CAACmB,QAAQ,EACbF,SAAS,CAAC,iBAAiB,CAC3BH,KAAK,CAAEL,OAAQ,CACfW,QAAQ,CAAE,CAAEC,OAAO,CAAE,CAAE,CAAE,CACzBC,QAAQ,CAAGT,CAAC,EAAKD,iBAAiB,CAACC,CAAC,CAAE,CACtCU,OAAO,CAAEA,CAAA,GAAM,CAAEC,MAAM,CAACC,uBAAuB,CAAG,IAAI,CAAE,CAAE,CAC1DC,MAAM,CAAEA,CAAA,GAAM,CAAEF,MAAM,CAACC,uBAAuB,CAAG,KAAK,CAAE,CAAE,CAC3D,CACE,CAAC,CAEV,CAAC,CAKD,KAAM,CAAAE,eAAe,CAAIC,KAAK,GAAM,CAClCvB,OAAO,CAAEuB,KAAK,CAACvB,OAAO,CACtBC,YAAY,CAAEsB,KAAK,CAACtB,YAAY,CAChCC,cAAc,CAAEqB,KAAK,CAACrB,cACxB,CAAC,CAAC,CACF,KAAM,CAAAsB,kBAAkB,CAAG,CACzB3B,mBACF,CAAC,CACD,cAAe,CAAAH,OAAO,CAAC4B,eAAe,CAAEE,kBAAkB,CAAC,CAAC1B,cAAc,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module"}