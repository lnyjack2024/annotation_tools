{"ast":null,"code":"import React,{useContext}from'react';import{Button}from'antd';import{FormOutlined}from'@ant-design/icons';import cx from'classnames';import LocaleContext from'../locales/context';import translate from'../locales';const MarkRank=_ref=>{let{options,editable,editing,onEdit,value,onChange}=_ref;const locale=useContext(LocaleContext);return/*#__PURE__*/React.createElement(\"div\",{className:\"llm-chat-item-content-rank\"},editing?options.map(o=>/*#__PURE__*/React.createElement(\"span\",{key:o,className:cx('llm-chat-item-content-rank-tag',{active:value===null||value===void 0?void 0:value.includes(o)}),onClick:e=>{e.stopPropagation();const set=new Set(value);if(set.has(o)){set.delete(o);}else{set.add(o);}onChange(Array.from(set));}},o)):/*#__PURE__*/React.createElement(React.Fragment,null,options.map(o=>(value===null||value===void 0?void 0:value.includes(o))?/*#__PURE__*/React.createElement(\"span\",{key:o,className:\"llm-chat-item-content-rank-tag outline\"},o):null),(!value||value.length===0)&&/*#__PURE__*/React.createElement(\"span\",null,translate(locale,'CHAT_RANK_EMPTY')),editable&&/*#__PURE__*/React.createElement(Button,{size:\"small\",type:\"link\",icon:/*#__PURE__*/React.createElement(FormOutlined,null),onClick:e=>{if(onEdit){e.stopPropagation();onEdit();}}})));};export default MarkRank;","map":{"version":3,"names":["React","useContext","Button","FormOutlined","cx","LocaleContext","translate","MarkRank","_ref","options","editable","editing","onEdit","value","onChange","locale","createElement","className","map","o","key","active","includes","onClick","e","stopPropagation","set","Set","has","delete","add","Array","from","Fragment","length","size","type","icon"],"sources":["/Users/qzheng/Documents/webroot/annotation_tools/src/components/common/llm/chat/MarkRank.tsx"],"sourcesContent":["import React, { useContext } from 'react';\nimport { Button } from 'antd';\nimport { FormOutlined } from '@ant-design/icons';\nimport cx from 'classnames';\nimport { Rank } from '../types';\nimport LocaleContext from '../locales/context';\nimport translate from '../locales';\n\ninterface MarkRankProps {\n  options: string[];\n  editable: boolean;\n  editing: boolean;\n  onEdit?: () => void;\n  value?: Rank['marks'];\n  onChange: (value: Rank['marks']) => void;\n}\n\nconst MarkRank: React.FC<MarkRankProps> = ({\n  options,\n  editable,\n  editing,\n  onEdit,\n  value,\n  onChange,\n}) => {\n  const locale = useContext(LocaleContext);\n  return (\n    <div className=\"llm-chat-item-content-rank\">\n      {editing ? options.map((o) => (\n        <span\n          key={o}\n          className={cx('llm-chat-item-content-rank-tag', {\n            active: value?.includes(o),\n          })}\n          onClick={(e) => {\n            e.stopPropagation();\n            const set = new Set(value);\n            if (set.has(o)) {\n              set.delete(o);\n            } else {\n              set.add(o);\n            }\n            onChange(Array.from(set));\n          }}\n        >\n          {o}\n        </span>\n      )) : (\n        <>\n          {options.map((o) => (value?.includes(o)\n            ? (\n              <span\n                key={o}\n                className=\"llm-chat-item-content-rank-tag outline\"\n              >\n                {o}\n              </span>\n            )\n            : null\n          ))}\n          {(!value || value.length === 0) && (\n            <span>{translate(locale, 'CHAT_RANK_EMPTY')}</span>\n          )}\n          {editable && (\n            <Button\n              size=\"small\"\n              type=\"link\"\n              icon={<FormOutlined />}\n              onClick={(e) => {\n                if (onEdit) {\n                  e.stopPropagation();\n                  onEdit();\n                }\n              }}\n            />\n          )}\n        </>\n      )}\n    </div>\n  );\n};\n\nexport default MarkRank;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,UAAU,KAAQ,OAAO,CACzC,OAASC,MAAM,KAAQ,MAAM,CAC7B,OAASC,YAAY,KAAQ,mBAAmB,CAChD,MAAO,CAAAC,EAAE,KAAM,YAAY,CAE3B,MAAO,CAAAC,aAAa,KAAM,oBAAoB,CAC9C,MAAO,CAAAC,SAAS,KAAM,YAAY,CAWlC,KAAM,CAAAC,QAAiC,CAAGC,IAAA,EAOpC,IAPqC,CACzCC,OAAO,CACPC,QAAQ,CACRC,OAAO,CACPC,MAAM,CACNC,KAAK,CACLC,QACF,CAAC,CAAAN,IAAA,CACC,KAAM,CAAAO,MAAM,CAAGd,UAAU,CAACI,aAAa,CAAC,CACxC,mBACEL,KAAA,CAAAgB,aAAA,QAAKC,SAAS,CAAC,4BAA4B,EACxCN,OAAO,CAAGF,OAAO,CAACS,GAAG,CAAEC,CAAC,eACvBnB,KAAA,CAAAgB,aAAA,SACEI,GAAG,CAAED,CAAE,CACPF,SAAS,CAAEb,EAAE,CAAC,gCAAgC,CAAE,CAC9CiB,MAAM,CAAER,KAAK,SAALA,KAAK,iBAALA,KAAK,CAAES,QAAQ,CAACH,CAAC,CAC3B,CAAC,CAAE,CACHI,OAAO,CAAGC,CAAC,EAAK,CACdA,CAAC,CAACC,eAAe,CAAC,CAAC,CACnB,KAAM,CAAAC,GAAG,CAAG,GAAI,CAAAC,GAAG,CAACd,KAAK,CAAC,CAC1B,GAAIa,GAAG,CAACE,GAAG,CAACT,CAAC,CAAC,CAAE,CACdO,GAAG,CAACG,MAAM,CAACV,CAAC,CAAC,CACf,CAAC,IAAM,CACLO,GAAG,CAACI,GAAG,CAACX,CAAC,CAAC,CACZ,CACAL,QAAQ,CAACiB,KAAK,CAACC,IAAI,CAACN,GAAG,CAAC,CAAC,CAC3B,CAAE,EAEDP,CACG,CACP,CAAC,cACAnB,KAAA,CAAAgB,aAAA,CAAAhB,KAAA,CAAAiC,QAAA,MACGxB,OAAO,CAACS,GAAG,CAAEC,CAAC,EAAM,CAAAN,KAAK,SAALA,KAAK,iBAALA,KAAK,CAAES,QAAQ,CAACH,CAAC,CAAC,eAEnCnB,KAAA,CAAAgB,aAAA,SACEI,GAAG,CAAED,CAAE,CACPF,SAAS,CAAC,wCAAwC,EAEjDE,CACG,CAAC,CAEP,IACH,CAAC,CACD,CAAC,CAACN,KAAK,EAAIA,KAAK,CAACqB,MAAM,GAAK,CAAC,gBAC5BlC,KAAA,CAAAgB,aAAA,aAAOV,SAAS,CAACS,MAAM,CAAE,iBAAiB,CAAQ,CACnD,CACAL,QAAQ,eACPV,KAAA,CAAAgB,aAAA,CAACd,MAAM,EACLiC,IAAI,CAAC,OAAO,CACZC,IAAI,CAAC,MAAM,CACXC,IAAI,cAAErC,KAAA,CAAAgB,aAAA,CAACb,YAAY,KAAE,CAAE,CACvBoB,OAAO,CAAGC,CAAC,EAAK,CACd,GAAIZ,MAAM,CAAE,CACVY,CAAC,CAACC,eAAe,CAAC,CAAC,CACnBb,MAAM,CAAC,CAAC,CACV,CACF,CAAE,CACH,CAEH,CAED,CAAC,CAEV,CAAC,CAED,cAAe,CAAAL,QAAQ","ignoreList":[]},"metadata":{},"sourceType":"module"}