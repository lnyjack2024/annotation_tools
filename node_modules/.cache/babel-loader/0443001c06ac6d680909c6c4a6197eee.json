{"ast":null,"code":"import Mousetrap from 'mousetrap';\nimport { message } from 'antd';\nimport store from './store/RootStore';\nimport i18n from './locales';\nimport { ReviewMode, PixelToolMode, ViewMode, ContinuousModeType } from './types';\nimport { ToolMode } from '../../utils/tool-mode';\nimport { ShapeType } from '../common/shapes/types';\nMousetrap.addKeycodes({\n  188: 'comma',\n  190: 'period',\n  191: 'slash'\n});\nconst mousetrap = new Mousetrap();\nmousetrap.stopCallback = (e, element, combo) => {\n  const stop = Mousetrap.stopCallback(e, element, combo);\n  if (stop) {\n    return stop;\n  }\n  const categoryName = store.ontology.getCategoryNameByHotkey(e);\n  return !!categoryName;\n};\nexport default function bindKeyboardEvents(ctx) {\n  // default keyboard events\n  mousetrap.bind('alt+f', () => {\n    if (!store.config.pixelSearchVisible) {\n      store.config.setPixelSearchVisible(true);\n    }\n    return false;\n  });\n  mousetrap.bind('alt+j', () => {\n    if (store.thumbnail.thumbnailLayer) {\n      store.thumbnail.prev(1);\n    }\n    return false;\n  });\n  mousetrap.bind('alt+k', () => {\n    if (store.thumbnail.thumbnailLayer) {\n      store.thumbnail.next(1);\n    }\n    return false;\n  });\n  mousetrap.bind('comma', () => {\n    if (!store.config.isAnyModalOpened) {\n      store.frame.prev(1);\n    }\n    return false;\n  });\n  mousetrap.bind('period', () => {\n    if (!store.config.isAnyModalOpened) {\n      store.frame.next(1);\n    }\n    return false;\n  });\n  mousetrap.bind('shift+comma', () => {\n    if (!store.config.isAnyModalOpened) {\n      store.frame.prev(10);\n    }\n    return false;\n  });\n  mousetrap.bind('shift+period', () => {\n    if (!store.config.isAnyModalOpened) {\n      store.frame.next(10);\n    }\n    return false;\n  });\n  mousetrap.bind('slash', () => {\n    if (!store.config.isAnyModalOpened) {\n      store.frame.togglePlaying();\n    }\n    return false;\n  });\n  mousetrap.bind('w', () => {\n    store.frame.switchImage();\n    return false;\n  });\n  mousetrap.bind('g', () => {\n    store.config.setViewMode(store.config.viewMode === ViewMode.DEFAULT ? ViewMode.GRID : ViewMode.DEFAULT);\n    return false;\n  });\n  mousetrap.bind('space', () => {\n    if (!store.frame.loading && !store.shape.projecting && !store.config.isAnyModalOpened) {\n      store.toggleAddMode();\n    }\n    return false;\n  });\n  mousetrap.bind('enter', () => {\n    if (store.segmentation.updatingShape && !store.segmentation.updatingShape.canPolygonFinish) {\n      store.segmentation.cancelUpdate();\n    } else {\n      store.shape.finishUpdateShape();\n    }\n    return false;\n  });\n  mousetrap.bind('tab', () => {\n    if (!store.frame.loading && !store.shape.projecting && !store.config.isAnyModalOpened) {\n      store.instance.selectInstance(null);\n      if (store.config.continuousMode && store.config.continuousModeType === ContinuousModeType.IN_INSTANCE) {\n        store.ontology.selectCategoryItemByIndex(0);\n      }\n    }\n    return false;\n  });\n  mousetrap.bind('shift+tab', () => {\n    store.instance.switch();\n    return false;\n  });\n  mousetrap.bind(['del', 'backspace'], () => {\n    store.delete();\n    return false;\n  });\n  mousetrap.bind(['ctrl+s', 'command+s'], () => {\n    ctx.save();\n    return false;\n  });\n  mousetrap.bind(['ctrl+z', 'command+z'], () => {\n    store.undo.undo();\n    return false;\n  });\n  mousetrap.bind(['ctrl+y', 'command+y'], () => {\n    store.undo.redo();\n    return false;\n  });\n  mousetrap.bind(['ctrl+c', 'command+c'], () => {\n    store.copy();\n    return false;\n  });\n  mousetrap.bind(['ctrl+v', 'command+v'], () => {\n    store.paste();\n    return false;\n  });\n  mousetrap.bind(['ctrl+m', 'command+m'], () => {\n    store.config.setMeasureMode(!store.config.measureMode);\n    return false;\n  });\n  mousetrap.bind(['ctrl+h', 'command+h'], () => {\n    if (store.initialized && store.config.viewMode !== ViewMode.GRID) {\n      store.config.setHideOthers({\n        isOpen: !store.config.hideOthers.isOpen\n      });\n    }\n    return false;\n  });\n  mousetrap.bind(['ctrl+k', 'command+k'], () => {\n    if (store.config.reviewMode === ReviewMode.REVIEW) {\n      store.config.setRejectAllModalVisible(true);\n    }\n    return false;\n  });\n  mousetrap.bind(['ctrl+f', 'command+f'], () => {\n    store.segmentation.switchBetweenSelectedShapeSegments();\n    return false;\n  });\n  mousetrap.bind(['ctrl+shift+f', 'command+shift+f'], () => {\n    store.segmentation.switchBetweenSelectedShapeSegments(false);\n    return false;\n  });\n  mousetrap.bind('alt+d', () => {\n    const {\n      selectedInstanceItems\n    } = store.instance;\n    if (selectedInstanceItems.length === 1) {\n      store.addToCurrentFrame(selectedInstanceItems[0]);\n    }\n    return false;\n  });\n  mousetrap.bind('alt+shift+d', () => {\n    const {\n      selectedInstances\n    } = store.instance;\n    if (selectedInstances.length === 1) {\n      store.addToCurrentFrameByInstance(selectedInstances[0]);\n    }\n    return false;\n  });\n  mousetrap.bind('ctrl+shift+d', () => {\n    if (!store.readonly) {\n      const {\n        instances\n      } = store.instance;\n      const allInstances = Object.values(instances);\n      if (allInstances.length > 0) {\n        store.addToCurrentFrameForAllInstances(allInstances);\n      }\n    }\n    return false;\n  });\n  mousetrap.bind('alt+ctrl+d', () => {\n    if (!store.readonly) {\n      const {\n        currentFrame\n      } = store.frame;\n      const prevFrame = currentFrame - 1;\n      if (prevFrame < 0) {\n        return false;\n      }\n      const {\n        instances\n      } = store.instance;\n      let allInstances = Object.values(instances);\n      allInstances = allInstances.filter(i => i.frameStatus[prevFrame] !== undefined);\n      if (allInstances.length > 0) {\n        store.addToCurrentFrameForAllInstances(allInstances);\n      }\n    }\n    return false;\n  });\n  mousetrap.bind('shift+c', () => {\n    var _store$jobProxy;\n    if (((_store$jobProxy = store.jobProxy) === null || _store$jobProxy === void 0 ? void 0 : _store$jobProxy.toolMode) === ToolMode.QA_RW) {\n      store.config.setReviewMode(store.config.reviewMode === ReviewMode.LABELING ? ReviewMode.REVIEW : ReviewMode.LABELING);\n    }\n    return false;\n  });\n  mousetrap.bind('shift+l', () => {\n    store.config.setCrossLineVisible(!store.config.crossLineVisible);\n    return false;\n  });\n  mousetrap.bind('shift+z', () => {\n    if (!store.config.addMode) {\n      store.config.setHideAll(!store.config.hideAll);\n    }\n    return false;\n  });\n  mousetrap.bind('y', () => {\n    store.config.setPreviewMode(!store.config.previewMode);\n    return false;\n  });\n  mousetrap.bind('alt+l', () => {\n    store.shape.toggleCurveDiscretePointsVisibility();\n    return false;\n  });\n  mousetrap.bind('alt+h', () => {\n    store.review.setAnchorsVisible(!store.review.visible);\n    return false;\n  });\n  mousetrap.bind('alt+t', () => {\n    if (store.config.autoOCR) {\n      store.config.OCRSyncOn = !store.config.OCRSyncOn;\n      message.success(i18n.translate(store.config.OCRSyncOn ? 'OCR_ENABLED' : 'OCR_DISABLED'));\n    }\n    return false;\n  });\n  mousetrap.bind('o', () => {\n    store.openAttributesModal();\n    return false;\n  });\n  mousetrap.bind(['1', '2', '3', '4', '5', '6', '7', '8', '9', '0'], e => {\n    const num = Number(e.key);\n    if (!Number.isNaN(num)) {\n      store.activateTool(num);\n    }\n    return false;\n  });\n  mousetrap.bind('s', () => {\n    if (store.config.addMode) {\n      store.ontology.toggleCreateMethodByKeyboard();\n    } else if (store.segmentation.updatingShape) {\n      store.segmentation.switchMethod();\n    } else {\n      store.shape.subtractPolygon();\n    }\n    return false;\n  });\n  mousetrap.bind('f', () => {\n    store.shape.reverse();\n    return false;\n  });\n  mousetrap.bind('m', () => {\n    store.shape.merge();\n    return false;\n  });\n  mousetrap.bind('l', () => {\n    if (store.annotatable) {\n      store.instance.toggleLockedForSelectedItems();\n    }\n    return false;\n  });\n  mousetrap.bind(['ctrl+l', 'command+l'], () => {\n    if (store.annotatable) {\n      const {\n        currentEmpty,\n        locked\n      } = store.instance.currentLockedStatus;\n      if (!currentEmpty) {\n        store.instance.setAllLocked(!locked);\n      }\n    }\n    return false;\n  });\n  mousetrap.bind('a', () => {\n    var _store$shape$selected;\n    if (((_store$shape$selected = store.shape.selectedShapes[0]) === null || _store$shape$selected === void 0 ? void 0 : _store$shape$selected.shapeType) === ShapeType.KEYPOINTS) {\n      store.shape.startUpdateShape();\n    } else {\n      store.segmentation.setMode(PixelToolMode.PLUS);\n    }\n    return false;\n  });\n  mousetrap.bind('e', () => {\n    store.segmentation.setMode(PixelToolMode.MINUS);\n    return false;\n  });\n  mousetrap.bind('=', () => {\n    store.segmentation.setBrushSize(store.segmentation.currBrushSize + 1);\n    return false;\n  });\n  mousetrap.bind('-', () => {\n    store.segmentation.setBrushSize(store.segmentation.currBrushSize - 1);\n    return false;\n  });\n  mousetrap.bind('up', () => {\n    store.moveFront();\n    return false;\n  });\n  mousetrap.bind('shift+up', () => {\n    store.moveFront(true);\n    return false;\n  });\n  mousetrap.bind('down', () => {\n    store.moveBack();\n    return false;\n  });\n  mousetrap.bind('shift+down', () => {\n    store.moveBack(true);\n    return false;\n  });\n  mousetrap.bind('shift+g', () => {\n    store.config.updateCanvasConfig({\n      gridVisible: !store.config.isGridVisible\n    });\n    return false;\n  });\n  mousetrap.bind('t', () => {\n    store.shape.updateConfig({\n      fill: !store.shape.config.fill\n    });\n    return false;\n  });\n  mousetrap.bind('c', () => {\n    store.shape.toggleShapeCut('cut');\n    return false;\n  });\n  mousetrap.bind('d', () => {\n    store.shape.toggleShapeCut('split');\n    return false;\n  });\n  mousetrap.bind('shift+e', () => {\n    store.shape.toggleLineAppend();\n    return false;\n  });\n  mousetrap.bind('alt+shift+p', () => {\n    store.shape.setSideRatioVisibility(!store.shape.showSideRatio);\n    return false;\n  });\n  mousetrap.bind('alt+shift', () => {\n    store.shape.enterMultiShapesResize();\n    return false;\n  }, 'keydown');\n  mousetrap.bind('alt+shift', () => {\n    store.shape.exitMultiShapesResize();\n    return false;\n  }, 'keyup');\n  const keyupListener = e => {\n    if (store.frame.loading || store.shape.projecting || store.config.isAnyModalOpened) {\n      return;\n    }\n\n    // select category\n    const success = store.ontology.selectCategoryByHotkey(e);\n    if (success) {\n      e.stopImmediatePropagation();\n      return;\n    }\n    if (store.readonly) {\n      return;\n    }\n\n    // hotkey events\n    if (store.config.hotkeyMap[e.key]) {\n      ctx.handleHotkey(e.key);\n    }\n  };\n  document.addEventListener('keydown', keyupListener);\n  return () => {\n    mousetrap.unbind('alt+f');\n    mousetrap.unbind('alt+j');\n    mousetrap.unbind('alt+k');\n    mousetrap.unbind('comma');\n    mousetrap.unbind('period');\n    mousetrap.unbind('shift+comma');\n    mousetrap.unbind('shift+period');\n    mousetrap.unbind('slash');\n    mousetrap.unbind('w');\n    mousetrap.unbind('g');\n    mousetrap.unbind('space');\n    mousetrap.unbind('enter');\n    mousetrap.unbind('tab');\n    mousetrap.unbind('shift+tab');\n    mousetrap.unbind(['del', 'backspace']);\n    mousetrap.unbind(['ctrl+s', 'command+s']);\n    mousetrap.unbind(['ctrl+z', 'command+z']);\n    mousetrap.unbind(['ctrl+y', 'command+y']);\n    mousetrap.unbind(['ctrl+c', 'command+c']);\n    mousetrap.unbind(['ctrl+v', 'command+v']);\n    mousetrap.unbind(['ctrl+m', 'command+m']);\n    mousetrap.unbind(['ctrl+h', 'command+h']);\n    mousetrap.unbind(['ctrl+k', 'command+k']);\n    mousetrap.unbind(['ctrl+f', 'command+f']);\n    mousetrap.unbind(['ctrl+shift+f', 'command+shift+f']);\n    mousetrap.unbind('alt+d');\n    mousetrap.unbind('alt+shift+d');\n    mousetrap.unbind('ctrl+shift+d');\n    mousetrap.unbind('alt+ctrl+d');\n    mousetrap.unbind('shift+c');\n    mousetrap.unbind('shift+l');\n    mousetrap.unbind('shift+z');\n    mousetrap.unbind('y');\n    mousetrap.unbind('alt+l');\n    mousetrap.unbind('alt+h');\n    mousetrap.unbind('alt+t');\n    mousetrap.unbind('o');\n    mousetrap.unbind(['1', '2', '3', '4', '5', '6', '7', '8', '9', '0']);\n    mousetrap.unbind('f');\n    mousetrap.unbind('s');\n    mousetrap.unbind('m');\n    mousetrap.unbind('l');\n    mousetrap.unbind(['ctrl+l', 'command+l']);\n    mousetrap.unbind('a');\n    mousetrap.unbind('e');\n    mousetrap.unbind('=');\n    mousetrap.unbind('-');\n    mousetrap.unbind('up');\n    mousetrap.unbind('shift+up');\n    mousetrap.unbind('down');\n    mousetrap.unbind('shift+down');\n    mousetrap.unbind('shift+g');\n    mousetrap.unbind('t');\n    mousetrap.unbind('c');\n    mousetrap.unbind('d');\n    mousetrap.unbind('shift+e');\n    mousetrap.unbind('alt+shift+p');\n    mousetrap.unbind('alt+shift');\n    document.removeEventListener('keydown', keyupListener);\n  };\n}","map":{"version":3,"names":["Mousetrap","message","store","i18n","ReviewMode","PixelToolMode","ViewMode","ContinuousModeType","ToolMode","ShapeType","addKeycodes","mousetrap","stopCallback","e","element","combo","stop","categoryName","ontology","getCategoryNameByHotkey","bindKeyboardEvents","ctx","bind","config","pixelSearchVisible","setPixelSearchVisible","thumbnail","thumbnailLayer","prev","next","isAnyModalOpened","frame","togglePlaying","switchImage","setViewMode","viewMode","DEFAULT","GRID","loading","shape","projecting","toggleAddMode","segmentation","updatingShape","canPolygonFinish","cancelUpdate","finishUpdateShape","instance","selectInstance","continuousMode","continuousModeType","IN_INSTANCE","selectCategoryItemByIndex","switch","delete","save","undo","redo","copy","paste","setMeasureMode","measureMode","initialized","setHideOthers","isOpen","hideOthers","reviewMode","REVIEW","setRejectAllModalVisible","switchBetweenSelectedShapeSegments","selectedInstanceItems","length","addToCurrentFrame","selectedInstances","addToCurrentFrameByInstance","readonly","instances","allInstances","Object","values","addToCurrentFrameForAllInstances","currentFrame","prevFrame","filter","i","frameStatus","undefined","_store$jobProxy","jobProxy","toolMode","QA_RW","setReviewMode","LABELING","setCrossLineVisible","crossLineVisible","addMode","setHideAll","hideAll","setPreviewMode","previewMode","toggleCurveDiscretePointsVisibility","review","setAnchorsVisible","visible","autoOCR","OCRSyncOn","success","translate","openAttributesModal","num","Number","key","isNaN","activateTool","toggleCreateMethodByKeyboard","switchMethod","subtractPolygon","reverse","merge","annotatable","toggleLockedForSelectedItems","currentEmpty","locked","currentLockedStatus","setAllLocked","_store$shape$selected","selectedShapes","shapeType","KEYPOINTS","startUpdateShape","setMode","PLUS","MINUS","setBrushSize","currBrushSize","moveFront","moveBack","updateCanvasConfig","gridVisible","isGridVisible","updateConfig","fill","toggleShapeCut","toggleLineAppend","setSideRatioVisibility","showSideRatio","enterMultiShapesResize","exitMultiShapesResize","keyupListener","selectCategoryByHotkey","stopImmediatePropagation","hotkeyMap","handleHotkey","document","addEventListener","unbind","removeEventListener"],"sources":["/Users/qzheng/Documents/webroot/annotation_tools/src/components/video-tracking2/keyboard-events.ts"],"sourcesContent":["import Mousetrap, { ExtendedKeyboardEvent } from 'mousetrap';\nimport { message } from 'antd';\nimport { VideoTracking } from './index';\nimport store from './store/RootStore';\nimport i18n from './locales';\nimport { ReviewMode, PixelToolMode, ViewMode, ContinuousModeType } from './types';\nimport { ToolMode } from '../../utils/tool-mode';\nimport { ShapeType } from '../common/shapes/types';\n\nMousetrap.addKeycodes({\n  188: 'comma',\n  190: 'period',\n  191: 'slash',\n});\n\nconst mousetrap = new Mousetrap();\nmousetrap.stopCallback = (e: ExtendedKeyboardEvent, element: Element, combo: string) => {\n  const stop = Mousetrap.stopCallback(e, element, combo);\n  if (stop) {\n    return stop;\n  }\n  const categoryName = store.ontology.getCategoryNameByHotkey(e);\n  return !!categoryName;\n};\n\nexport default function bindKeyboardEvents(ctx: VideoTracking) {\n  // default keyboard events\n  mousetrap.bind('alt+f', () => {\n    if (!store.config.pixelSearchVisible) {\n      store.config.setPixelSearchVisible(true);\n    }\n    return false;\n  });\n  mousetrap.bind('alt+j', () => {\n    if (store.thumbnail.thumbnailLayer) {\n      store.thumbnail.prev(1);\n    }\n    return false;\n  });\n  mousetrap.bind('alt+k', () => {\n    if (store.thumbnail.thumbnailLayer) {\n      store.thumbnail.next(1);\n    }\n    return false;\n  });\n  mousetrap.bind('comma', () => {\n    if (!store.config.isAnyModalOpened) {\n      store.frame.prev(1);\n    }\n    return false;\n  });\n  mousetrap.bind('period', () => {\n    if (!store.config.isAnyModalOpened) {\n      store.frame.next(1);\n    }\n    return false;\n  });\n  mousetrap.bind('shift+comma', () => {\n    if (!store.config.isAnyModalOpened) {\n      store.frame.prev(10);\n    }\n    return false;\n  });\n  mousetrap.bind('shift+period', () => {\n    if (!store.config.isAnyModalOpened) {\n      store.frame.next(10);\n    }\n    return false;\n  });\n  mousetrap.bind('slash', () => {\n    if (!store.config.isAnyModalOpened) {\n      store.frame.togglePlaying();\n    }\n    return false;\n  });\n  mousetrap.bind('w', () => {\n    store.frame.switchImage();\n    return false;\n  });\n  mousetrap.bind('g', () => {\n    store.config.setViewMode(store.config.viewMode === ViewMode.DEFAULT ? ViewMode.GRID : ViewMode.DEFAULT);\n    return false;\n  });\n  mousetrap.bind('space', () => {\n    if (!store.frame.loading && !store.shape.projecting && !store.config.isAnyModalOpened) {\n      store.toggleAddMode();\n    }\n    return false;\n  });\n  mousetrap.bind('enter', () => {\n    if (store.segmentation.updatingShape && !store.segmentation.updatingShape.canPolygonFinish) {\n      store.segmentation.cancelUpdate();\n    } else {\n      store.shape.finishUpdateShape();\n    }\n    return false;\n  });\n  mousetrap.bind('tab', () => {\n    if (!store.frame.loading && !store.shape.projecting && !store.config.isAnyModalOpened) {\n      store.instance.selectInstance(null);\n      if (store.config.continuousMode && store.config.continuousModeType === ContinuousModeType.IN_INSTANCE) {\n        store.ontology.selectCategoryItemByIndex(0);\n      }\n    }\n    return false;\n  });\n  mousetrap.bind('shift+tab', () => {\n    store.instance.switch();\n    return false;\n  });\n  mousetrap.bind(['del', 'backspace'], () => {\n    store.delete();\n    return false;\n  });\n  mousetrap.bind(['ctrl+s', 'command+s'], () => {\n    ctx.save();\n    return false;\n  });\n  mousetrap.bind(['ctrl+z', 'command+z'], () => {\n    store.undo.undo();\n    return false;\n  });\n  mousetrap.bind(['ctrl+y', 'command+y'], () => {\n    store.undo.redo();\n    return false;\n  });\n  mousetrap.bind(['ctrl+c', 'command+c'], () => {\n    store.copy();\n    return false;\n  });\n  mousetrap.bind(['ctrl+v', 'command+v'], () => {\n    store.paste();\n    return false;\n  });\n  mousetrap.bind(['ctrl+m', 'command+m'], () => {\n    store.config.setMeasureMode(!store.config.measureMode);\n    return false;\n  });\n  mousetrap.bind(['ctrl+h', 'command+h'], () => {\n    if (store.initialized && store.config.viewMode !== ViewMode.GRID) {\n      store.config.setHideOthers({ isOpen: !store.config.hideOthers.isOpen });\n    }\n    return false;\n  });\n  mousetrap.bind(['ctrl+k', 'command+k'], () => {\n    if (store.config.reviewMode === ReviewMode.REVIEW) {\n      store.config.setRejectAllModalVisible(true);\n    }\n    return false;\n  });\n  mousetrap.bind(['ctrl+f', 'command+f'], () => {\n    store.segmentation.switchBetweenSelectedShapeSegments();\n    return false;\n  });\n  mousetrap.bind(['ctrl+shift+f', 'command+shift+f'], () => {\n    store.segmentation.switchBetweenSelectedShapeSegments(false);\n    return false;\n  });\n  mousetrap.bind('alt+d', () => {\n    const { selectedInstanceItems } = store.instance;\n    if (selectedInstanceItems.length === 1) {\n      store.addToCurrentFrame(selectedInstanceItems[0]);\n    }\n    return false;\n  });\n  mousetrap.bind('alt+shift+d', () => {\n    const { selectedInstances } = store.instance;\n    if (selectedInstances.length === 1) {\n      store.addToCurrentFrameByInstance(selectedInstances[0]);\n    }\n    return false;\n  });\n  mousetrap.bind('ctrl+shift+d', () => {\n    if (!store.readonly) {\n      const { instances } = store.instance;\n      const allInstances = Object.values(instances);\n      if (allInstances.length > 0) {\n        store.addToCurrentFrameForAllInstances(allInstances);\n      }\n    }\n    return false;\n  });\n  mousetrap.bind('alt+ctrl+d', () => {\n    if (!store.readonly) {\n      const { currentFrame } = store.frame;\n      const prevFrame = currentFrame - 1;\n      if (prevFrame < 0) {\n        return false;\n      }\n      const { instances } = store.instance;\n      let allInstances = Object.values(instances);\n      allInstances = allInstances.filter((i) => i.frameStatus[prevFrame] !== undefined);\n      if (allInstances.length > 0) {\n        store.addToCurrentFrameForAllInstances(allInstances);\n      }\n    }\n    return false;\n  });\n  mousetrap.bind('shift+c', () => {\n    if (store.jobProxy?.toolMode === ToolMode.QA_RW) {\n      store.config.setReviewMode(store.config.reviewMode === ReviewMode.LABELING ? ReviewMode.REVIEW : ReviewMode.LABELING);\n    }\n    return false;\n  });\n  mousetrap.bind('shift+l', () => {\n    store.config.setCrossLineVisible(!store.config.crossLineVisible);\n    return false;\n  });\n  mousetrap.bind('shift+z', () => {\n    if (!store.config.addMode) {\n      store.config.setHideAll(!store.config.hideAll);\n    }\n    return false;\n  });\n  mousetrap.bind('y', () => {\n    store.config.setPreviewMode(!store.config.previewMode);\n    return false;\n  });\n  mousetrap.bind('alt+l', () => {\n    store.shape.toggleCurveDiscretePointsVisibility();\n    return false;\n  });\n  mousetrap.bind('alt+h', () => {\n    store.review.setAnchorsVisible(!store.review.visible);\n    return false;\n  });\n  mousetrap.bind('alt+t', () => {\n    if (store.config.autoOCR) {\n      store.config.OCRSyncOn = !store.config.OCRSyncOn;\n      message.success(i18n.translate(store.config.OCRSyncOn ? 'OCR_ENABLED' : 'OCR_DISABLED'));\n    }\n    return false;\n  });\n  mousetrap.bind('o', () => {\n    store.openAttributesModal();\n    return false;\n  });\n  mousetrap.bind(['1', '2', '3', '4', '5', '6', '7', '8', '9', '0'], (e) => {\n    const num = Number(e.key);\n    if (!Number.isNaN(num)) {\n      store.activateTool(num);\n    }\n    return false;\n  });\n  mousetrap.bind('s', () => {\n    if (store.config.addMode) {\n      store.ontology.toggleCreateMethodByKeyboard();\n    } else if (store.segmentation.updatingShape) {\n      store.segmentation.switchMethod();\n    } else {\n      store.shape.subtractPolygon();\n    }\n    return false;\n  });\n  mousetrap.bind('f', () => {\n    store.shape.reverse();\n    return false;\n  });\n  mousetrap.bind('m', () => {\n    store.shape.merge();\n    return false;\n  });\n  mousetrap.bind('l', () => {\n    if (store.annotatable) {\n      store.instance.toggleLockedForSelectedItems();\n    }\n    return false;\n  });\n  mousetrap.bind(['ctrl+l', 'command+l'], () => {\n    if (store.annotatable) {\n      const { currentEmpty, locked } = store.instance.currentLockedStatus;\n      if (!currentEmpty) {\n        store.instance.setAllLocked(!locked);\n      }\n    }\n    return false;\n  });\n  mousetrap.bind('a', () => {\n    if (store.shape.selectedShapes[0]?.shapeType === ShapeType.KEYPOINTS) {\n      store.shape.startUpdateShape();\n    } else {\n      store.segmentation.setMode(PixelToolMode.PLUS);\n    }\n    return false;\n  });\n  mousetrap.bind('e', () => {\n    store.segmentation.setMode(PixelToolMode.MINUS);\n    return false;\n  });\n  mousetrap.bind('=', () => {\n    store.segmentation.setBrushSize(store.segmentation.currBrushSize + 1);\n    return false;\n  });\n  mousetrap.bind('-', () => {\n    store.segmentation.setBrushSize(store.segmentation.currBrushSize - 1);\n    return false;\n  });\n  mousetrap.bind('up', () => {\n    store.moveFront();\n    return false;\n  });\n  mousetrap.bind('shift+up', () => {\n    store.moveFront(true);\n    return false;\n  });\n  mousetrap.bind('down', () => {\n    store.moveBack();\n    return false;\n  });\n  mousetrap.bind('shift+down', () => {\n    store.moveBack(true);\n    return false;\n  });\n  mousetrap.bind('shift+g', () => {\n    store.config.updateCanvasConfig({ gridVisible: !store.config.isGridVisible });\n    return false;\n  });\n  mousetrap.bind('t', () => {\n    store.shape.updateConfig({ fill: !store.shape.config.fill });\n    return false;\n  });\n  mousetrap.bind('c', () => {\n    store.shape.toggleShapeCut('cut');\n    return false;\n  });\n  mousetrap.bind('d', () => {\n    store.shape.toggleShapeCut('split');\n    return false;\n  });\n  mousetrap.bind('shift+e', () => {\n    store.shape.toggleLineAppend();\n    return false;\n  });\n  mousetrap.bind('alt+shift+p', () => {\n    store.shape.setSideRatioVisibility(!store.shape.showSideRatio);\n    return false;\n  });\n  mousetrap.bind('alt+shift', () => {\n    store.shape.enterMultiShapesResize();\n    return false;\n  }, 'keydown');\n  mousetrap.bind('alt+shift', () => {\n    store.shape.exitMultiShapesResize();\n    return false;\n  }, 'keyup');\n\n  const keyupListener = (e: KeyboardEvent) => {\n    if (store.frame.loading || store.shape.projecting || store.config.isAnyModalOpened) {\n      return;\n    }\n\n    // select category\n    const success = store.ontology.selectCategoryByHotkey(e);\n    if (success) {\n      e.stopImmediatePropagation();\n      return;\n    }\n\n    if (store.readonly) {\n      return;\n    }\n\n    // hotkey events\n    if (store.config.hotkeyMap[e.key]) {\n      ctx.handleHotkey(e.key);\n    }\n  };\n  document.addEventListener('keydown', keyupListener);\n\n  return () => {\n    mousetrap.unbind('alt+f');\n    mousetrap.unbind('alt+j');\n    mousetrap.unbind('alt+k');\n    mousetrap.unbind('comma');\n    mousetrap.unbind('period');\n    mousetrap.unbind('shift+comma');\n    mousetrap.unbind('shift+period');\n    mousetrap.unbind('slash');\n    mousetrap.unbind('w');\n    mousetrap.unbind('g');\n    mousetrap.unbind('space');\n    mousetrap.unbind('enter');\n    mousetrap.unbind('tab');\n    mousetrap.unbind('shift+tab');\n    mousetrap.unbind(['del', 'backspace']);\n    mousetrap.unbind(['ctrl+s', 'command+s']);\n    mousetrap.unbind(['ctrl+z', 'command+z']);\n    mousetrap.unbind(['ctrl+y', 'command+y']);\n    mousetrap.unbind(['ctrl+c', 'command+c']);\n    mousetrap.unbind(['ctrl+v', 'command+v']);\n    mousetrap.unbind(['ctrl+m', 'command+m']);\n    mousetrap.unbind(['ctrl+h', 'command+h']);\n    mousetrap.unbind(['ctrl+k', 'command+k']);\n    mousetrap.unbind(['ctrl+f', 'command+f']);\n    mousetrap.unbind(['ctrl+shift+f', 'command+shift+f']);\n    mousetrap.unbind('alt+d');\n    mousetrap.unbind('alt+shift+d');\n    mousetrap.unbind('ctrl+shift+d');\n    mousetrap.unbind('alt+ctrl+d');\n    mousetrap.unbind('shift+c');\n    mousetrap.unbind('shift+l');\n    mousetrap.unbind('shift+z');\n    mousetrap.unbind('y');\n    mousetrap.unbind('alt+l');\n    mousetrap.unbind('alt+h');\n    mousetrap.unbind('alt+t');\n    mousetrap.unbind('o');\n    mousetrap.unbind(['1', '2', '3', '4', '5', '6', '7', '8', '9', '0']);\n    mousetrap.unbind('f');\n    mousetrap.unbind('s');\n    mousetrap.unbind('m');\n    mousetrap.unbind('l');\n    mousetrap.unbind(['ctrl+l', 'command+l']);\n    mousetrap.unbind('a');\n    mousetrap.unbind('e');\n    mousetrap.unbind('=');\n    mousetrap.unbind('-');\n    mousetrap.unbind('up');\n    mousetrap.unbind('shift+up');\n    mousetrap.unbind('down');\n    mousetrap.unbind('shift+down');\n    mousetrap.unbind('shift+g');\n    mousetrap.unbind('t');\n    mousetrap.unbind('c');\n    mousetrap.unbind('d');\n    mousetrap.unbind('shift+e');\n    mousetrap.unbind('alt+shift+p');\n    mousetrap.unbind('alt+shift');\n    document.removeEventListener('keydown', keyupListener);\n  };\n}\n"],"mappings":"AAAA,OAAOA,SAAS,MAAiC,WAAW;AAC5D,SAASC,OAAO,QAAQ,MAAM;AAE9B,OAAOC,KAAK,MAAM,mBAAmB;AACrC,OAAOC,IAAI,MAAM,WAAW;AAC5B,SAASC,UAAU,EAAEC,aAAa,EAAEC,QAAQ,EAAEC,kBAAkB,QAAQ,SAAS;AACjF,SAASC,QAAQ,QAAQ,uBAAuB;AAChD,SAASC,SAAS,QAAQ,wBAAwB;AAElDT,SAAS,CAACU,WAAW,CAAC;EACpB,GAAG,EAAE,OAAO;EACZ,GAAG,EAAE,QAAQ;EACb,GAAG,EAAE;AACP,CAAC,CAAC;AAEF,MAAMC,SAAS,GAAG,IAAIX,SAAS,CAAC,CAAC;AACjCW,SAAS,CAACC,YAAY,GAAG,CAACC,CAAwB,EAAEC,OAAgB,EAAEC,KAAa,KAAK;EACtF,MAAMC,IAAI,GAAGhB,SAAS,CAACY,YAAY,CAACC,CAAC,EAAEC,OAAO,EAAEC,KAAK,CAAC;EACtD,IAAIC,IAAI,EAAE;IACR,OAAOA,IAAI;EACb;EACA,MAAMC,YAAY,GAAGf,KAAK,CAACgB,QAAQ,CAACC,uBAAuB,CAACN,CAAC,CAAC;EAC9D,OAAO,CAAC,CAACI,YAAY;AACvB,CAAC;AAED,eAAe,SAASG,kBAAkBA,CAACC,GAAkB,EAAE;EAC7D;EACAV,SAAS,CAACW,IAAI,CAAC,OAAO,EAAE,MAAM;IAC5B,IAAI,CAACpB,KAAK,CAACqB,MAAM,CAACC,kBAAkB,EAAE;MACpCtB,KAAK,CAACqB,MAAM,CAACE,qBAAqB,CAAC,IAAI,CAAC;IAC1C;IACA,OAAO,KAAK;EACd,CAAC,CAAC;EACFd,SAAS,CAACW,IAAI,CAAC,OAAO,EAAE,MAAM;IAC5B,IAAIpB,KAAK,CAACwB,SAAS,CAACC,cAAc,EAAE;MAClCzB,KAAK,CAACwB,SAAS,CAACE,IAAI,CAAC,CAAC,CAAC;IACzB;IACA,OAAO,KAAK;EACd,CAAC,CAAC;EACFjB,SAAS,CAACW,IAAI,CAAC,OAAO,EAAE,MAAM;IAC5B,IAAIpB,KAAK,CAACwB,SAAS,CAACC,cAAc,EAAE;MAClCzB,KAAK,CAACwB,SAAS,CAACG,IAAI,CAAC,CAAC,CAAC;IACzB;IACA,OAAO,KAAK;EACd,CAAC,CAAC;EACFlB,SAAS,CAACW,IAAI,CAAC,OAAO,EAAE,MAAM;IAC5B,IAAI,CAACpB,KAAK,CAACqB,MAAM,CAACO,gBAAgB,EAAE;MAClC5B,KAAK,CAAC6B,KAAK,CAACH,IAAI,CAAC,CAAC,CAAC;IACrB;IACA,OAAO,KAAK;EACd,CAAC,CAAC;EACFjB,SAAS,CAACW,IAAI,CAAC,QAAQ,EAAE,MAAM;IAC7B,IAAI,CAACpB,KAAK,CAACqB,MAAM,CAACO,gBAAgB,EAAE;MAClC5B,KAAK,CAAC6B,KAAK,CAACF,IAAI,CAAC,CAAC,CAAC;IACrB;IACA,OAAO,KAAK;EACd,CAAC,CAAC;EACFlB,SAAS,CAACW,IAAI,CAAC,aAAa,EAAE,MAAM;IAClC,IAAI,CAACpB,KAAK,CAACqB,MAAM,CAACO,gBAAgB,EAAE;MAClC5B,KAAK,CAAC6B,KAAK,CAACH,IAAI,CAAC,EAAE,CAAC;IACtB;IACA,OAAO,KAAK;EACd,CAAC,CAAC;EACFjB,SAAS,CAACW,IAAI,CAAC,cAAc,EAAE,MAAM;IACnC,IAAI,CAACpB,KAAK,CAACqB,MAAM,CAACO,gBAAgB,EAAE;MAClC5B,KAAK,CAAC6B,KAAK,CAACF,IAAI,CAAC,EAAE,CAAC;IACtB;IACA,OAAO,KAAK;EACd,CAAC,CAAC;EACFlB,SAAS,CAACW,IAAI,CAAC,OAAO,EAAE,MAAM;IAC5B,IAAI,CAACpB,KAAK,CAACqB,MAAM,CAACO,gBAAgB,EAAE;MAClC5B,KAAK,CAAC6B,KAAK,CAACC,aAAa,CAAC,CAAC;IAC7B;IACA,OAAO,KAAK;EACd,CAAC,CAAC;EACFrB,SAAS,CAACW,IAAI,CAAC,GAAG,EAAE,MAAM;IACxBpB,KAAK,CAAC6B,KAAK,CAACE,WAAW,CAAC,CAAC;IACzB,OAAO,KAAK;EACd,CAAC,CAAC;EACFtB,SAAS,CAACW,IAAI,CAAC,GAAG,EAAE,MAAM;IACxBpB,KAAK,CAACqB,MAAM,CAACW,WAAW,CAAChC,KAAK,CAACqB,MAAM,CAACY,QAAQ,KAAK7B,QAAQ,CAAC8B,OAAO,GAAG9B,QAAQ,CAAC+B,IAAI,GAAG/B,QAAQ,CAAC8B,OAAO,CAAC;IACvG,OAAO,KAAK;EACd,CAAC,CAAC;EACFzB,SAAS,CAACW,IAAI,CAAC,OAAO,EAAE,MAAM;IAC5B,IAAI,CAACpB,KAAK,CAAC6B,KAAK,CAACO,OAAO,IAAI,CAACpC,KAAK,CAACqC,KAAK,CAACC,UAAU,IAAI,CAACtC,KAAK,CAACqB,MAAM,CAACO,gBAAgB,EAAE;MACrF5B,KAAK,CAACuC,aAAa,CAAC,CAAC;IACvB;IACA,OAAO,KAAK;EACd,CAAC,CAAC;EACF9B,SAAS,CAACW,IAAI,CAAC,OAAO,EAAE,MAAM;IAC5B,IAAIpB,KAAK,CAACwC,YAAY,CAACC,aAAa,IAAI,CAACzC,KAAK,CAACwC,YAAY,CAACC,aAAa,CAACC,gBAAgB,EAAE;MAC1F1C,KAAK,CAACwC,YAAY,CAACG,YAAY,CAAC,CAAC;IACnC,CAAC,MAAM;MACL3C,KAAK,CAACqC,KAAK,CAACO,iBAAiB,CAAC,CAAC;IACjC;IACA,OAAO,KAAK;EACd,CAAC,CAAC;EACFnC,SAAS,CAACW,IAAI,CAAC,KAAK,EAAE,MAAM;IAC1B,IAAI,CAACpB,KAAK,CAAC6B,KAAK,CAACO,OAAO,IAAI,CAACpC,KAAK,CAACqC,KAAK,CAACC,UAAU,IAAI,CAACtC,KAAK,CAACqB,MAAM,CAACO,gBAAgB,EAAE;MACrF5B,KAAK,CAAC6C,QAAQ,CAACC,cAAc,CAAC,IAAI,CAAC;MACnC,IAAI9C,KAAK,CAACqB,MAAM,CAAC0B,cAAc,IAAI/C,KAAK,CAACqB,MAAM,CAAC2B,kBAAkB,KAAK3C,kBAAkB,CAAC4C,WAAW,EAAE;QACrGjD,KAAK,CAACgB,QAAQ,CAACkC,yBAAyB,CAAC,CAAC,CAAC;MAC7C;IACF;IACA,OAAO,KAAK;EACd,CAAC,CAAC;EACFzC,SAAS,CAACW,IAAI,CAAC,WAAW,EAAE,MAAM;IAChCpB,KAAK,CAAC6C,QAAQ,CAACM,MAAM,CAAC,CAAC;IACvB,OAAO,KAAK;EACd,CAAC,CAAC;EACF1C,SAAS,CAACW,IAAI,CAAC,CAAC,KAAK,EAAE,WAAW,CAAC,EAAE,MAAM;IACzCpB,KAAK,CAACoD,MAAM,CAAC,CAAC;IACd,OAAO,KAAK;EACd,CAAC,CAAC;EACF3C,SAAS,CAACW,IAAI,CAAC,CAAC,QAAQ,EAAE,WAAW,CAAC,EAAE,MAAM;IAC5CD,GAAG,CAACkC,IAAI,CAAC,CAAC;IACV,OAAO,KAAK;EACd,CAAC,CAAC;EACF5C,SAAS,CAACW,IAAI,CAAC,CAAC,QAAQ,EAAE,WAAW,CAAC,EAAE,MAAM;IAC5CpB,KAAK,CAACsD,IAAI,CAACA,IAAI,CAAC,CAAC;IACjB,OAAO,KAAK;EACd,CAAC,CAAC;EACF7C,SAAS,CAACW,IAAI,CAAC,CAAC,QAAQ,EAAE,WAAW,CAAC,EAAE,MAAM;IAC5CpB,KAAK,CAACsD,IAAI,CAACC,IAAI,CAAC,CAAC;IACjB,OAAO,KAAK;EACd,CAAC,CAAC;EACF9C,SAAS,CAACW,IAAI,CAAC,CAAC,QAAQ,EAAE,WAAW,CAAC,EAAE,MAAM;IAC5CpB,KAAK,CAACwD,IAAI,CAAC,CAAC;IACZ,OAAO,KAAK;EACd,CAAC,CAAC;EACF/C,SAAS,CAACW,IAAI,CAAC,CAAC,QAAQ,EAAE,WAAW,CAAC,EAAE,MAAM;IAC5CpB,KAAK,CAACyD,KAAK,CAAC,CAAC;IACb,OAAO,KAAK;EACd,CAAC,CAAC;EACFhD,SAAS,CAACW,IAAI,CAAC,CAAC,QAAQ,EAAE,WAAW,CAAC,EAAE,MAAM;IAC5CpB,KAAK,CAACqB,MAAM,CAACqC,cAAc,CAAC,CAAC1D,KAAK,CAACqB,MAAM,CAACsC,WAAW,CAAC;IACtD,OAAO,KAAK;EACd,CAAC,CAAC;EACFlD,SAAS,CAACW,IAAI,CAAC,CAAC,QAAQ,EAAE,WAAW,CAAC,EAAE,MAAM;IAC5C,IAAIpB,KAAK,CAAC4D,WAAW,IAAI5D,KAAK,CAACqB,MAAM,CAACY,QAAQ,KAAK7B,QAAQ,CAAC+B,IAAI,EAAE;MAChEnC,KAAK,CAACqB,MAAM,CAACwC,aAAa,CAAC;QAAEC,MAAM,EAAE,CAAC9D,KAAK,CAACqB,MAAM,CAAC0C,UAAU,CAACD;MAAO,CAAC,CAAC;IACzE;IACA,OAAO,KAAK;EACd,CAAC,CAAC;EACFrD,SAAS,CAACW,IAAI,CAAC,CAAC,QAAQ,EAAE,WAAW,CAAC,EAAE,MAAM;IAC5C,IAAIpB,KAAK,CAACqB,MAAM,CAAC2C,UAAU,KAAK9D,UAAU,CAAC+D,MAAM,EAAE;MACjDjE,KAAK,CAACqB,MAAM,CAAC6C,wBAAwB,CAAC,IAAI,CAAC;IAC7C;IACA,OAAO,KAAK;EACd,CAAC,CAAC;EACFzD,SAAS,CAACW,IAAI,CAAC,CAAC,QAAQ,EAAE,WAAW,CAAC,EAAE,MAAM;IAC5CpB,KAAK,CAACwC,YAAY,CAAC2B,kCAAkC,CAAC,CAAC;IACvD,OAAO,KAAK;EACd,CAAC,CAAC;EACF1D,SAAS,CAACW,IAAI,CAAC,CAAC,cAAc,EAAE,iBAAiB,CAAC,EAAE,MAAM;IACxDpB,KAAK,CAACwC,YAAY,CAAC2B,kCAAkC,CAAC,KAAK,CAAC;IAC5D,OAAO,KAAK;EACd,CAAC,CAAC;EACF1D,SAAS,CAACW,IAAI,CAAC,OAAO,EAAE,MAAM;IAC5B,MAAM;MAAEgD;IAAsB,CAAC,GAAGpE,KAAK,CAAC6C,QAAQ;IAChD,IAAIuB,qBAAqB,CAACC,MAAM,KAAK,CAAC,EAAE;MACtCrE,KAAK,CAACsE,iBAAiB,CAACF,qBAAqB,CAAC,CAAC,CAAC,CAAC;IACnD;IACA,OAAO,KAAK;EACd,CAAC,CAAC;EACF3D,SAAS,CAACW,IAAI,CAAC,aAAa,EAAE,MAAM;IAClC,MAAM;MAAEmD;IAAkB,CAAC,GAAGvE,KAAK,CAAC6C,QAAQ;IAC5C,IAAI0B,iBAAiB,CAACF,MAAM,KAAK,CAAC,EAAE;MAClCrE,KAAK,CAACwE,2BAA2B,CAACD,iBAAiB,CAAC,CAAC,CAAC,CAAC;IACzD;IACA,OAAO,KAAK;EACd,CAAC,CAAC;EACF9D,SAAS,CAACW,IAAI,CAAC,cAAc,EAAE,MAAM;IACnC,IAAI,CAACpB,KAAK,CAACyE,QAAQ,EAAE;MACnB,MAAM;QAAEC;MAAU,CAAC,GAAG1E,KAAK,CAAC6C,QAAQ;MACpC,MAAM8B,YAAY,GAAGC,MAAM,CAACC,MAAM,CAACH,SAAS,CAAC;MAC7C,IAAIC,YAAY,CAACN,MAAM,GAAG,CAAC,EAAE;QAC3BrE,KAAK,CAAC8E,gCAAgC,CAACH,YAAY,CAAC;MACtD;IACF;IACA,OAAO,KAAK;EACd,CAAC,CAAC;EACFlE,SAAS,CAACW,IAAI,CAAC,YAAY,EAAE,MAAM;IACjC,IAAI,CAACpB,KAAK,CAACyE,QAAQ,EAAE;MACnB,MAAM;QAAEM;MAAa,CAAC,GAAG/E,KAAK,CAAC6B,KAAK;MACpC,MAAMmD,SAAS,GAAGD,YAAY,GAAG,CAAC;MAClC,IAAIC,SAAS,GAAG,CAAC,EAAE;QACjB,OAAO,KAAK;MACd;MACA,MAAM;QAAEN;MAAU,CAAC,GAAG1E,KAAK,CAAC6C,QAAQ;MACpC,IAAI8B,YAAY,GAAGC,MAAM,CAACC,MAAM,CAACH,SAAS,CAAC;MAC3CC,YAAY,GAAGA,YAAY,CAACM,MAAM,CAAEC,CAAC,IAAKA,CAAC,CAACC,WAAW,CAACH,SAAS,CAAC,KAAKI,SAAS,CAAC;MACjF,IAAIT,YAAY,CAACN,MAAM,GAAG,CAAC,EAAE;QAC3BrE,KAAK,CAAC8E,gCAAgC,CAACH,YAAY,CAAC;MACtD;IACF;IACA,OAAO,KAAK;EACd,CAAC,CAAC;EACFlE,SAAS,CAACW,IAAI,CAAC,SAAS,EAAE,MAAM;IAAA,IAAAiE,eAAA;IAC9B,IAAI,EAAAA,eAAA,GAAArF,KAAK,CAACsF,QAAQ,cAAAD,eAAA,uBAAdA,eAAA,CAAgBE,QAAQ,MAAKjF,QAAQ,CAACkF,KAAK,EAAE;MAC/CxF,KAAK,CAACqB,MAAM,CAACoE,aAAa,CAACzF,KAAK,CAACqB,MAAM,CAAC2C,UAAU,KAAK9D,UAAU,CAACwF,QAAQ,GAAGxF,UAAU,CAAC+D,MAAM,GAAG/D,UAAU,CAACwF,QAAQ,CAAC;IACvH;IACA,OAAO,KAAK;EACd,CAAC,CAAC;EACFjF,SAAS,CAACW,IAAI,CAAC,SAAS,EAAE,MAAM;IAC9BpB,KAAK,CAACqB,MAAM,CAACsE,mBAAmB,CAAC,CAAC3F,KAAK,CAACqB,MAAM,CAACuE,gBAAgB,CAAC;IAChE,OAAO,KAAK;EACd,CAAC,CAAC;EACFnF,SAAS,CAACW,IAAI,CAAC,SAAS,EAAE,MAAM;IAC9B,IAAI,CAACpB,KAAK,CAACqB,MAAM,CAACwE,OAAO,EAAE;MACzB7F,KAAK,CAACqB,MAAM,CAACyE,UAAU,CAAC,CAAC9F,KAAK,CAACqB,MAAM,CAAC0E,OAAO,CAAC;IAChD;IACA,OAAO,KAAK;EACd,CAAC,CAAC;EACFtF,SAAS,CAACW,IAAI,CAAC,GAAG,EAAE,MAAM;IACxBpB,KAAK,CAACqB,MAAM,CAAC2E,cAAc,CAAC,CAAChG,KAAK,CAACqB,MAAM,CAAC4E,WAAW,CAAC;IACtD,OAAO,KAAK;EACd,CAAC,CAAC;EACFxF,SAAS,CAACW,IAAI,CAAC,OAAO,EAAE,MAAM;IAC5BpB,KAAK,CAACqC,KAAK,CAAC6D,mCAAmC,CAAC,CAAC;IACjD,OAAO,KAAK;EACd,CAAC,CAAC;EACFzF,SAAS,CAACW,IAAI,CAAC,OAAO,EAAE,MAAM;IAC5BpB,KAAK,CAACmG,MAAM,CAACC,iBAAiB,CAAC,CAACpG,KAAK,CAACmG,MAAM,CAACE,OAAO,CAAC;IACrD,OAAO,KAAK;EACd,CAAC,CAAC;EACF5F,SAAS,CAACW,IAAI,CAAC,OAAO,EAAE,MAAM;IAC5B,IAAIpB,KAAK,CAACqB,MAAM,CAACiF,OAAO,EAAE;MACxBtG,KAAK,CAACqB,MAAM,CAACkF,SAAS,GAAG,CAACvG,KAAK,CAACqB,MAAM,CAACkF,SAAS;MAChDxG,OAAO,CAACyG,OAAO,CAACvG,IAAI,CAACwG,SAAS,CAACzG,KAAK,CAACqB,MAAM,CAACkF,SAAS,GAAG,aAAa,GAAG,cAAc,CAAC,CAAC;IAC1F;IACA,OAAO,KAAK;EACd,CAAC,CAAC;EACF9F,SAAS,CAACW,IAAI,CAAC,GAAG,EAAE,MAAM;IACxBpB,KAAK,CAAC0G,mBAAmB,CAAC,CAAC;IAC3B,OAAO,KAAK;EACd,CAAC,CAAC;EACFjG,SAAS,CAACW,IAAI,CAAC,CAAC,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,CAAC,EAAGT,CAAC,IAAK;IACxE,MAAMgG,GAAG,GAAGC,MAAM,CAACjG,CAAC,CAACkG,GAAG,CAAC;IACzB,IAAI,CAACD,MAAM,CAACE,KAAK,CAACH,GAAG,CAAC,EAAE;MACtB3G,KAAK,CAAC+G,YAAY,CAACJ,GAAG,CAAC;IACzB;IACA,OAAO,KAAK;EACd,CAAC,CAAC;EACFlG,SAAS,CAACW,IAAI,CAAC,GAAG,EAAE,MAAM;IACxB,IAAIpB,KAAK,CAACqB,MAAM,CAACwE,OAAO,EAAE;MACxB7F,KAAK,CAACgB,QAAQ,CAACgG,4BAA4B,CAAC,CAAC;IAC/C,CAAC,MAAM,IAAIhH,KAAK,CAACwC,YAAY,CAACC,aAAa,EAAE;MAC3CzC,KAAK,CAACwC,YAAY,CAACyE,YAAY,CAAC,CAAC;IACnC,CAAC,MAAM;MACLjH,KAAK,CAACqC,KAAK,CAAC6E,eAAe,CAAC,CAAC;IAC/B;IACA,OAAO,KAAK;EACd,CAAC,CAAC;EACFzG,SAAS,CAACW,IAAI,CAAC,GAAG,EAAE,MAAM;IACxBpB,KAAK,CAACqC,KAAK,CAAC8E,OAAO,CAAC,CAAC;IACrB,OAAO,KAAK;EACd,CAAC,CAAC;EACF1G,SAAS,CAACW,IAAI,CAAC,GAAG,EAAE,MAAM;IACxBpB,KAAK,CAACqC,KAAK,CAAC+E,KAAK,CAAC,CAAC;IACnB,OAAO,KAAK;EACd,CAAC,CAAC;EACF3G,SAAS,CAACW,IAAI,CAAC,GAAG,EAAE,MAAM;IACxB,IAAIpB,KAAK,CAACqH,WAAW,EAAE;MACrBrH,KAAK,CAAC6C,QAAQ,CAACyE,4BAA4B,CAAC,CAAC;IAC/C;IACA,OAAO,KAAK;EACd,CAAC,CAAC;EACF7G,SAAS,CAACW,IAAI,CAAC,CAAC,QAAQ,EAAE,WAAW,CAAC,EAAE,MAAM;IAC5C,IAAIpB,KAAK,CAACqH,WAAW,EAAE;MACrB,MAAM;QAAEE,YAAY;QAAEC;MAAO,CAAC,GAAGxH,KAAK,CAAC6C,QAAQ,CAAC4E,mBAAmB;MACnE,IAAI,CAACF,YAAY,EAAE;QACjBvH,KAAK,CAAC6C,QAAQ,CAAC6E,YAAY,CAAC,CAACF,MAAM,CAAC;MACtC;IACF;IACA,OAAO,KAAK;EACd,CAAC,CAAC;EACF/G,SAAS,CAACW,IAAI,CAAC,GAAG,EAAE,MAAM;IAAA,IAAAuG,qBAAA;IACxB,IAAI,EAAAA,qBAAA,GAAA3H,KAAK,CAACqC,KAAK,CAACuF,cAAc,CAAC,CAAC,CAAC,cAAAD,qBAAA,uBAA7BA,qBAAA,CAA+BE,SAAS,MAAKtH,SAAS,CAACuH,SAAS,EAAE;MACpE9H,KAAK,CAACqC,KAAK,CAAC0F,gBAAgB,CAAC,CAAC;IAChC,CAAC,MAAM;MACL/H,KAAK,CAACwC,YAAY,CAACwF,OAAO,CAAC7H,aAAa,CAAC8H,IAAI,CAAC;IAChD;IACA,OAAO,KAAK;EACd,CAAC,CAAC;EACFxH,SAAS,CAACW,IAAI,CAAC,GAAG,EAAE,MAAM;IACxBpB,KAAK,CAACwC,YAAY,CAACwF,OAAO,CAAC7H,aAAa,CAAC+H,KAAK,CAAC;IAC/C,OAAO,KAAK;EACd,CAAC,CAAC;EACFzH,SAAS,CAACW,IAAI,CAAC,GAAG,EAAE,MAAM;IACxBpB,KAAK,CAACwC,YAAY,CAAC2F,YAAY,CAACnI,KAAK,CAACwC,YAAY,CAAC4F,aAAa,GAAG,CAAC,CAAC;IACrE,OAAO,KAAK;EACd,CAAC,CAAC;EACF3H,SAAS,CAACW,IAAI,CAAC,GAAG,EAAE,MAAM;IACxBpB,KAAK,CAACwC,YAAY,CAAC2F,YAAY,CAACnI,KAAK,CAACwC,YAAY,CAAC4F,aAAa,GAAG,CAAC,CAAC;IACrE,OAAO,KAAK;EACd,CAAC,CAAC;EACF3H,SAAS,CAACW,IAAI,CAAC,IAAI,EAAE,MAAM;IACzBpB,KAAK,CAACqI,SAAS,CAAC,CAAC;IACjB,OAAO,KAAK;EACd,CAAC,CAAC;EACF5H,SAAS,CAACW,IAAI,CAAC,UAAU,EAAE,MAAM;IAC/BpB,KAAK,CAACqI,SAAS,CAAC,IAAI,CAAC;IACrB,OAAO,KAAK;EACd,CAAC,CAAC;EACF5H,SAAS,CAACW,IAAI,CAAC,MAAM,EAAE,MAAM;IAC3BpB,KAAK,CAACsI,QAAQ,CAAC,CAAC;IAChB,OAAO,KAAK;EACd,CAAC,CAAC;EACF7H,SAAS,CAACW,IAAI,CAAC,YAAY,EAAE,MAAM;IACjCpB,KAAK,CAACsI,QAAQ,CAAC,IAAI,CAAC;IACpB,OAAO,KAAK;EACd,CAAC,CAAC;EACF7H,SAAS,CAACW,IAAI,CAAC,SAAS,EAAE,MAAM;IAC9BpB,KAAK,CAACqB,MAAM,CAACkH,kBAAkB,CAAC;MAAEC,WAAW,EAAE,CAACxI,KAAK,CAACqB,MAAM,CAACoH;IAAc,CAAC,CAAC;IAC7E,OAAO,KAAK;EACd,CAAC,CAAC;EACFhI,SAAS,CAACW,IAAI,CAAC,GAAG,EAAE,MAAM;IACxBpB,KAAK,CAACqC,KAAK,CAACqG,YAAY,CAAC;MAAEC,IAAI,EAAE,CAAC3I,KAAK,CAACqC,KAAK,CAAChB,MAAM,CAACsH;IAAK,CAAC,CAAC;IAC5D,OAAO,KAAK;EACd,CAAC,CAAC;EACFlI,SAAS,CAACW,IAAI,CAAC,GAAG,EAAE,MAAM;IACxBpB,KAAK,CAACqC,KAAK,CAACuG,cAAc,CAAC,KAAK,CAAC;IACjC,OAAO,KAAK;EACd,CAAC,CAAC;EACFnI,SAAS,CAACW,IAAI,CAAC,GAAG,EAAE,MAAM;IACxBpB,KAAK,CAACqC,KAAK,CAACuG,cAAc,CAAC,OAAO,CAAC;IACnC,OAAO,KAAK;EACd,CAAC,CAAC;EACFnI,SAAS,CAACW,IAAI,CAAC,SAAS,EAAE,MAAM;IAC9BpB,KAAK,CAACqC,KAAK,CAACwG,gBAAgB,CAAC,CAAC;IAC9B,OAAO,KAAK;EACd,CAAC,CAAC;EACFpI,SAAS,CAACW,IAAI,CAAC,aAAa,EAAE,MAAM;IAClCpB,KAAK,CAACqC,KAAK,CAACyG,sBAAsB,CAAC,CAAC9I,KAAK,CAACqC,KAAK,CAAC0G,aAAa,CAAC;IAC9D,OAAO,KAAK;EACd,CAAC,CAAC;EACFtI,SAAS,CAACW,IAAI,CAAC,WAAW,EAAE,MAAM;IAChCpB,KAAK,CAACqC,KAAK,CAAC2G,sBAAsB,CAAC,CAAC;IACpC,OAAO,KAAK;EACd,CAAC,EAAE,SAAS,CAAC;EACbvI,SAAS,CAACW,IAAI,CAAC,WAAW,EAAE,MAAM;IAChCpB,KAAK,CAACqC,KAAK,CAAC4G,qBAAqB,CAAC,CAAC;IACnC,OAAO,KAAK;EACd,CAAC,EAAE,OAAO,CAAC;EAEX,MAAMC,aAAa,GAAIvI,CAAgB,IAAK;IAC1C,IAAIX,KAAK,CAAC6B,KAAK,CAACO,OAAO,IAAIpC,KAAK,CAACqC,KAAK,CAACC,UAAU,IAAItC,KAAK,CAACqB,MAAM,CAACO,gBAAgB,EAAE;MAClF;IACF;;IAEA;IACA,MAAM4E,OAAO,GAAGxG,KAAK,CAACgB,QAAQ,CAACmI,sBAAsB,CAACxI,CAAC,CAAC;IACxD,IAAI6F,OAAO,EAAE;MACX7F,CAAC,CAACyI,wBAAwB,CAAC,CAAC;MAC5B;IACF;IAEA,IAAIpJ,KAAK,CAACyE,QAAQ,EAAE;MAClB;IACF;;IAEA;IACA,IAAIzE,KAAK,CAACqB,MAAM,CAACgI,SAAS,CAAC1I,CAAC,CAACkG,GAAG,CAAC,EAAE;MACjC1F,GAAG,CAACmI,YAAY,CAAC3I,CAAC,CAACkG,GAAG,CAAC;IACzB;EACF,CAAC;EACD0C,QAAQ,CAACC,gBAAgB,CAAC,SAAS,EAAEN,aAAa,CAAC;EAEnD,OAAO,MAAM;IACXzI,SAAS,CAACgJ,MAAM,CAAC,OAAO,CAAC;IACzBhJ,SAAS,CAACgJ,MAAM,CAAC,OAAO,CAAC;IACzBhJ,SAAS,CAACgJ,MAAM,CAAC,OAAO,CAAC;IACzBhJ,SAAS,CAACgJ,MAAM,CAAC,OAAO,CAAC;IACzBhJ,SAAS,CAACgJ,MAAM,CAAC,QAAQ,CAAC;IAC1BhJ,SAAS,CAACgJ,MAAM,CAAC,aAAa,CAAC;IAC/BhJ,SAAS,CAACgJ,MAAM,CAAC,cAAc,CAAC;IAChChJ,SAAS,CAACgJ,MAAM,CAAC,OAAO,CAAC;IACzBhJ,SAAS,CAACgJ,MAAM,CAAC,GAAG,CAAC;IACrBhJ,SAAS,CAACgJ,MAAM,CAAC,GAAG,CAAC;IACrBhJ,SAAS,CAACgJ,MAAM,CAAC,OAAO,CAAC;IACzBhJ,SAAS,CAACgJ,MAAM,CAAC,OAAO,CAAC;IACzBhJ,SAAS,CAACgJ,MAAM,CAAC,KAAK,CAAC;IACvBhJ,SAAS,CAACgJ,MAAM,CAAC,WAAW,CAAC;IAC7BhJ,SAAS,CAACgJ,MAAM,CAAC,CAAC,KAAK,EAAE,WAAW,CAAC,CAAC;IACtChJ,SAAS,CAACgJ,MAAM,CAAC,CAAC,QAAQ,EAAE,WAAW,CAAC,CAAC;IACzChJ,SAAS,CAACgJ,MAAM,CAAC,CAAC,QAAQ,EAAE,WAAW,CAAC,CAAC;IACzChJ,SAAS,CAACgJ,MAAM,CAAC,CAAC,QAAQ,EAAE,WAAW,CAAC,CAAC;IACzChJ,SAAS,CAACgJ,MAAM,CAAC,CAAC,QAAQ,EAAE,WAAW,CAAC,CAAC;IACzChJ,SAAS,CAACgJ,MAAM,CAAC,CAAC,QAAQ,EAAE,WAAW,CAAC,CAAC;IACzChJ,SAAS,CAACgJ,MAAM,CAAC,CAAC,QAAQ,EAAE,WAAW,CAAC,CAAC;IACzChJ,SAAS,CAACgJ,MAAM,CAAC,CAAC,QAAQ,EAAE,WAAW,CAAC,CAAC;IACzChJ,SAAS,CAACgJ,MAAM,CAAC,CAAC,QAAQ,EAAE,WAAW,CAAC,CAAC;IACzChJ,SAAS,CAACgJ,MAAM,CAAC,CAAC,QAAQ,EAAE,WAAW,CAAC,CAAC;IACzChJ,SAAS,CAACgJ,MAAM,CAAC,CAAC,cAAc,EAAE,iBAAiB,CAAC,CAAC;IACrDhJ,SAAS,CAACgJ,MAAM,CAAC,OAAO,CAAC;IACzBhJ,SAAS,CAACgJ,MAAM,CAAC,aAAa,CAAC;IAC/BhJ,SAAS,CAACgJ,MAAM,CAAC,cAAc,CAAC;IAChChJ,SAAS,CAACgJ,MAAM,CAAC,YAAY,CAAC;IAC9BhJ,SAAS,CAACgJ,MAAM,CAAC,SAAS,CAAC;IAC3BhJ,SAAS,CAACgJ,MAAM,CAAC,SAAS,CAAC;IAC3BhJ,SAAS,CAACgJ,MAAM,CAAC,SAAS,CAAC;IAC3BhJ,SAAS,CAACgJ,MAAM,CAAC,GAAG,CAAC;IACrBhJ,SAAS,CAACgJ,MAAM,CAAC,OAAO,CAAC;IACzBhJ,SAAS,CAACgJ,MAAM,CAAC,OAAO,CAAC;IACzBhJ,SAAS,CAACgJ,MAAM,CAAC,OAAO,CAAC;IACzBhJ,SAAS,CAACgJ,MAAM,CAAC,GAAG,CAAC;IACrBhJ,SAAS,CAACgJ,MAAM,CAAC,CAAC,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,CAAC,CAAC;IACpEhJ,SAAS,CAACgJ,MAAM,CAAC,GAAG,CAAC;IACrBhJ,SAAS,CAACgJ,MAAM,CAAC,GAAG,CAAC;IACrBhJ,SAAS,CAACgJ,MAAM,CAAC,GAAG,CAAC;IACrBhJ,SAAS,CAACgJ,MAAM,CAAC,GAAG,CAAC;IACrBhJ,SAAS,CAACgJ,MAAM,CAAC,CAAC,QAAQ,EAAE,WAAW,CAAC,CAAC;IACzChJ,SAAS,CAACgJ,MAAM,CAAC,GAAG,CAAC;IACrBhJ,SAAS,CAACgJ,MAAM,CAAC,GAAG,CAAC;IACrBhJ,SAAS,CAACgJ,MAAM,CAAC,GAAG,CAAC;IACrBhJ,SAAS,CAACgJ,MAAM,CAAC,GAAG,CAAC;IACrBhJ,SAAS,CAACgJ,MAAM,CAAC,IAAI,CAAC;IACtBhJ,SAAS,CAACgJ,MAAM,CAAC,UAAU,CAAC;IAC5BhJ,SAAS,CAACgJ,MAAM,CAAC,MAAM,CAAC;IACxBhJ,SAAS,CAACgJ,MAAM,CAAC,YAAY,CAAC;IAC9BhJ,SAAS,CAACgJ,MAAM,CAAC,SAAS,CAAC;IAC3BhJ,SAAS,CAACgJ,MAAM,CAAC,GAAG,CAAC;IACrBhJ,SAAS,CAACgJ,MAAM,CAAC,GAAG,CAAC;IACrBhJ,SAAS,CAACgJ,MAAM,CAAC,GAAG,CAAC;IACrBhJ,SAAS,CAACgJ,MAAM,CAAC,SAAS,CAAC;IAC3BhJ,SAAS,CAACgJ,MAAM,CAAC,aAAa,CAAC;IAC/BhJ,SAAS,CAACgJ,MAAM,CAAC,WAAW,CAAC;IAC7BF,QAAQ,CAACG,mBAAmB,CAAC,SAAS,EAAER,aAAa,CAAC;EACxD,CAAC;AACH","ignoreList":[]},"metadata":{},"sourceType":"module"}