{"ast":null,"code":"var _jsxFileName = \"/Users/qzheng/Documents/webroot/annotation_tools/src/components/video-tracking2/index.tsx\";\nimport React from 'react';\nimport { makeObservable, observable, action } from 'mobx';\nimport { observer } from 'mobx-react';\nimport { RENDERER_TYPE } from 'pixi.js';\nimport { message, Modal, notification } from 'antd';\nimport { debounce, isEqual } from 'lodash';\nimport cx from 'classnames';\nimport AutoSaver from '../common/AutoSaver';\nimport LayoutWrapper from '../common/layout/LayoutWrapper';\nimport AppWrapper, { setRendererType, RendererType } from '../common/shapes/wrapper/AppWrapper';\nimport CamerasContainer from './components/cameras/CamerasContainer';\nimport GridsContainer from './components/grid/GridsContainer';\nimport Toolbar from './components/toolbar/Toolbar';\nimport Sidebar from './components/sidebar/Sidebar';\nimport FrameControl from './components/frames/FrameControl';\nimport AttributesPanel from './components/attributes/AttributesPanel';\nimport AttributesModal from './components/attributes/AttributesModal';\nimport MultiAttributesModal from './components/attributes/MultiAttributesModal';\nimport PointAttributesModal from './components/attributes/PointAttributesModal';\nimport FrameAttributesModal from './components/attributes/FrameAttributesModal';\nimport CommonFrameAttributesModal from './components/attributes/CommonFrameAttributesModal';\nimport ThumbnailModal from './components/thumbnail/ThumbnailModal';\nimport MovingModal from './components/move/MovingModal';\nimport ReviewModal from './components/review/ReviewModal';\nimport ReviewComment from './components/review/ReviewComment';\nimport RejectAllModal from './components/review/RejectAllModal';\nimport RejectAllComment from './components/review/RejectAllComment';\nimport RelationshipModal from './components/relationship/RelationshipModal';\nimport RelationshipMenu from './components/relationship/RelationshipMenu';\nimport ContextMenu from './components/context-menu/ContextMenu';\nimport InspectLabelModal from './components/toolbar/InspectLabelModal';\nimport DescriptionDrawer from './components/toolbar/DescriptionDrawer';\nimport store from './store/RootStore';\nimport bindKeyboardEvents from './keyboard-events';\nimport i18n from './locales';\nimport cache from './utils-storage';\nimport { getToolTypeFromFrameData, loadInstancesFromResult } from './utils';\nimport { ViewMode, ReviewResult } from './types';\nimport { TOOLBAR_HEIGHT, SIDEBAR_WIDTH, ATTR_PANEL_WIDTH } from './constants';\nimport { methods } from './payload';\nimport { removeUndefinedKeys } from '../../utils';\nimport advanceJob, { AdvanceMessage } from '../../libs/advanceJob';\n// import checkPayload from './payload-checker';\nimport './index.scss';\nimport 'antd/es/message/style/index.css';\nexport class VideoTracking extends React.Component {\n  constructor(props) {\n    super(props);\n\n    // checkPayload(props);\n    /**\n     * auto saver reference\n     */\n    this.saverRef = React.createRef();\n    /**\n     * frame control height (default is 48 + 56 = 104)\n     */\n    this.frameControlHeight = 104;\n    /**\n     * keyboard events\n     */\n    this.removeKeyboardEvents = () => {};\n    /**\n     * check width or height out of max texture size\n     * @param width\n     * @param height\n     */\n    this.checkOutOfRangeForWebGLRenderer = (width, height) => {\n      const {\n        type\n      } = this.props.app.renderer;\n      if (type === RENDERER_TYPE.WEBGL) {\n        // check max texture size\n        const {\n          gl\n        } = this.props.app.renderer;\n        const maxTextureSize = gl.getParameter(gl.MAX_TEXTURE_SIZE);\n        if (width > maxTextureSize || height > maxTextureSize) {\n          Modal.confirm({\n            width: 520,\n            centered: true,\n            zIndex: 10001,\n            autoFocusButton: null,\n            title: i18n.translate('WEBGL_MAX_TEXTURE_WARN_TITLE', {\n              values: {\n                size: `${width}x${height}`,\n                maxSize: maxTextureSize\n              }\n            }),\n            content: i18n.translate('WEBGL_MAX_TEXTURE_WARN_CONTENT'),\n            okText: i18n.translate('WEBGL_MAX_TEXTURE_WARN_OK'),\n            cancelText: i18n.translate('COMMON_CANCEL'),\n            onOk: async () => {\n              try {\n                await this.save(true);\n                setRendererType(RendererType.CANVAS);\n              } catch (e) {\n                message.error(i18n.translate('SAVE_FAIL'));\n              }\n            }\n          });\n        }\n      }\n    };\n    /**\n     * save annotation data\n     */\n    this.saveResult = async params => {\n      var _this$saverRef$curren;\n      (_this$saverRef$curren = this.saverRef.current) === null || _this$saverRef$curren === void 0 ? void 0 : _this$saverRef$curren.disableLeaveCheck();\n      const invalid = (params === null || params === void 0 ? void 0 : params.validityFlag) === 'false';\n      if (store.validation.submitCheck && (\n      // valid data, or not skip check for invalid data\n      !invalid || !store.config.skipCheckForInvalidData)) {\n        // validate before submit\n        await store.validation.defaultSync(true);\n        if (store.validation.blocked) {\n          throw new Error(i18n.translate('SUBMIT_CHECK_FAIL'));\n        }\n      }\n      return store.saveResult(true);\n    };\n    /**\n     * save review data\n     */\n    this.saveReviews = () => {\n      var _this$saverRef$curren2;\n      (_this$saverRef$curren2 = this.saverRef.current) === null || _this$saverRef$curren2 === void 0 ? void 0 : _this$saverRef$curren2.disableLeaveCheck();\n      return store.saveReviews(true);\n    };\n    /**\n     * save data\n     * @param isAutoSave\n     */\n    this.save = debounce(async (isAutoSave = false) => {\n      if (!store.initialized || store.isPreview || this.props.jobProxy.savedDataLoadError) {\n        // not initialized, or is preview mode\n        return;\n      }\n      const promises = [];\n      if (store.annotatable) {\n        promises.push(store.saveResultPure(false, isAutoSave));\n      }\n      if (store.reviewable) {\n        promises.push(store.saveReviews());\n      }\n      if (promises.length > 0) {\n        try {\n          var _this$saverRef$curren3;\n          const [result] = await Promise.all(promises);\n          if (store.annotatable) {\n            store.validation.autoSync(result);\n          }\n          message.success(i18n.translate(isAutoSave ? 'SAVE_AUTO_SUCCESS' : 'SAVE_SUCCESS'));\n          // update tempSaved flag\n          (_this$saverRef$curren3 = this.saverRef.current) === null || _this$saverRef$curren3 === void 0 ? void 0 : _this$saverRef$curren3.setTempSaved(true);\n        } catch (e) {\n          if (!isAutoSave) {\n            message.error(i18n.translate('SAVE_FAIL'));\n          } else {\n            throw e;\n          }\n        }\n      }\n    }, 1000, {\n      leading: true,\n      trailing: true\n    });\n    /**\n     * is annotation modified\n     */\n    this.isModified = () => {\n      const {\n        instances,\n        frames,\n        relationships,\n        attributes\n      } = store.initialData || {};\n      const currInstances = removeUndefinedKeys(store.instance.instancesJSON({\n        minify: store.config.minify,\n        noLock: true\n      }));\n      const currFrames = removeUndefinedKeys(store.frame.framesJSON());\n      const currRelationships = removeUndefinedKeys(store.relationship.relationshipsJSON());\n      const currAttributes = removeUndefinedKeys({\n        ...store.frame.attributesJSON()\n      });\n      return !isEqual(currInstances, instances) || !isEqual(currFrames, frames) || !isEqual(relationships, currRelationships) || !isEqual(attributes, currAttributes);\n    };\n    /**\n     * get review statistics\n     */\n    this.getStatistics = () => {\n      // all shapes\n      const objects = {\n        total: 0,\n        approved: 0,\n        rejected: 0,\n        suspended: 0,\n        missed: 0,\n        reviewed: 0,\n        actualApproved: 0\n      };\n      // based on different shape types\n      const shapes = {};\n      // based on shape categories\n      const categories = {};\n      // based on categories & shape types\n      const categoryShapes = {};\n      // reviewed issues\n      const issues = {};\n      store.review.issueTypes.forEach(i => {\n        issues[i] = 0;\n      });\n      // reviewed frames\n      const reviewedFrameMap = {};\n      const {\n        instances: instancesMap\n      } = store.instance;\n      const {\n        frameCount\n      } = store.frame;\n      const frameReviewStatus = Array.from({\n        length: frameCount\n      });\n      const rejectAll = store.review.rejectAllReview && !store.review.rejectAllReview.temp;\n      store.review.allReviews.forEach(({\n        frameIndex,\n        result,\n        instanceId,\n        instanceItemId,\n        camera,\n        type\n      }) => {\n        if (result === ReviewResult.APPROVE) {\n          if (!frameReviewStatus[frameIndex]) {\n            frameReviewStatus[frameIndex] = ReviewResult.APPROVE;\n          }\n        } else if (result === ReviewResult.REJECT) {\n          frameReviewStatus[frameIndex] = ReviewResult.REJECT;\n          // calc missed\n          let shapeExisted = true;\n          if (!instanceId || !instanceItemId) {\n            shapeExisted = false;\n          } else {\n            const instance = instancesMap[instanceId];\n            if (!instance) {\n              shapeExisted = false;\n            } else {\n              const item = instance.items[instanceItemId];\n              if (!item) {\n                shapeExisted = false;\n              } else {\n                const cameraData = item.cameras[camera];\n                if (!cameraData) {\n                  shapeExisted = false;\n                } else {\n                  const frameData = cameraData.frames[frameIndex];\n                  if (!frameData) {\n                    shapeExisted = false;\n                  }\n                }\n              }\n            }\n          }\n          if (!shapeExisted) {\n            objects.total += 1;\n            objects.missed += 1;\n          }\n          type === null || type === void 0 ? void 0 : type.forEach(t => {\n            issues[t] += 1;\n          });\n        } else if (result === ReviewResult.SUSPEND && frameReviewStatus[frameIndex] !== ReviewResult.REJECT) {\n          frameReviewStatus[frameIndex] = ReviewResult.SUSPEND;\n        }\n        reviewedFrameMap[frameIndex] = true;\n      });\n      if (rejectAll) {\n        var _store$review$rejectA, _store$review$rejectA2;\n        (_store$review$rejectA = store.review.rejectAllReview) === null || _store$review$rejectA === void 0 ? void 0 : (_store$review$rejectA2 = _store$review$rejectA.type) === null || _store$review$rejectA2 === void 0 ? void 0 : _store$review$rejectA2.forEach(t => {\n          issues[t] += 1;\n        });\n        Array.from({\n          length: frameCount\n        }).forEach((_, i) => {\n          reviewedFrameMap[i] = true;\n        });\n      }\n      const instances = Object.values(instancesMap);\n      for (let i = 0; i < instances.length; i += 1) {\n        const instance = instances[i];\n        const items = Object.values(instance.items);\n        const category = instance.categoryRef.className;\n        if (!categories[category]) {\n          categories[category] = {\n            total: 0,\n            approved: 0,\n            rejected: 0,\n            suspended: 0,\n            missed: 0,\n            reviewed: 0,\n            actualApproved: 0\n          };\n        }\n        if (!categoryShapes[category]) {\n          categoryShapes[category] = {};\n        }\n        const instanceFrames = new Set();\n        for (let j = 0; j < items.length; j += 1) {\n          const item = items[j];\n          const cameras = Object.values(item.cameras);\n          for (let k = 0; k < cameras.length; k += 1) {\n            const camera = cameras[k];\n            const frames = Object.values(camera.frames);\n            for (let l = 0; l < frames.length; l += 1) {\n              const frame = frames[l];\n              const shape = `${getToolTypeFromFrameData(frame)}`;\n              if (!shapes[shape]) {\n                shapes[shape] = {\n                  total: 0,\n                  approved: 0,\n                  rejected: 0,\n                  suspended: 0,\n                  missed: 0,\n                  reviewed: 0,\n                  actualApproved: 0\n                };\n              }\n              if (!categoryShapes[category][shape]) {\n                categoryShapes[category][shape] = {\n                  total: 0,\n                  approved: 0,\n                  rejected: 0,\n                  suspended: 0,\n                  missed: 0,\n                  reviewed: 0,\n                  actualApproved: 0\n                };\n              }\n              objects.total += 1;\n              shapes[shape].total += 1;\n              categories[category].total += 1;\n              categoryShapes[category][shape].total += 1;\n              const reviewResult = store.review.getReviewForInstanceItem(item, camera.camera, frame.frameIndex);\n              if (rejectAll || reviewResult === ReviewResult.REJECT) {\n                shapes[shape].rejected += 1;\n                objects.rejected += 1;\n                categories[category].rejected += 1;\n                categoryShapes[category][shape].rejected += 1;\n              } else if (reviewResult === ReviewResult.SUSPEND) {\n                shapes[shape].suspended += 1;\n                objects.suspended += 1;\n                categories[category].suspended += 1;\n                categoryShapes[category][shape].suspended += 1;\n              } else {\n                shapes[shape].approved += 1;\n                objects.approved += 1;\n                categories[category].approved += 1;\n                categoryShapes[category][shape].approved += 1;\n              }\n              if (reviewResult === ReviewResult.APPROVE) {\n                shapes[shape].actualApproved += 1;\n                objects.actualApproved += 1;\n                categories[category].actualApproved += 1;\n                categoryShapes[category][shape].actualApproved += 1;\n              }\n              if (reviewedFrameMap[frame.frameIndex]) {\n                objects.reviewed += 1;\n                shapes[shape].reviewed += 1;\n                categories[category].reviewed += 1;\n                categoryShapes[category][shape].reviewed += 1;\n              }\n              instanceFrames.add(frame.frameIndex);\n            }\n          }\n        }\n      }\n      return {\n        objects,\n        shapes,\n        frames: {\n          total: frameReviewStatus.length,\n          actualApproved: rejectAll ? 0 : frameReviewStatus.filter(i => i === ReviewResult.APPROVE).length,\n          approved: rejectAll ? 0 : frameReviewStatus.filter(i => i !== ReviewResult.REJECT && i !== ReviewResult.SUSPEND).length,\n          rejected: rejectAll ? frameCount : frameReviewStatus.filter(i => i === ReviewResult.REJECT).length,\n          suspended: rejectAll ? 0 : frameReviewStatus.filter(i => i === ReviewResult.SUSPEND).length,\n          missed: 0,\n          reviewed: Object.keys(reviewedFrameMap).length\n        },\n        issues,\n        categories,\n        categoryShapes\n      };\n    };\n    /**\n     * update resource\n     */\n    this.updateResource = data => {\n      store.frame.updateResource(data);\n    };\n    /**\n     * handle hotkey events\n     * @param hotkey\n     */\n    this.handleHotkey = hotkey => {\n      if (store.readonly || store.isPreview) {\n        return;\n      }\n      const pointHotkeyItems = store.config.pointHotkeyMap[hotkey];\n      if (pointHotkeyItems.length > 0) {\n        // affect point, set polygon point\n        if (store.config.viewMode === ViewMode.DEFAULT) {\n          const {\n            drawingShape,\n            selectedShapes\n          } = store.shape;\n          const selectedShape = selectedShapes.length === 1 ? selectedShapes[0] : undefined;\n          const shape = store.config.addMode ? drawingShape : selectedShape;\n          if (shape) {\n            store.shape.setPointsUserDataByHotkey(shape, hotkey);\n          }\n        } else if (store.config.viewMode === ViewMode.GRID && !store.config.addMode) {\n          const shape = store.grid.getCurrentSelectedShape();\n          if (shape) {\n            store.shape.setPointsUserDataByHotkey(shape, hotkey);\n          }\n        }\n      }\n    };\n    /**\n     * update frame control height\n     * @param height\n     */\n    this.updateFrameControlHeight = height => {\n      this.frameControlHeight = height;\n    };\n    /**\n     * load latest data of advance job\n     */\n    this.loadAdvanceJobData = e => {\n      let needRender = false;\n\n      // load instance\n      if (e.result) {\n        needRender = true;\n        // set frame attributes\n        store.frame.initAttributes(e.result);\n        // set tool configs\n        store.frame.initToolConfig(e.result.toolConfig);\n        // load instance\n        store.instance.init(loadInstancesFromResult(e.result));\n        // load relationships\n        store.relationship.initRelationships(e.result.relationships);\n      }\n      // load reviews\n      if (e.reviews) {\n        needRender = true;\n        store.review.initReviews(e.reviews);\n      }\n\n      // render\n      if (needRender) {\n        if (this.props.jobProxy.isLabel) {\n          store.review.setupReviewAnchors();\n        } else {\n          store.frame.onFrameLoaded();\n        }\n      }\n    };\n    makeObservable(this, {\n      frameControlHeight: observable,\n      updateFrameControlHeight: action\n    });\n\n    // setup i18n\n    i18n.setLocale(this.props.locale);\n    // setup storage\n    cache.setCurrentProject(this.props.jobProxy.projectId);\n    // set props\n    store.jobProxy = this.props.jobProxy;\n    store.resourceProxy = this.props.resource_proxy;\n  }\n  async componentDidMount() {\n    this.removeKeyboardEvents = bindKeyboardEvents(this);\n\n    // init store\n    try {\n      await store.init(this.props);\n    } catch (e) {\n      notification.error({\n        message: e.message,\n        duration: null\n      });\n      return;\n    }\n    // render completed\n    this.props.renderComplete();\n\n    // init for side ratio visibility\n    store.shape.getSideRatioVisibility();\n\n    // advancejob listener\n    advanceJob.on(AdvanceMessage.UPDATE_RESULT, this.loadAdvanceJobData);\n\n    // start tracking\n    store.startTrackingStats();\n\n    // check temp saved data\n    if (this.props.jobProxy.savedDataLoadError) {\n      Modal.confirm({\n        title: i18n.translate('TEMP_SAVED_LOAD_ERROR'),\n        okText: i18n.translate('TEMP_SAVED_LOAD_ERROR_OK'),\n        cancelText: i18n.translate('TEMP_SAVED_LOAD_ERROR_CANCEL'),\n        autoFocusButton: null,\n        onOk: () => {\n          var _this$saverRef$curren4;\n          // set temp saved to true to disable leave check\n          (_this$saverRef$curren4 = this.saverRef.current) === null || _this$saverRef$curren4 === void 0 ? void 0 : _this$saverRef$curren4.setTempSaved(true);\n          window.location.reload();\n        },\n        onCancel: () => {\n          // set to false to enable result save\n          this.props.jobProxy.savedDataLoadError = false;\n        }\n      });\n    }\n  }\n  componentWillUnmount() {\n    this.removeKeyboardEvents();\n    store.terminate();\n    advanceJob.off(AdvanceMessage.UPDATE_RESULT);\n    advanceJob.destory();\n  }\n  render() {\n    const {\n      cursor,\n      viewMode\n    } = store.config;\n    const {\n      loading,\n      frameCount\n    } = store.frame;\n    const showLoadingIndicator = loading || store.shape.projecting || !store.initialized;\n    const hasFrameControl = frameCount > 1;\n    return /*#__PURE__*/React.createElement(LayoutWrapper, Object.assign({\n      className: \"video-tracking-app\",\n      loading: showLoadingIndicator\n    }, showLoadingIndicator && {\n      style: {\n        cursor\n      }\n    }, store.shape.recognitionStart && {\n      loadingDelay: 0\n    }, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 500,\n        columnNumber: 7\n      }\n    }), /*#__PURE__*/React.createElement(AutoSaver, {\n      ref: this.saverRef,\n      leaveCheck: true,\n      interval: 300000,\n      data: {\n        storePointer: store.undo.pointer,\n        storeId: store.undo.lastStoreId\n      },\n      save: () => this.save(true),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 510,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(Toolbar, {\n      onSave: () => this.save(),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 517,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: cx('container', {\n        black: store.frame.niftiParser || store.frame.dicomParser\n      }),\n      style: {\n        height: `calc(100% - ${hasFrameControl ? `${this.frameControlHeight + TOOLBAR_HEIGHT}px` : `${TOOLBAR_HEIGHT}px`})`\n        // transition: 'height 0.15s',\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 518,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Sidebar, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 527,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        position: 'relative',\n        width: `calc(100% - ${SIDEBAR_WIDTH + ATTR_PANEL_WIDTH}px)`\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 528,\n        columnNumber: 11\n      }\n    }, viewMode === ViewMode.DEFAULT && /*#__PURE__*/React.createElement(CamerasContainer, {\n      app: this.props.app,\n      checkOutOfRangeForWebGLRenderer: this.checkOutOfRangeForWebGLRenderer,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 535,\n        columnNumber: 15\n      }\n    }), viewMode === ViewMode.GRID && /*#__PURE__*/React.createElement(GridsContainer, {\n      app: this.props.app,\n      checkOutOfRangeForWebGLRenderer: this.checkOutOfRangeForWebGLRenderer,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 538,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(RejectAllComment, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 540,\n        columnNumber: 13\n      }\n    })), /*#__PURE__*/React.createElement(AttributesPanel, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 542,\n        columnNumber: 11\n      }\n    })), hasFrameControl && /*#__PURE__*/React.createElement(FrameControl, {\n      onHeightChange: this.updateFrameControlHeight,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 545,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(AttributesModal, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 547,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(MultiAttributesModal, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 548,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(PointAttributesModal, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 549,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(FrameAttributesModal, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 550,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(CommonFrameAttributesModal, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 551,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(MovingModal, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 552,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(ReviewModal, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 553,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(ThumbnailModal, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 554,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(ReviewComment, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 555,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(RejectAllModal, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 556,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(RelationshipModal, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 557,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(RelationshipMenu, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 558,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(ContextMenu, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 559,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(InspectLabelModal, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 560,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(DescriptionDrawer, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 561,\n        columnNumber: 9\n      }\n    }));\n  }\n}\nexport default AppWrapper(observer(VideoTracking), {\n  mappingMethods: Object.values(methods)\n});","map":{"version":3,"names":["React","makeObservable","observable","action","observer","RENDERER_TYPE","message","Modal","notification","debounce","isEqual","cx","AutoSaver","LayoutWrapper","AppWrapper","setRendererType","RendererType","CamerasContainer","GridsContainer","Toolbar","Sidebar","FrameControl","AttributesPanel","AttributesModal","MultiAttributesModal","PointAttributesModal","FrameAttributesModal","CommonFrameAttributesModal","ThumbnailModal","MovingModal","ReviewModal","ReviewComment","RejectAllModal","RejectAllComment","RelationshipModal","RelationshipMenu","ContextMenu","InspectLabelModal","DescriptionDrawer","store","bindKeyboardEvents","i18n","cache","getToolTypeFromFrameData","loadInstancesFromResult","ViewMode","ReviewResult","TOOLBAR_HEIGHT","SIDEBAR_WIDTH","ATTR_PANEL_WIDTH","methods","removeUndefinedKeys","advanceJob","AdvanceMessage","VideoTracking","Component","constructor","props","saverRef","createRef","frameControlHeight","removeKeyboardEvents","checkOutOfRangeForWebGLRenderer","width","height","type","app","renderer","WEBGL","gl","maxTextureSize","getParameter","MAX_TEXTURE_SIZE","confirm","centered","zIndex","autoFocusButton","title","translate","values","size","maxSize","content","okText","cancelText","onOk","save","CANVAS","e","error","saveResult","params","_this$saverRef$curren","current","disableLeaveCheck","invalid","validityFlag","validation","submitCheck","config","skipCheckForInvalidData","defaultSync","blocked","Error","saveReviews","_this$saverRef$curren2","isAutoSave","initialized","isPreview","jobProxy","savedDataLoadError","promises","annotatable","push","saveResultPure","reviewable","length","_this$saverRef$curren3","result","Promise","all","autoSync","success","setTempSaved","leading","trailing","isModified","instances","frames","relationships","attributes","initialData","currInstances","instance","instancesJSON","minify","noLock","currFrames","frame","framesJSON","currRelationships","relationship","relationshipsJSON","currAttributes","attributesJSON","getStatistics","objects","total","approved","rejected","suspended","missed","reviewed","actualApproved","shapes","categories","categoryShapes","issues","review","issueTypes","forEach","i","reviewedFrameMap","instancesMap","frameCount","frameReviewStatus","Array","from","rejectAll","rejectAllReview","temp","allReviews","frameIndex","instanceId","instanceItemId","camera","APPROVE","REJECT","shapeExisted","item","items","cameraData","cameras","frameData","t","SUSPEND","_store$review$rejectA","_store$review$rejectA2","_","Object","category","categoryRef","className","instanceFrames","Set","j","k","l","shape","reviewResult","getReviewForInstanceItem","add","filter","keys","updateResource","data","handleHotkey","hotkey","readonly","pointHotkeyItems","pointHotkeyMap","viewMode","DEFAULT","drawingShape","selectedShapes","selectedShape","undefined","addMode","setPointsUserDataByHotkey","GRID","grid","getCurrentSelectedShape","updateFrameControlHeight","loadAdvanceJobData","needRender","initAttributes","initToolConfig","toolConfig","init","initRelationships","reviews","initReviews","isLabel","setupReviewAnchors","onFrameLoaded","setLocale","locale","setCurrentProject","projectId","resourceProxy","resource_proxy","componentDidMount","duration","renderComplete","getSideRatioVisibility","on","UPDATE_RESULT","startTrackingStats","_this$saverRef$curren4","window","location","reload","onCancel","componentWillUnmount","terminate","off","destory","render","cursor","loading","showLoadingIndicator","projecting","hasFrameControl","createElement","assign","style","recognitionStart","loadingDelay","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","ref","leaveCheck","interval","storePointer","undo","pointer","storeId","lastStoreId","onSave","black","niftiParser","dicomParser","position","onHeightChange","mappingMethods"],"sources":["/Users/qzheng/Documents/webroot/annotation_tools/src/components/video-tracking2/index.tsx"],"sourcesContent":["import React from 'react';\nimport { makeObservable, observable, action } from 'mobx';\nimport { observer } from 'mobx-react';\nimport { Renderer, RENDERER_TYPE } from 'pixi.js';\nimport { message, Modal, notification } from 'antd';\nimport { debounce, isEqual } from 'lodash';\nimport cx from 'classnames';\nimport AutoSaver from '../common/AutoSaver';\nimport LayoutWrapper from '../common/layout/LayoutWrapper';\nimport AppWrapper, { setRendererType, RendererType } from '../common/shapes/wrapper/AppWrapper';\nimport CamerasContainer from './components/cameras/CamerasContainer';\nimport GridsContainer from './components/grid/GridsContainer';\nimport Toolbar from './components/toolbar/Toolbar';\nimport Sidebar from './components/sidebar/Sidebar';\nimport FrameControl from './components/frames/FrameControl';\nimport AttributesPanel from './components/attributes/AttributesPanel';\nimport AttributesModal from './components/attributes/AttributesModal';\nimport MultiAttributesModal from './components/attributes/MultiAttributesModal';\nimport PointAttributesModal from './components/attributes/PointAttributesModal';\nimport FrameAttributesModal from './components/attributes/FrameAttributesModal';\nimport CommonFrameAttributesModal from './components/attributes/CommonFrameAttributesModal';\nimport ThumbnailModal from './components/thumbnail/ThumbnailModal';\nimport MovingModal from './components/move/MovingModal';\nimport ReviewModal from './components/review/ReviewModal';\nimport ReviewComment from './components/review/ReviewComment';\nimport RejectAllModal from './components/review/RejectAllModal';\nimport RejectAllComment from './components/review/RejectAllComment';\nimport RelationshipModal from './components/relationship/RelationshipModal';\nimport RelationshipMenu from './components/relationship/RelationshipMenu';\nimport ContextMenu from './components/context-menu/ContextMenu';\nimport InspectLabelModal from './components/toolbar/InspectLabelModal';\nimport DescriptionDrawer from './components/toolbar/DescriptionDrawer';\nimport store from './store/RootStore';\nimport bindKeyboardEvents from './keyboard-events';\nimport i18n from './locales';\nimport cache from './utils-storage';\nimport { getToolTypeFromFrameData, loadInstancesFromResult } from './utils';\nimport { Payload, ViewMode, ReviewResult } from './types';\nimport { TOOLBAR_HEIGHT, SIDEBAR_WIDTH, ATTR_PANEL_WIDTH } from './constants';\nimport { methods } from './payload';\nimport { SubmitToolParamsType } from '../../types';\nimport { removeUndefinedKeys } from '../../utils';\nimport advanceJob, { AdvanceMessage } from '../../libs/advanceJob';\n// import checkPayload from './payload-checker';\nimport './index.scss';\nimport 'antd/es/message/style/index.css';\n\ninterface VideoTrackingProps extends Payload {\n  renderComplete: () => Promise<void>;\n}\n\nexport class VideoTracking extends React.Component<VideoTrackingProps> {\n  /**\n   * auto saver reference\n   */\n  saverRef = React.createRef<AutoSaver>();\n\n  /**\n   * frame control height (default is 48 + 56 = 104)\n   */\n  frameControlHeight = 104;\n\n  /**\n   * keyboard events\n   */\n  removeKeyboardEvents = () => {};\n\n  constructor(props: VideoTrackingProps) {\n    super(props);\n\n    // checkPayload(props);\n\n    makeObservable(this, {\n      frameControlHeight: observable,\n      updateFrameControlHeight: action,\n    });\n\n    // setup i18n\n    i18n.setLocale(this.props.locale);\n    // setup storage\n    cache.setCurrentProject(this.props.jobProxy.projectId);\n    // set props\n    store.jobProxy = this.props.jobProxy;\n    store.resourceProxy = this.props.resource_proxy;\n  }\n\n  async componentDidMount() {\n    this.removeKeyboardEvents = bindKeyboardEvents(this);\n\n    // init store\n    try {\n      await store.init(this.props);\n    } catch (e) {\n      notification.error({ message: (e as Error).message, duration: null });\n      return;\n    }\n    // render completed\n    this.props.renderComplete();\n\n    // init for side ratio visibility\n    store.shape.getSideRatioVisibility();\n\n    // advancejob listener\n    advanceJob.on(AdvanceMessage.UPDATE_RESULT, this.loadAdvanceJobData);\n\n    // start tracking\n    store.startTrackingStats();\n\n    // check temp saved data\n    if (this.props.jobProxy.savedDataLoadError) {\n      Modal.confirm({\n        title: i18n.translate('TEMP_SAVED_LOAD_ERROR'),\n        okText: i18n.translate('TEMP_SAVED_LOAD_ERROR_OK'),\n        cancelText: i18n.translate('TEMP_SAVED_LOAD_ERROR_CANCEL'),\n        autoFocusButton: null,\n        onOk: () => {\n          // set temp saved to true to disable leave check\n          this.saverRef.current?.setTempSaved(true);\n          window.location.reload();\n        },\n        onCancel: () => {\n          // set to false to enable result save\n          this.props.jobProxy.savedDataLoadError = false;\n        },\n      });\n    }\n  }\n\n  componentWillUnmount() {\n    this.removeKeyboardEvents();\n    store.terminate();\n    advanceJob.off(AdvanceMessage.UPDATE_RESULT);\n    advanceJob.destory();\n  }\n\n  /**\n   * check width or height out of max texture size\n   * @param width\n   * @param height\n   */\n  checkOutOfRangeForWebGLRenderer = (width: number, height: number) => {\n    const { type } = this.props.app.renderer;\n    if (type === RENDERER_TYPE.WEBGL) {\n      // check max texture size\n      const { gl } = this.props.app.renderer as Renderer;\n      const maxTextureSize = gl.getParameter(gl.MAX_TEXTURE_SIZE);\n      if (width > maxTextureSize || height > maxTextureSize) {\n        Modal.confirm({\n          width: 520,\n          centered: true,\n          zIndex: 10001,\n          autoFocusButton: null,\n          title: i18n.translate('WEBGL_MAX_TEXTURE_WARN_TITLE', { values: { size: `${width}x${height}`, maxSize: maxTextureSize } }),\n          content: i18n.translate('WEBGL_MAX_TEXTURE_WARN_CONTENT'),\n          okText: i18n.translate('WEBGL_MAX_TEXTURE_WARN_OK'),\n          cancelText: i18n.translate('COMMON_CANCEL'),\n          onOk: async () => {\n            try {\n              await this.save(true);\n              setRendererType(RendererType.CANVAS);\n            } catch (e) {\n              message.error(i18n.translate('SAVE_FAIL'));\n            }\n          },\n        });\n      }\n    }\n  };\n\n  /**\n   * save annotation data\n   */\n  saveResult = async (params?: SubmitToolParamsType) => {\n    this.saverRef.current?.disableLeaveCheck();\n    const invalid = params?.validityFlag === 'false';\n    if (store.validation.submitCheck && (\n      // valid data, or not skip check for invalid data\n      !invalid || !store.config.skipCheckForInvalidData\n    )) {\n      // validate before submit\n      await store.validation.defaultSync(true);\n      if (store.validation.blocked) {\n        throw new Error(i18n.translate('SUBMIT_CHECK_FAIL'));\n      }\n    }\n    return store.saveResult(true);\n  };\n\n  /**\n   * save review data\n   */\n  saveReviews = () => {\n    this.saverRef.current?.disableLeaveCheck();\n    return store.saveReviews(true);\n  };\n\n  /**\n   * save data\n   * @param isAutoSave\n   */\n  save = debounce(async (isAutoSave = false) => {\n    if (!store.initialized || store.isPreview || this.props.jobProxy.savedDataLoadError) { // not initialized, or is preview mode\n      return;\n    }\n\n    const promises = [];\n    if (store.annotatable) {\n      promises.push(store.saveResultPure(false, isAutoSave));\n    }\n    if (store.reviewable) {\n      promises.push(store.saveReviews());\n    }\n    if (promises.length > 0) {\n      try {\n        const [result] = await Promise.all(promises);\n        if (store.annotatable) {\n          store.validation.autoSync(result as { resultLink: string; result: string });\n        }\n        message.success(i18n.translate(isAutoSave ? 'SAVE_AUTO_SUCCESS' : 'SAVE_SUCCESS'));\n        // update tempSaved flag\n        this.saverRef.current?.setTempSaved(true);\n      } catch (e) {\n        if (!isAutoSave) {\n          message.error(i18n.translate('SAVE_FAIL'));\n        } else {\n          throw e;\n        }\n      }\n    }\n  }, 1000, { leading: true, trailing: true });\n\n  /**\n   * is annotation modified\n   */\n  isModified = () => {\n    const { instances, frames, relationships, attributes } = store.initialData || {};\n    const currInstances = removeUndefinedKeys(store.instance.instancesJSON({\n      minify: store.config.minify,\n      noLock: true,\n    }));\n    const currFrames = removeUndefinedKeys(store.frame.framesJSON());\n    const currRelationships = removeUndefinedKeys(store.relationship.relationshipsJSON());\n    const currAttributes = removeUndefinedKeys({\n      ...store.frame.attributesJSON(),\n    });\n    return !isEqual(currInstances, instances)\n      || !isEqual(currFrames, frames)\n      || !isEqual(relationships, currRelationships)\n      || !isEqual(attributes, currAttributes);\n  };\n\n  /**\n   * get review statistics\n   */\n  getStatistics = () => {\n    // all shapes\n    const objects = { total: 0, approved: 0, rejected: 0, suspended: 0, missed: 0, reviewed: 0, actualApproved: 0 };\n    // based on different shape types\n    const shapes: {\n      [shape: string]: { total: number; approved: number; rejected: number; suspended: number; missed: number; reviewed: number; actualApproved: number };\n    } = {};\n    // based on shape categories\n    const categories: {\n      [category: string]: { total: number; approved: number; rejected: number; suspended: number; missed: number; reviewed: number; actualApproved: number };\n    } = {};\n    // based on categories & shape types\n    const categoryShapes: {\n      [category: string]: {\n        [shape: string]: { total: number; approved: number; rejected: number; suspended: number; missed: number; reviewed: number; actualApproved: number };\n      };\n    } = {};\n    // reviewed issues\n    const issues: { [issue: string]: number } = {};\n    store.review.issueTypes.forEach((i) => { issues[i] = 0; });\n    // reviewed frames\n    const reviewedFrameMap: { [frameIndex: number]: boolean } = {};\n\n    const { instances: instancesMap } = store.instance;\n    const { frameCount } = store.frame;\n    const frameReviewStatus = Array.from({ length: frameCount });\n    const rejectAll = store.review.rejectAllReview && !store.review.rejectAllReview.temp;\n    store.review.allReviews.forEach(({ frameIndex, result, instanceId, instanceItemId, camera, type }) => {\n      if (result === ReviewResult.APPROVE) {\n        if (!frameReviewStatus[frameIndex]) {\n          frameReviewStatus[frameIndex] = ReviewResult.APPROVE;\n        }\n      } else if (result === ReviewResult.REJECT) {\n        frameReviewStatus[frameIndex] = ReviewResult.REJECT;\n        // calc missed\n        let shapeExisted = true;\n        if (!instanceId || !instanceItemId) {\n          shapeExisted = false;\n        } else {\n          const instance = instancesMap[instanceId];\n          if (!instance) {\n            shapeExisted = false;\n          } else {\n            const item = instance.items[instanceItemId];\n            if (!item) {\n              shapeExisted = false;\n            } else {\n              const cameraData = item.cameras[camera];\n              if (!cameraData) {\n                shapeExisted = false;\n              } else {\n                const frameData = cameraData.frames[frameIndex];\n                if (!frameData) {\n                  shapeExisted = false;\n                }\n              }\n            }\n          }\n        }\n        if (!shapeExisted) {\n          objects.total += 1;\n          objects.missed += 1;\n        }\n        type?.forEach((t) => {\n          issues[t] += 1;\n        });\n      } else if (result === ReviewResult.SUSPEND && frameReviewStatus[frameIndex] !== ReviewResult.REJECT) {\n        frameReviewStatus[frameIndex] = ReviewResult.SUSPEND;\n      }\n      reviewedFrameMap[frameIndex] = true;\n    });\n    if (rejectAll) {\n      store.review.rejectAllReview?.type?.forEach((t) => {\n        issues[t] += 1;\n      });\n      Array.from({ length: frameCount }).forEach((_, i) => {\n        reviewedFrameMap[i] = true;\n      });\n    }\n\n    const instances = Object.values(instancesMap);\n    for (let i = 0; i < instances.length; i += 1) {\n      const instance = instances[i];\n      const items = Object.values(instance.items);\n      const category = instance.categoryRef.className;\n      if (!categories[category]) {\n        categories[category] = { total: 0, approved: 0, rejected: 0, suspended: 0, missed: 0, reviewed: 0, actualApproved: 0 };\n      }\n      if (!categoryShapes[category]) {\n        categoryShapes[category] = {};\n      }\n      const instanceFrames = new Set();\n      for (let j = 0; j < items.length; j += 1) {\n        const item = items[j];\n        const cameras = Object.values(item.cameras);\n        for (let k = 0; k < cameras.length; k += 1) {\n          const camera = cameras[k];\n          const frames = Object.values(camera.frames);\n          for (let l = 0; l < frames.length; l += 1) {\n            const frame = frames[l];\n            const shape = `${getToolTypeFromFrameData(frame)}`;\n            if (!shapes[shape]) {\n              shapes[shape] = { total: 0, approved: 0, rejected: 0, suspended: 0, missed: 0, reviewed: 0, actualApproved: 0 };\n            }\n            if (!categoryShapes[category][shape]) {\n              categoryShapes[category][shape] = { total: 0, approved: 0, rejected: 0, suspended: 0, missed: 0, reviewed: 0, actualApproved: 0 };\n            }\n            objects.total += 1;\n            shapes[shape].total += 1;\n            categories[category].total += 1;\n            categoryShapes[category][shape].total += 1;\n            const reviewResult = store.review.getReviewForInstanceItem(item, camera.camera, frame.frameIndex);\n            if (rejectAll || reviewResult === ReviewResult.REJECT) {\n              shapes[shape].rejected += 1;\n              objects.rejected += 1;\n              categories[category].rejected += 1;\n              categoryShapes[category][shape].rejected += 1;\n            } else if (reviewResult === ReviewResult.SUSPEND) {\n              shapes[shape].suspended += 1;\n              objects.suspended += 1;\n              categories[category].suspended += 1;\n              categoryShapes[category][shape].suspended += 1;\n            } else {\n              shapes[shape].approved += 1;\n              objects.approved += 1;\n              categories[category].approved += 1;\n              categoryShapes[category][shape].approved += 1;\n            }\n            if (reviewResult === ReviewResult.APPROVE) {\n              shapes[shape].actualApproved += 1;\n              objects.actualApproved += 1;\n              categories[category].actualApproved += 1;\n              categoryShapes[category][shape].actualApproved += 1;\n            }\n            if (reviewedFrameMap[frame.frameIndex]) {\n              objects.reviewed += 1;\n              shapes[shape].reviewed += 1;\n              categories[category].reviewed += 1;\n              categoryShapes[category][shape].reviewed += 1;\n            }\n            instanceFrames.add(frame.frameIndex);\n          }\n        }\n      }\n    }\n    return {\n      objects,\n      shapes,\n      frames: {\n        total: frameReviewStatus.length,\n        actualApproved: rejectAll ? 0 : frameReviewStatus.filter((i) => i === ReviewResult.APPROVE).length,\n        approved: rejectAll ? 0 : frameReviewStatus.filter((i) => i !== ReviewResult.REJECT && i !== ReviewResult.SUSPEND).length,\n        rejected: rejectAll ? frameCount : frameReviewStatus.filter((i) => i === ReviewResult.REJECT).length,\n        suspended: rejectAll ? 0 : frameReviewStatus.filter((i) => i === ReviewResult.SUSPEND).length,\n        missed: 0,\n        reviewed: Object.keys(reviewedFrameMap).length,\n      },\n      issues,\n      categories,\n      categoryShapes,\n    };\n  };\n\n  /**\n   * update resource\n   */\n  updateResource = (data: unknown) => {\n    store.frame.updateResource(data);\n  };\n\n  /**\n   * handle hotkey events\n   * @param hotkey\n   */\n  handleHotkey = (hotkey: string) => {\n    if (store.readonly || store.isPreview) {\n      return;\n    }\n    const pointHotkeyItems = store.config.pointHotkeyMap[hotkey];\n    if (pointHotkeyItems.length > 0) {\n      // affect point, set polygon point\n      if (store.config.viewMode === ViewMode.DEFAULT) {\n        const { drawingShape, selectedShapes } = store.shape;\n        const selectedShape = selectedShapes.length === 1 ? selectedShapes[0] : undefined;\n        const shape = store.config.addMode ? drawingShape : selectedShape;\n        if (shape) {\n          store.shape.setPointsUserDataByHotkey(shape, hotkey);\n        }\n      } else if (store.config.viewMode === ViewMode.GRID && !store.config.addMode) {\n        const shape = store.grid.getCurrentSelectedShape();\n        if (shape) {\n          store.shape.setPointsUserDataByHotkey(shape, hotkey);\n        }\n      }\n    }\n  };\n\n  /**\n   * update frame control height\n   * @param height\n   */\n  updateFrameControlHeight = (height: number) => {\n    this.frameControlHeight = height;\n  };\n\n  /**\n   * load latest data of advance job\n   */\n  loadAdvanceJobData = (e: any) => {\n    let needRender = false;\n\n    // load instance\n    if (e.result) {\n      needRender = true;\n      // set frame attributes\n      store.frame.initAttributes(e.result);\n      // set tool configs\n      store.frame.initToolConfig(e.result.toolConfig);\n      // load instance\n      store.instance.init(loadInstancesFromResult(e.result));\n      // load relationships\n      store.relationship.initRelationships(e.result.relationships);\n    }\n    // load reviews\n    if (e.reviews) {\n      needRender = true;\n      store.review.initReviews(e.reviews);\n    }\n\n    // render\n    if (needRender) {\n      if (this.props.jobProxy.isLabel) {\n        store.review.setupReviewAnchors();\n      } else {\n        store.frame.onFrameLoaded();\n      }\n    }\n  };\n\n  render() {\n    const { cursor, viewMode } = store.config;\n    const { loading, frameCount } = store.frame;\n    const showLoadingIndicator = loading || store.shape.projecting || !store.initialized;\n    const hasFrameControl = frameCount > 1;\n    return (\n      <LayoutWrapper\n        className=\"video-tracking-app\"\n        loading={showLoadingIndicator}\n        {...showLoadingIndicator && {\n          style: { cursor },\n        }}\n        {...store.shape.recognitionStart && {\n          loadingDelay: 0,\n        }}\n      >\n        <AutoSaver\n          ref={this.saverRef}\n          leaveCheck\n          interval={300000}\n          data={{ storePointer: store.undo.pointer, storeId: store.undo.lastStoreId }}\n          save={() => this.save(true)}\n        />\n        <Toolbar onSave={() => this.save()} />\n        <div\n          className={cx('container', {\n            black: store.frame.niftiParser || store.frame.dicomParser,\n          })}\n          style={{\n            height: `calc(100% - ${hasFrameControl ? `${this.frameControlHeight + TOOLBAR_HEIGHT}px` : `${TOOLBAR_HEIGHT}px`})`,\n            // transition: 'height 0.15s',\n          }}\n        >\n          <Sidebar />\n          <div\n            style={{\n              position: 'relative',\n              width: `calc(100% - ${SIDEBAR_WIDTH + ATTR_PANEL_WIDTH}px)`\n            }}\n          >\n            {viewMode === ViewMode.DEFAULT && (\n              <CamerasContainer app={this.props.app} checkOutOfRangeForWebGLRenderer={this.checkOutOfRangeForWebGLRenderer} />\n            )}\n            {viewMode === ViewMode.GRID && (\n              <GridsContainer app={this.props.app} checkOutOfRangeForWebGLRenderer={this.checkOutOfRangeForWebGLRenderer} />\n            )}\n            <RejectAllComment />\n          </div>\n          <AttributesPanel />\n        </div>\n        {hasFrameControl && (\n          <FrameControl onHeightChange={this.updateFrameControlHeight} />\n        )}\n        <AttributesModal />\n        <MultiAttributesModal />\n        <PointAttributesModal />\n        <FrameAttributesModal />\n        <CommonFrameAttributesModal />\n        <MovingModal />\n        <ReviewModal />\n        <ThumbnailModal />\n        <ReviewComment />\n        <RejectAllModal />\n        <RelationshipModal />\n        <RelationshipMenu />\n        <ContextMenu />\n        <InspectLabelModal />\n        <DescriptionDrawer />\n      </LayoutWrapper>\n    );\n  }\n}\n\nexport default AppWrapper(observer(VideoTracking), {\n  mappingMethods: Object.values(methods),\n});\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}