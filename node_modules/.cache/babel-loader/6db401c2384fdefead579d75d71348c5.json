{"ast":null,"code":"var _jsxFileName = \"/Users/qzheng/Documents/webroot/annotation_tools/src/components/video-tracking2/components/relationship/RelationshipMenu.tsx\";\nimport React, { useState } from 'react';\nimport { observer } from 'mobx-react';\nimport cx from 'classnames';\nimport store from '../../store/RootStore';\nimport i18n from '../../locales';\nimport './RelationshipMenu.scss';\nconst relationshipMenuWidth = 220;\nconst relationshipMenuHeight = 215;\nconst RelationshipMenu = observer(() => {\n  const [copyModal, setCopyModal] = useState(false);\n  const [delModal, setDelModal] = useState(false);\n  const [copyFrame, setCopyFrame] = useState('');\n  const [delFrame, setDelFrame] = useState('');\n  const {\n    relationshipMenuVisible\n  } = store.config;\n  const {\n    editingRelationship,\n    editingConnection,\n    menuPosition\n  } = store.relationship;\n  if (!relationshipMenuVisible || !editingRelationship || !editingConnection) {\n    return null;\n  }\n  const {\n    currentFrame,\n    frameCount\n  } = store.frame;\n  const inputCopyFrame = e => {\n    const str = e.target.value;\n    if (!str || /^\\d*$/.test(str)) {\n      setCopyFrame(str);\n    }\n  };\n  const inputDelFrame = e => {\n    const str = e.target.value;\n    if (!str || /^\\d*$/.test(str)) {\n      setDelFrame(str);\n    }\n  };\n  const cancel = () => {\n    setCopyModal(false);\n    setDelModal(false);\n    setCopyFrame('');\n    setDelFrame('');\n  };\n  const saveCopyFrames = () => {\n    if (copyFrame) {\n      const copyFrameIndex = Number(copyFrame) - 1;\n      if (!Number.isNaN(copyFrameIndex)) {\n        const maxFrame = Math.min(copyFrameIndex, frameCount - 1);\n        store.relationship.copyToFrames(Array.from({\n          length: maxFrame - currentFrame\n        }).map((_, i) => i + currentFrame + 1));\n      }\n      cancel();\n    }\n  };\n  const saveDelFrames = () => {\n    if (delFrame) {\n      const delFrameIndex = Number(delFrame) - 1;\n      if (!Number.isNaN(delFrameIndex)) {\n        const maxFrame = Math.min(delFrameIndex, frameCount - 1);\n        store.relationship.deleteFromFrames(Array.from({\n          length: maxFrame - currentFrame + 1\n        }).map((_, i) => i + currentFrame));\n      }\n      cancel();\n    }\n  };\n  let left;\n  let top;\n  if (menuPosition) {\n    left = menuPosition.x - relationshipMenuWidth;\n    top = menuPosition.y;\n    if (top > window.innerHeight - relationshipMenuHeight) {\n      top -= relationshipMenuHeight;\n    }\n  } else {\n    const textBox = editingConnection.text.getBoundingClientRect();\n    left = textBox.left + 8;\n    top = textBox.bottom + 8;\n    if (top > window.innerHeight - relationshipMenuHeight) {\n      top = textBox.top - relationshipMenuHeight;\n    }\n    if (left + relationshipMenuWidth > window.innerWidth) {\n      left = textBox.left - relationshipMenuWidth - 8;\n    }\n  }\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"relationship-menu-mask\",\n    onClick: store.relationship.finishUpdate,\n    onContextMenu: e => e.preventDefault(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"relationship-menu\",\n    style: {\n      width: relationshipMenuWidth,\n      left,\n      top\n    },\n    onClick: e => e.stopPropagation(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: cx('relationship-menu-item', {\n      disabled: currentFrame === frameCount - 1\n    }),\n    onClick: store.relationship.copyToNextFrame,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 11\n    }\n  }, i18n.translate('RELATIONSHIP_COPY_NEXT_FRAME')), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"relationship-menu-item\",\n    onClick: () => store.relationship.copyToFrames(Array.from({\n      length: frameCount - currentFrame - 1\n    }).map((_, i) => i + currentFrame + 1)),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 11\n    }\n  }, i18n.translate('RELATIONSHIP_COPY_FOLLOWING_FRAMES')), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"relationship-menu-item\",\n    onClick: () => setCopyModal(true),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 11\n    }\n  }, i18n.translate('RELATIONSHIP_COPY_RANGE')), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"relationship-menu-divider\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"relationship-menu-item\",\n    onClick: store.relationship.deleteFromCurrentFrame,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 11\n    }\n  }, i18n.translate('RELATIONSHIP_DELETE')), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"relationship-menu-item\",\n    onClick: () => store.relationship.deleteFromFrames(Array.from({\n      length: frameCount - currentFrame\n    }).map((_, i) => i + currentFrame)),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 11\n    }\n  }, i18n.translate('RELATIONSHIP_DELETE_FOLLOWING_FRAMES')), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"relationship-menu-item\",\n    onClick: () => setDelModal(true),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 11\n    }\n  }, i18n.translate('RELATIONSHIP_DELETE_RANGE')))), (copyModal || delModal) && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"relationship-menu-mask bg-color\",\n    onContextMenu: e => e.preventDefault(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 9\n    }\n  }, copyModal && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"relationship-menu-modal\",\n    onClick: e => e.stopPropagation(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"relationship-menu-modal-title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 15\n    }\n  }, i18n.translate('RELATIONSHIP_COPY_RANGE_TITLE')), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"relationship-menu-modal-content\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 17\n    }\n  }, i18n.translate('RELATIONSHIP_COPY_RANGE_DESC')), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 17\n    }\n  }, i18n.translate('RELATIONSHIP_RANGE_START'), /*#__PURE__*/React.createElement(\"input\", {\n    value: copyFrame,\n    onChange: inputCopyFrame,\n    autoFocus: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 19\n    }\n  }), i18n.translate('RELATIONSHIP_RANGE_END'))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"relationship-menu-modal-action\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"relationship-menu-modal-btn\",\n    onClick: cancel,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 17\n    }\n  }, i18n.translate('COMMON_CANCEL')), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"relationship-menu-modal-btn save\",\n    onClick: saveCopyFrames,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 17\n    }\n  }, i18n.translate('COMMON_OK')))), delModal && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"relationship-menu-modal\",\n    onClick: e => e.stopPropagation(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"relationship-menu-modal-title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 169,\n      columnNumber: 15\n    }\n  }, i18n.translate('RELATIONSHIP_DELETE_RANGE_TITLE')), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"relationship-menu-modal-content\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 172,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 17\n    }\n  }, i18n.translate('RELATIONSHIP_DELETE_RANGE_DESC')), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 17\n    }\n  }, i18n.translate('RELATIONSHIP_RANGE_START'), /*#__PURE__*/React.createElement(\"input\", {\n    value: delFrame,\n    onChange: inputDelFrame,\n    autoFocus: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 177,\n      columnNumber: 19\n    }\n  }), i18n.translate('RELATIONSHIP_RANGE_END'))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"relationship-menu-modal-action\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 181,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"relationship-menu-modal-btn\",\n    onClick: cancel,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 182,\n      columnNumber: 17\n    }\n  }, i18n.translate('COMMON_CANCEL')), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"relationship-menu-modal-btn save\",\n    onClick: saveDelFrames,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 185,\n      columnNumber: 17\n    }\n  }, i18n.translate('COMMON_OK'))))));\n});\nexport default RelationshipMenu;","map":{"version":3,"names":["React","useState","observer","cx","store","i18n","relationshipMenuWidth","relationshipMenuHeight","RelationshipMenu","copyModal","setCopyModal","delModal","setDelModal","copyFrame","setCopyFrame","delFrame","setDelFrame","relationshipMenuVisible","config","editingRelationship","editingConnection","menuPosition","relationship","currentFrame","frameCount","frame","inputCopyFrame","e","str","target","value","test","inputDelFrame","cancel","saveCopyFrames","copyFrameIndex","Number","isNaN","maxFrame","Math","min","copyToFrames","Array","from","length","map","_","i","saveDelFrames","delFrameIndex","deleteFromFrames","left","top","x","y","window","innerHeight","textBox","text","getBoundingClientRect","bottom","innerWidth","createElement","Fragment","className","onClick","finishUpdate","onContextMenu","preventDefault","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","style","width","stopPropagation","disabled","copyToNextFrame","translate","deleteFromCurrentFrame","onChange","autoFocus"],"sources":["/Users/qzheng/Documents/webroot/annotation_tools/src/components/video-tracking2/components/relationship/RelationshipMenu.tsx"],"sourcesContent":["import React, { useState } from 'react';\nimport { observer } from 'mobx-react';\nimport cx from 'classnames';\nimport store from '../../store/RootStore';\nimport i18n from '../../locales';\nimport './RelationshipMenu.scss';\n\nconst relationshipMenuWidth = 220;\nconst relationshipMenuHeight = 215;\n\nconst RelationshipMenu = observer(() => {\n  const [copyModal, setCopyModal] = useState(false);\n  const [delModal, setDelModal] = useState(false);\n  const [copyFrame, setCopyFrame] = useState('');\n  const [delFrame, setDelFrame] = useState('');\n\n  const { relationshipMenuVisible } = store.config;\n  const { editingRelationship, editingConnection, menuPosition } = store.relationship;\n  if (!relationshipMenuVisible || !editingRelationship || !editingConnection) {\n    return null;\n  }\n\n  const { currentFrame, frameCount } = store.frame;\n  const inputCopyFrame = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const str = e.target.value;\n    if (!str || /^\\d*$/.test(str)) {\n      setCopyFrame(str);\n    }\n  };\n  const inputDelFrame = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const str = e.target.value;\n    if (!str || /^\\d*$/.test(str)) {\n      setDelFrame(str);\n    }\n  };\n  const cancel = () => {\n    setCopyModal(false);\n    setDelModal(false);\n    setCopyFrame('');\n    setDelFrame('');\n  };\n  const saveCopyFrames = () => {\n    if (copyFrame) {\n      const copyFrameIndex = Number(copyFrame) - 1;\n      if (!Number.isNaN(copyFrameIndex)) {\n        const maxFrame = Math.min(copyFrameIndex, frameCount - 1);\n        store.relationship.copyToFrames(Array.from({ length: maxFrame - currentFrame }).map((_, i) => i + currentFrame + 1));\n      }\n      cancel();\n    }\n  };\n  const saveDelFrames = () => {\n    if (delFrame) {\n      const delFrameIndex = Number(delFrame) - 1;\n      if (!Number.isNaN(delFrameIndex)) {\n        const maxFrame = Math.min(delFrameIndex, frameCount - 1);\n        store.relationship.deleteFromFrames(Array.from({ length: maxFrame - currentFrame + 1 }).map((_, i) => i + currentFrame));\n      }\n      cancel();\n    }\n  };\n\n  let left;\n  let top;\n  if (menuPosition) {\n    left = menuPosition.x - relationshipMenuWidth;\n    top = menuPosition.y;\n    if (top > window.innerHeight - relationshipMenuHeight) {\n      top -= relationshipMenuHeight;\n    }\n  } else {\n    const textBox = editingConnection.text.getBoundingClientRect();\n    left = textBox.left + 8;\n    top = textBox.bottom + 8;\n    if (top > window.innerHeight - relationshipMenuHeight) {\n      top = textBox.top - relationshipMenuHeight;\n    }\n    if (left + relationshipMenuWidth > window.innerWidth) {\n      left = textBox.left - relationshipMenuWidth - 8;\n    }\n  }\n  return (\n    <>\n      <div\n        className=\"relationship-menu-mask\"\n        onClick={store.relationship.finishUpdate}\n        onContextMenu={(e) => e.preventDefault()}\n      >\n        <div\n          className=\"relationship-menu\"\n          style={{ width: relationshipMenuWidth, left, top }}\n          onClick={(e) => e.stopPropagation()}\n        >\n          <div\n            className={cx('relationship-menu-item', {\n              disabled: currentFrame === frameCount - 1,\n            })}\n            onClick={store.relationship.copyToNextFrame}\n          >\n            {i18n.translate('RELATIONSHIP_COPY_NEXT_FRAME')}\n          </div>\n          <div\n            className=\"relationship-menu-item\"\n            onClick={() => store.relationship.copyToFrames(Array.from({ length: frameCount - currentFrame - 1 }).map((_, i) => i + currentFrame + 1))}\n          >\n            {i18n.translate('RELATIONSHIP_COPY_FOLLOWING_FRAMES')}\n          </div>\n          <div\n            className=\"relationship-menu-item\"\n            onClick={() => setCopyModal(true)}\n          >\n            {i18n.translate('RELATIONSHIP_COPY_RANGE')}\n          </div>\n          <div className=\"relationship-menu-divider\" />\n          <div\n            className=\"relationship-menu-item\"\n            onClick={store.relationship.deleteFromCurrentFrame}\n          >\n            {i18n.translate('RELATIONSHIP_DELETE')}\n          </div>\n          <div\n            className=\"relationship-menu-item\"\n            onClick={() => store.relationship.deleteFromFrames(Array.from({ length: frameCount - currentFrame }).map((_, i) => i + currentFrame))}\n          >\n            {i18n.translate('RELATIONSHIP_DELETE_FOLLOWING_FRAMES')}\n          </div>\n          <div\n            className=\"relationship-menu-item\"\n            onClick={() => setDelModal(true)}\n          >\n            {i18n.translate('RELATIONSHIP_DELETE_RANGE')}\n          </div>\n        </div>\n      </div>\n      {(copyModal || delModal) && (\n        <div className=\"relationship-menu-mask bg-color\" onContextMenu={(e) => e.preventDefault()}>\n          {copyModal && (\n            <div\n              className=\"relationship-menu-modal\"\n              onClick={(e) => e.stopPropagation()}\n            >\n              <div className=\"relationship-menu-modal-title\">\n                {i18n.translate('RELATIONSHIP_COPY_RANGE_TITLE')}\n              </div>\n              <div className=\"relationship-menu-modal-content\">\n                <div>{i18n.translate('RELATIONSHIP_COPY_RANGE_DESC')}</div>\n                <div>\n                  {i18n.translate('RELATIONSHIP_RANGE_START')}\n                  {/* eslint-disable-next-line jsx-a11y/no-autofocus */}\n                  <input value={copyFrame} onChange={inputCopyFrame} autoFocus />\n                  {i18n.translate('RELATIONSHIP_RANGE_END')}\n                </div>\n              </div>\n              <div className=\"relationship-menu-modal-action\">\n                <div className=\"relationship-menu-modal-btn\" onClick={cancel}>\n                  {i18n.translate('COMMON_CANCEL')}\n                </div>\n                <div className=\"relationship-menu-modal-btn save\" onClick={saveCopyFrames}>\n                  {i18n.translate('COMMON_OK')}\n                </div>\n              </div>\n            </div>\n          )}\n          {delModal && (\n            <div\n              className=\"relationship-menu-modal\"\n              onClick={(e) => e.stopPropagation()}\n            >\n              <div className=\"relationship-menu-modal-title\">\n                {i18n.translate('RELATIONSHIP_DELETE_RANGE_TITLE')}\n              </div>\n              <div className=\"relationship-menu-modal-content\">\n                <div>{i18n.translate('RELATIONSHIP_DELETE_RANGE_DESC')}</div>\n                <div>\n                  {i18n.translate('RELATIONSHIP_RANGE_START')}\n                  {/* eslint-disable-next-line jsx-a11y/no-autofocus */}\n                  <input value={delFrame} onChange={inputDelFrame} autoFocus />\n                  {i18n.translate('RELATIONSHIP_RANGE_END')}\n                </div>\n              </div>\n              <div className=\"relationship-menu-modal-action\">\n                <div className=\"relationship-menu-modal-btn\" onClick={cancel}>\n                  {i18n.translate('COMMON_CANCEL')}\n                </div>\n                <div className=\"relationship-menu-modal-btn save\" onClick={saveDelFrames}>\n                  {i18n.translate('COMMON_OK')}\n                </div>\n              </div>\n            </div>\n          )}\n        </div>\n      )}\n    </>\n  );\n});\n\nexport default RelationshipMenu;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}