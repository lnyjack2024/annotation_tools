{"ast":null,"code":"var _jsxFileName = \"/Users/qzheng/Documents/webroot/annotation_tools/src/components/common/llm/chat/ScoreRank.tsx\";\nimport React, { useContext } from 'react';\nimport { Button, Rate } from 'antd';\nimport { FormOutlined } from '@ant-design/icons';\nimport LocaleContext from '../locales/context';\nimport translate from '../locales';\nconst ScoreRank = ({\n  options,\n  editable,\n  editing,\n  onEdit,\n  value,\n  onChange\n}) => {\n  const locale = useContext(LocaleContext);\n  const missValue = options.some(o => (value === null || value === void 0 ? void 0 : value[o]) === undefined);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"llm-chat-item-content-rank\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 5\n    }\n  }, editing || missValue ? options.map(o => /*#__PURE__*/React.createElement(\"div\", {\n    key: o,\n    onClick: e => e.stopPropagation(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    style: {\n      color: '#F56C6C',\n      paddingRight: 2\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 11\n    }\n  }, \"*\"), /*#__PURE__*/React.createElement(\"span\", {\n    style: {\n      paddingRight: 12\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 11\n    }\n  }, o), /*#__PURE__*/React.createElement(Rate, {\n    value: value === null || value === void 0 ? void 0 : value[o],\n    onChange: v => onChange({\n      ...value,\n      [o]: v\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 11\n    }\n  }))) : /*#__PURE__*/React.createElement(React.Fragment, null, options.map(o => /*#__PURE__*/React.createElement(\"span\", {\n    key: o,\n    style: {\n      paddingRight: 12\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 13\n    }\n  }, `${o}: ${(value === null || value === void 0 ? void 0 : value[o]) === undefined ? '' : translate(locale, 'CHAT_RANK_SCORE', {\n    values: {\n      score: value[o]\n    }\n  })}`)), editable && /*#__PURE__*/React.createElement(Button, {\n    size: \"small\",\n    type: \"link\",\n    icon: /*#__PURE__*/React.createElement(FormOutlined, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 21\n      }\n    }),\n    onClick: e => {\n      if (onEdit) {\n        e.stopPropagation();\n        onEdit();\n      }\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 13\n    }\n  })));\n};\nexport default ScoreRank;","map":{"version":3,"names":["React","useContext","Button","Rate","FormOutlined","LocaleContext","translate","ScoreRank","options","editable","editing","onEdit","value","onChange","locale","missValue","some","o","undefined","createElement","className","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","map","key","onClick","e","stopPropagation","style","color","paddingRight","v","Fragment","values","score","size","type","icon"],"sources":["/Users/qzheng/Documents/webroot/annotation_tools/src/components/common/llm/chat/ScoreRank.tsx"],"sourcesContent":["import React, { useContext } from 'react';\nimport { Button, Rate } from 'antd';\nimport { FormOutlined } from '@ant-design/icons';\nimport { Rank } from '../types';\nimport LocaleContext from '../locales/context';\nimport translate from '../locales';\n\ninterface ScoreRankProps {\n  options: string[];\n  editable: boolean;\n  editing: boolean;\n  onEdit?: () => void;\n  value?: Rank['scores'];\n  onChange: (value: Rank['scores']) => void;\n}\n\nconst ScoreRank: React.FC<ScoreRankProps> = ({\n  options,\n  editable,\n  editing,\n  onEdit,\n  value,\n  onChange,\n}) => {\n  const locale = useContext(LocaleContext);\n  const missValue = options.some((o) => value?.[o] === undefined);\n  return (\n    <div className=\"llm-chat-item-content-rank\">\n      {(editing || missValue) ? options.map((o) => (\n        <div key={o} onClick={(e) => e.stopPropagation()}>\n          <span style={{ color: '#F56C6C', paddingRight: 2 }}>*</span>\n          <span style={{ paddingRight: 12 }}>\n            {o}\n          </span>\n          <Rate\n            value={value?.[o]}\n            onChange={(v) => onChange({ ...value, [o]: v })}\n          />\n        </div>\n      )) : (\n        <>\n          {options.map((o) => (\n            <span key={o} style={{ paddingRight: 12 }}>\n              {`${o}: ${value?.[o] === undefined ? '' : translate(locale, 'CHAT_RANK_SCORE', { values: { score: value[o] } })}`}\n            </span>\n          ))}\n          {editable && (\n            <Button\n              size=\"small\"\n              type=\"link\"\n              icon={<FormOutlined />}\n              onClick={(e) => {\n                if (onEdit) {\n                  e.stopPropagation();\n                  onEdit();\n                }\n              }}\n            />\n          )}\n        </>\n      )}\n    </div>\n  );\n};\n\nexport default ScoreRank;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}