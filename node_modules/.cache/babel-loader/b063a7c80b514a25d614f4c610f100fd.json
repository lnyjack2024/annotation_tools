{"ast":null,"code":"import React,{useEffect,useState,useMemo}from'react';import{observer}from'mobx-react';import{toJS}from'mobx';import{CheckCircleFilled,CloseCircleFilled,DownOutlined,RightOutlined,SearchOutlined}from'@ant-design/icons';import{cloneDeep,debounce}from'lodash';import cx from'classnames';import{Input}from'antd';import{generateConfigKeyByKeys}from'../../utils/helper';import localMessage from'../../locale';import ToolGroup from'./toolGroup';import store from'../../store/RootStore';import{MISSING_LABEL}from'../../store/constant';const Toolbar=observer(props=>{const{currentBrush,setCurrentBrush,contentReadyOnly,inputEnable}=props;const[scrollTop,setScrollTop]=useState(0);const[isFocus,setIsFocus]=useState(false);const[filterValue,setFilterValue]=useState();const[typeSet,setTypeSet]=useState(new Set());const[filteredOntologies,setFilteredOntologies]=useState();useEffect(()=>{setFilteredOntologies(cloneDeep(store.ontology.ontologies));},[store.ontology.ontologies]);useEffect(()=>{if(filteredOntologies){const set=new Set();Object.entries(filteredOntologies).forEach(_ref=>{let[key]=_ref;if(!set.has(key))set.add(key);});setTypeSet(set);}},[filteredOntologies]);const filterOntologiesBySearch=(arr,value)=>{const newChildren=[];arr===null||arr===void 0?void 0:arr.forEach(item=>{if((item.displayName||item.text).includes(value)){newChildren.push(item);}else{const children=filterOntologiesBySearch(item.children,value);if(children){item.children=cloneDeep(children);newChildren.push(item);}}});return newChildren.length>0?newChildren:undefined;};const handleSearch=value=>{if(value){const newFilteredOntologies={};if(store.ontology.ontologies&&typeSet.size!==0){Array.from(typeSet).forEach(type=>{newFilteredOntologies[type]=filterOntologiesBySearch(store.ontology.ontologies[type],value);});}setFilteredOntologies(newFilteredOntologies);}else{setFilteredOntologies(store.ontology.ontologies);}};const filteredResultEmpty=useMemo(()=>{if(filteredOntologies&&Object.keys(filteredOntologies).length>0){return!Object.values(filteredOntologies).some(item=>item&&item.length>0);}return true;},[filteredOntologies]);const toggleCollapseAll=collapseStatus=>{store.ontology.updateOntologiesCollapseStatusAll(collapseStatus);};const onChange=e=>{setFilterValue(e.target.value);onInputChange(e.target.value);};const onInputChange=debounce(value=>{handleSearch(value);},100);const isCollapseAll=useMemo(()=>{if(!store.ontology.ontologiesStatusMap||store.ontology.ontologiesStatusMap.size===0){return true;}const missKeys=generateConfigKeyByKeys(MISSING_LABEL.keys);// eslint-disable-next-line no-restricted-syntax\nfor(const[key,value]of store.ontology.ontologiesStatusMap){if(key!==missKeys){if(!value.isCollapse){return false;}}}return true;},[toJS(store.ontology.ontologiesStatusMap)]);const currentFixedText=useMemo(()=>{if(currentBrush){const keys=currentBrush.keys.reduce((prev,cur,index)=>{let key=generateConfigKeyByKeys([cur]);if(prev.length>0){const last=prev[prev.length-1];key=generateConfigKeyByKeys([last,cur]);}prev.push(key);return prev;},[]);return keys.map(key=>{const item=store.ontology.ontologyConfigMap.get(key);return{color:item.color,text:item.displayName||item.text};});}return'';},[currentBrush]);return/*#__PURE__*/React.createElement(\"div\",{className:\"tool-wrapper\"},contentReadyOnly?null:/*#__PURE__*/React.createElement(\"button\",{className:\"edit-trigger \".concat(currentBrush===null&&inputEnable?'tool-item-focus':''),onClick:()=>setCurrentBrush(null,!inputEnable)},localMessage('EDIT_TEXT')),/*#__PURE__*/React.createElement(\"div\",{className:cx('filter-container',{isFocus})},/*#__PURE__*/React.createElement(Input,{onFocus:()=>setIsFocus(true),onBlur:()=>setIsFocus(false),value:filterValue,className:\"filter-input\",placeholder:localMessage('COMMON_SEARCH'),prefix:/*#__PURE__*/React.createElement(SearchOutlined,null),allowClear:true,onPressEnter:()=>{handleSearch(filterValue);},onChange:onChange})),filterValue&&/*#__PURE__*/React.createElement(\"div\",{className:\"filter-result-title\"},filteredResultEmpty?\"\".concat(localMessage('COMMON_SEARCH__NO_RESULT')):\"\".concat(localMessage('COMMON_SEARCH_RESULT'))),!filteredResultEmpty&&/*#__PURE__*/React.createElement(React.Fragment,null,store.reviewable&&/*#__PURE__*/React.createElement(\"div\",{className:\"review-info-tips\"},/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(CheckCircleFilled,{style:{color:'#51CD44',marginRight:4}}),\"\".concat(localMessage('REVIEW_APPROVE_TIP'))),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(CloseCircleFilled,{style:{color:'#D45058',marginRight:4}}),\"\".concat(localMessage('REVIEW_REJECT_TIP')))),(typeSet===null||typeSet===void 0?void 0:typeSet.has('labels_qa'))&&filteredOntologies.labels_qa&&/*#__PURE__*/React.createElement(\"div\",{className:\"tag-container-review\"},/*#__PURE__*/React.createElement(ToolGroup,{type:\"labels_qa\",filteredOntologies:filteredOntologies,setCurrentBrush:setCurrentBrush,currentBrush:currentBrush})),/*#__PURE__*/React.createElement(\"div\",{className:\"collapse-button\",onClick:()=>toggleCollapseAll(!isCollapseAll)},isCollapseAll?/*#__PURE__*/React.createElement(RightOutlined,null):/*#__PURE__*/React.createElement(DownOutlined,null),/*#__PURE__*/React.createElement(\"span\",{style:{marginLeft:6}},isCollapseAll?localMessage('EXPAND_ALL'):localMessage('COLLAPSE_ALL'))),/*#__PURE__*/React.createElement(\"div\",{className:\"tag-container-wrapper\"},currentBrush&&scrollTop>0&&/*#__PURE__*/React.createElement(\"div\",{className:\"tool-group-fixed\"},currentFixedText.map((item,index)=>/*#__PURE__*/React.createElement(\"div\",{className:\"item-left\",key:item.text},/*#__PURE__*/React.createElement(\"span\",{className:\"item-left-color\",style:{background:item.color}}),/*#__PURE__*/React.createElement(\"span\",{className:\"item-left-text\"},item.text),index+1!==currentFixedText.length&&/*#__PURE__*/React.createElement(\"span\",{className:\"item-left-split\"},\"/\")))),filteredOntologies&&typeSet.size!==0&&/*#__PURE__*/React.createElement(\"div\",{className:\"tag-container\",onScroll:e=>setScrollTop(e.target.scrollTop)},Array.from(typeSet).map(type=>{if(!filteredOntologies[type]||type==='labels_qa'){return null;}return/*#__PURE__*/React.createElement(ToolGroup,{key:type,type:type,filteredOntologies:filteredOntologies,setCurrentBrush:setCurrentBrush,currentBrush:currentBrush});})))));});export default Toolbar;","map":{"version":3,"names":["React","useEffect","useState","useMemo","observer","toJS","CheckCircleFilled","CloseCircleFilled","DownOutlined","RightOutlined","SearchOutlined","cloneDeep","debounce","cx","Input","generateConfigKeyByKeys","localMessage","ToolGroup","store","MISSING_LABEL","Toolbar","props","currentBrush","setCurrentBrush","contentReadyOnly","inputEnable","scrollTop","setScrollTop","isFocus","setIsFocus","filterValue","setFilterValue","typeSet","setTypeSet","Set","filteredOntologies","setFilteredOntologies","ontology","ontologies","set","Object","entries","forEach","_ref","key","has","add","filterOntologiesBySearch","arr","value","newChildren","item","displayName","text","includes","push","children","length","undefined","handleSearch","newFilteredOntologies","size","Array","from","type","filteredResultEmpty","keys","values","some","toggleCollapseAll","collapseStatus","updateOntologiesCollapseStatusAll","onChange","e","target","onInputChange","isCollapseAll","ontologiesStatusMap","missKeys","isCollapse","currentFixedText","reduce","prev","cur","index","last","map","ontologyConfigMap","get","color","createElement","className","concat","onClick","onFocus","onBlur","placeholder","prefix","allowClear","onPressEnter","Fragment","reviewable","style","marginRight","labels_qa","marginLeft","background","onScroll"],"sources":["/Users/qzheng/Documents/webroot/annotation_tools/src/components/editable-text/components/toolBar/index.jsx"],"sourcesContent":["import React, { useEffect, useState, useMemo } from 'react';\nimport { observer } from 'mobx-react';\nimport { toJS } from 'mobx';\nimport { CheckCircleFilled, CloseCircleFilled, DownOutlined, RightOutlined, SearchOutlined } from '@ant-design/icons';\nimport { cloneDeep, debounce } from 'lodash';\nimport cx from 'classnames';\nimport { Input } from 'antd';\nimport { generateConfigKeyByKeys } from '../../utils/helper';\nimport localMessage from '../../locale';\nimport ToolGroup from './toolGroup';\nimport store from '../../store/RootStore';\nimport { MISSING_LABEL } from '../../store/constant';\n\nconst Toolbar = observer((props) => {\n  const {\n    currentBrush,\n    setCurrentBrush,\n    contentReadyOnly,\n    inputEnable,\n  } = props;\n  const [scrollTop, setScrollTop] = useState(0);\n  const [isFocus, setIsFocus] = useState(false);\n  const [filterValue, setFilterValue] = useState();\n  const [typeSet, setTypeSet] = useState(new Set());\n\n  const [filteredOntologies, setFilteredOntologies] = useState();\n  useEffect(() => {\n    setFilteredOntologies(cloneDeep(store.ontology.ontologies));\n  }, [store.ontology.ontologies]);\n\n  useEffect(() => {\n    if (filteredOntologies) {\n      const set = new Set();\n      Object.entries(filteredOntologies).forEach(([key]) => {\n        if (!set.has(key)) set.add(key);\n      });\n      setTypeSet(set);\n    }\n  }, [filteredOntologies]);\n\n  const filterOntologiesBySearch = (arr, value) => {\n    const newChildren = [];\n    arr?.forEach((item) => {\n      if ((item.displayName || item.text).includes(value)) {\n        newChildren.push(item);\n      } else {\n        const children = filterOntologiesBySearch(item.children, value);\n        if (children) {\n          item.children = cloneDeep(children);\n          newChildren.push(item);\n        }\n      }\n    });\n    return newChildren.length > 0 ? newChildren : undefined;\n  };\n\n  const handleSearch = (value) => {\n    if (value) {\n      const newFilteredOntologies = {};\n      if (store.ontology.ontologies && typeSet.size !== 0) {\n        Array.from(typeSet).forEach((type) => {\n          newFilteredOntologies[type] = filterOntologiesBySearch(store.ontology.ontologies[type], value);\n        });\n      }\n      setFilteredOntologies(newFilteredOntologies);\n    } else {\n      setFilteredOntologies(store.ontology.ontologies);\n    }\n  };\n\n  const filteredResultEmpty = useMemo(() => {\n    if (filteredOntologies && Object.keys(filteredOntologies).length > 0) {\n      return !(Object.values(filteredOntologies).some((item) => item && item.length > 0));\n    }\n    return true;\n  }, [filteredOntologies]);\n\n  const toggleCollapseAll = (collapseStatus) => {\n    store.ontology.updateOntologiesCollapseStatusAll(collapseStatus);\n  };\n\n  const onChange = (e) => {\n    setFilterValue(e.target.value);\n    onInputChange(e.target.value);\n  };\n\n  const onInputChange = debounce((value) => {\n    handleSearch(value);\n  }, 100);\n\n  const isCollapseAll = useMemo(() => {\n    if (!store.ontology.ontologiesStatusMap || store.ontology.ontologiesStatusMap.size === 0) {\n      return true;\n    }\n    const missKeys = generateConfigKeyByKeys(MISSING_LABEL.keys);\n    // eslint-disable-next-line no-restricted-syntax\n    for (const [key, value] of store.ontology.ontologiesStatusMap) {\n      if (key !== missKeys) {\n        if (!value.isCollapse) {\n          return false;\n        }\n      }\n    }\n    return true;\n  }, [toJS(store.ontology.ontologiesStatusMap)]);\n\n  const currentFixedText = useMemo(() => {\n    if (currentBrush) {\n      const keys = currentBrush.keys.reduce((prev, cur, index) => {\n        let key = generateConfigKeyByKeys([cur]);\n        if (prev.length > 0) {\n          const last = prev[prev.length - 1];\n          key = generateConfigKeyByKeys([last, cur]);\n        }\n        prev.push(key);\n        return prev;\n      }, []);\n      return keys.map((key) => {\n        const item = store.ontology.ontologyConfigMap.get(key);\n        return {\n          color: item.color,\n          text: item.displayName || item.text\n        };\n      });\n    }\n    return '';\n  }, [currentBrush]);\n  return (\n    <div className=\"tool-wrapper\">\n      { contentReadyOnly ? null : (\n        <button\n          className={`edit-trigger ${(currentBrush === null && inputEnable) ? 'tool-item-focus' : ''}`}\n          onClick={() => setCurrentBrush(null, !inputEnable)}\n        >\n          {localMessage('EDIT_TEXT')}\n        </button>\n      )}\n      <div className={cx('filter-container', { isFocus })}>\n        <Input\n          onFocus={() => setIsFocus(true)}\n          onBlur={() => setIsFocus(false)}\n          value={filterValue}\n          className=\"filter-input\"\n          placeholder={localMessage('COMMON_SEARCH')}\n          prefix={<SearchOutlined />}\n          allowClear\n          onPressEnter={() => {\n            handleSearch(filterValue);\n          }}\n          onChange={onChange}\n        />\n      </div>\n      {filterValue && (\n      <div className=\"filter-result-title\">\n        {filteredResultEmpty ? `${localMessage('COMMON_SEARCH__NO_RESULT')}` : `${localMessage('COMMON_SEARCH_RESULT')}` }\n      </div>\n      )}\n      {!filteredResultEmpty && (\n      <>\n        {store.reviewable && (\n        <div className=\"review-info-tips\">\n          <div>\n            <CheckCircleFilled style={{ color: '#51CD44', marginRight: 4 }} />\n            {`${localMessage('REVIEW_APPROVE_TIP')}`}\n          </div>\n          <div>\n            <CloseCircleFilled style={{ color: '#D45058', marginRight: 4 }} />\n            {`${localMessage('REVIEW_REJECT_TIP')}`}\n          </div>\n        </div>\n        )}\n        { typeSet?.has('labels_qa') && filteredOntologies.labels_qa && (\n        <div className=\"tag-container-review\">\n          <ToolGroup type=\"labels_qa\" filteredOntologies={filteredOntologies} setCurrentBrush={setCurrentBrush} currentBrush={currentBrush} />\n        </div>\n      )}\n        <div\n          className=\"collapse-button\"\n          onClick={() => toggleCollapseAll(!isCollapseAll)}\n        >\n          {isCollapseAll ? <RightOutlined /> : <DownOutlined /> }\n          <span style={{ marginLeft: 6 }}>\n            {isCollapseAll ? localMessage('EXPAND_ALL') : localMessage('COLLAPSE_ALL')}\n          </span>\n        </div>\n        <div className=\"tag-container-wrapper\">\n          {currentBrush && scrollTop > 0 && (\n          <div className=\"tool-group-fixed\">\n            {currentFixedText.map((item, index) => (\n              <div className=\"item-left\" key={item.text}>\n                <span className=\"item-left-color\" style={{ background: item.color }} />\n                <span className=\"item-left-text\">\n                  {item.text}\n                </span>\n                {index + 1 !== currentFixedText.length && (<span className=\"item-left-split\">/</span>)}\n              </div>\n            ))}\n          </div>\n          )}\n          {\n          filteredOntologies && typeSet.size !== 0 && (\n            <div className=\"tag-container\" onScroll={(e) => setScrollTop(e.target.scrollTop)}>\n              { Array.from(typeSet).map((type) => {\n                if (!filteredOntologies[type] || type === 'labels_qa') {\n                  return null;\n                }\n                return (\n                  <ToolGroup key={type} type={type} filteredOntologies={filteredOntologies} setCurrentBrush={setCurrentBrush} currentBrush={currentBrush} />\n                );\n              })}\n            </div>\n          )\n        }\n        </div>\n      </>\n      )}\n    </div>\n  );\n});\n\nexport default Toolbar;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}