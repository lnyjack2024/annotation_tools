{"ast":null,"code":"'no babel-plugin-flow-react-proptypes';\n\nimport { requestAnimationTimeout, cancelAnimationTimeout } from '../../utils/requestAnimationTimeout';\n/*:: import type WindowScroller from '../WindowScroller.js';*/\nvar mountedInstances = [];\nvar originalBodyPointerEvents = null;\nvar disablePointerEventsTimeoutId = null;\nfunction enablePointerEventsIfDisabled() {\n  if (disablePointerEventsTimeoutId) {\n    disablePointerEventsTimeoutId = null;\n    if (document.body && originalBodyPointerEvents != null) {\n      document.body.style.pointerEvents = originalBodyPointerEvents;\n    }\n    originalBodyPointerEvents = null;\n  }\n}\nfunction enablePointerEventsAfterDelayCallback() {\n  enablePointerEventsIfDisabled();\n  mountedInstances.forEach(function (instance) {\n    return instance.__resetIsScrolling();\n  });\n}\nfunction enablePointerEventsAfterDelay() {\n  if (disablePointerEventsTimeoutId) {\n    cancelAnimationTimeout(disablePointerEventsTimeoutId);\n  }\n  var maximumTimeout = 0;\n  mountedInstances.forEach(function (instance) {\n    maximumTimeout = Math.max(maximumTimeout, instance.props.scrollingResetTimeInterval);\n  });\n  disablePointerEventsTimeoutId = requestAnimationTimeout(enablePointerEventsAfterDelayCallback, maximumTimeout);\n}\nfunction onScrollWindow(event /*: Event*/) {\n  if (event.currentTarget === window && originalBodyPointerEvents == null && document.body) {\n    originalBodyPointerEvents = document.body.style.pointerEvents;\n    document.body.style.pointerEvents = 'none';\n  }\n  enablePointerEventsAfterDelay();\n  mountedInstances.forEach(function (instance) {\n    if (instance.props.scrollElement === event.currentTarget) {\n      instance.__handleWindowScrollEvent();\n    }\n  });\n}\nexport function registerScrollListener(component /*: WindowScroller*/, element /*: Element*/) {\n  if (!mountedInstances.some(function (instance) {\n    return instance.props.scrollElement === element;\n  })) {\n    element.addEventListener('scroll', onScrollWindow);\n  }\n  mountedInstances.push(component);\n}\nexport function unregisterScrollListener(component /*: WindowScroller*/, element /*: Element*/) {\n  mountedInstances = mountedInstances.filter(function (instance) {\n    return instance !== component;\n  });\n  if (!mountedInstances.length) {\n    element.removeEventListener('scroll', onScrollWindow);\n    if (disablePointerEventsTimeoutId) {\n      cancelAnimationTimeout(disablePointerEventsTimeoutId);\n      enablePointerEventsIfDisabled();\n    }\n  }\n}","map":{"version":3,"names":["requestAnimationTimeout","cancelAnimationTimeout","mountedInstances","originalBodyPointerEvents","disablePointerEventsTimeoutId","enablePointerEventsIfDisabled","document","body","style","pointerEvents","enablePointerEventsAfterDelayCallback","forEach","instance","__resetIsScrolling","enablePointerEventsAfterDelay","maximumTimeout","Math","max","props","scrollingResetTimeInterval","onScrollWindow","event","currentTarget","window","scrollElement","__handleWindowScrollEvent","registerScrollListener","component","element","some","addEventListener","push","unregisterScrollListener","filter","length","removeEventListener"],"sources":["/Users/qzheng/Documents/webroot/annotation_tools/node_modules/react-virtualized/dist/es/WindowScroller/utils/onScroll.js"],"sourcesContent":["'no babel-plugin-flow-react-proptypes';\n\nimport { requestAnimationTimeout, cancelAnimationTimeout } from '../../utils/requestAnimationTimeout';\n/*:: import type WindowScroller from '../WindowScroller.js';*/\nvar mountedInstances = [];\nvar originalBodyPointerEvents = null;\nvar disablePointerEventsTimeoutId = null;\nfunction enablePointerEventsIfDisabled() {\n  if (disablePointerEventsTimeoutId) {\n    disablePointerEventsTimeoutId = null;\n    if (document.body && originalBodyPointerEvents != null) {\n      document.body.style.pointerEvents = originalBodyPointerEvents;\n    }\n    originalBodyPointerEvents = null;\n  }\n}\nfunction enablePointerEventsAfterDelayCallback() {\n  enablePointerEventsIfDisabled();\n  mountedInstances.forEach(function (instance) {\n    return instance.__resetIsScrolling();\n  });\n}\nfunction enablePointerEventsAfterDelay() {\n  if (disablePointerEventsTimeoutId) {\n    cancelAnimationTimeout(disablePointerEventsTimeoutId);\n  }\n  var maximumTimeout = 0;\n  mountedInstances.forEach(function (instance) {\n    maximumTimeout = Math.max(maximumTimeout, instance.props.scrollingResetTimeInterval);\n  });\n  disablePointerEventsTimeoutId = requestAnimationTimeout(enablePointerEventsAfterDelayCallback, maximumTimeout);\n}\nfunction onScrollWindow(event /*: Event*/) {\n  if (event.currentTarget === window && originalBodyPointerEvents == null && document.body) {\n    originalBodyPointerEvents = document.body.style.pointerEvents;\n    document.body.style.pointerEvents = 'none';\n  }\n  enablePointerEventsAfterDelay();\n  mountedInstances.forEach(function (instance) {\n    if (instance.props.scrollElement === event.currentTarget) {\n      instance.__handleWindowScrollEvent();\n    }\n  });\n}\nexport function registerScrollListener(component /*: WindowScroller*/, element /*: Element*/) {\n  if (!mountedInstances.some(function (instance) {\n    return instance.props.scrollElement === element;\n  })) {\n    element.addEventListener('scroll', onScrollWindow);\n  }\n  mountedInstances.push(component);\n}\nexport function unregisterScrollListener(component /*: WindowScroller*/, element /*: Element*/) {\n  mountedInstances = mountedInstances.filter(function (instance) {\n    return instance !== component;\n  });\n  if (!mountedInstances.length) {\n    element.removeEventListener('scroll', onScrollWindow);\n    if (disablePointerEventsTimeoutId) {\n      cancelAnimationTimeout(disablePointerEventsTimeoutId);\n      enablePointerEventsIfDisabled();\n    }\n  }\n}"],"mappings":"AAAA,sCAAsC;;AAEtC,SAASA,uBAAuB,EAAEC,sBAAsB,QAAQ,qCAAqC;AACrG;AACA,IAAIC,gBAAgB,GAAG,EAAE;AACzB,IAAIC,yBAAyB,GAAG,IAAI;AACpC,IAAIC,6BAA6B,GAAG,IAAI;AACxC,SAASC,6BAA6BA,CAAA,EAAG;EACvC,IAAID,6BAA6B,EAAE;IACjCA,6BAA6B,GAAG,IAAI;IACpC,IAAIE,QAAQ,CAACC,IAAI,IAAIJ,yBAAyB,IAAI,IAAI,EAAE;MACtDG,QAAQ,CAACC,IAAI,CAACC,KAAK,CAACC,aAAa,GAAGN,yBAAyB;IAC/D;IACAA,yBAAyB,GAAG,IAAI;EAClC;AACF;AACA,SAASO,qCAAqCA,CAAA,EAAG;EAC/CL,6BAA6B,CAAC,CAAC;EAC/BH,gBAAgB,CAACS,OAAO,CAAC,UAAUC,QAAQ,EAAE;IAC3C,OAAOA,QAAQ,CAACC,kBAAkB,CAAC,CAAC;EACtC,CAAC,CAAC;AACJ;AACA,SAASC,6BAA6BA,CAAA,EAAG;EACvC,IAAIV,6BAA6B,EAAE;IACjCH,sBAAsB,CAACG,6BAA6B,CAAC;EACvD;EACA,IAAIW,cAAc,GAAG,CAAC;EACtBb,gBAAgB,CAACS,OAAO,CAAC,UAAUC,QAAQ,EAAE;IAC3CG,cAAc,GAAGC,IAAI,CAACC,GAAG,CAACF,cAAc,EAAEH,QAAQ,CAACM,KAAK,CAACC,0BAA0B,CAAC;EACtF,CAAC,CAAC;EACFf,6BAA6B,GAAGJ,uBAAuB,CAACU,qCAAqC,EAAEK,cAAc,CAAC;AAChH;AACA,SAASK,cAAcA,CAACC,KAAK,CAAC,aAAa;EACzC,IAAIA,KAAK,CAACC,aAAa,KAAKC,MAAM,IAAIpB,yBAAyB,IAAI,IAAI,IAAIG,QAAQ,CAACC,IAAI,EAAE;IACxFJ,yBAAyB,GAAGG,QAAQ,CAACC,IAAI,CAACC,KAAK,CAACC,aAAa;IAC7DH,QAAQ,CAACC,IAAI,CAACC,KAAK,CAACC,aAAa,GAAG,MAAM;EAC5C;EACAK,6BAA6B,CAAC,CAAC;EAC/BZ,gBAAgB,CAACS,OAAO,CAAC,UAAUC,QAAQ,EAAE;IAC3C,IAAIA,QAAQ,CAACM,KAAK,CAACM,aAAa,KAAKH,KAAK,CAACC,aAAa,EAAE;MACxDV,QAAQ,CAACa,yBAAyB,CAAC,CAAC;IACtC;EACF,CAAC,CAAC;AACJ;AACA,OAAO,SAASC,sBAAsBA,CAACC,SAAS,CAAC,sBAAsBC,OAAO,CAAC,eAAe;EAC5F,IAAI,CAAC1B,gBAAgB,CAAC2B,IAAI,CAAC,UAAUjB,QAAQ,EAAE;IAC7C,OAAOA,QAAQ,CAACM,KAAK,CAACM,aAAa,KAAKI,OAAO;EACjD,CAAC,CAAC,EAAE;IACFA,OAAO,CAACE,gBAAgB,CAAC,QAAQ,EAAEV,cAAc,CAAC;EACpD;EACAlB,gBAAgB,CAAC6B,IAAI,CAACJ,SAAS,CAAC;AAClC;AACA,OAAO,SAASK,wBAAwBA,CAACL,SAAS,CAAC,sBAAsBC,OAAO,CAAC,eAAe;EAC9F1B,gBAAgB,GAAGA,gBAAgB,CAAC+B,MAAM,CAAC,UAAUrB,QAAQ,EAAE;IAC7D,OAAOA,QAAQ,KAAKe,SAAS;EAC/B,CAAC,CAAC;EACF,IAAI,CAACzB,gBAAgB,CAACgC,MAAM,EAAE;IAC5BN,OAAO,CAACO,mBAAmB,CAAC,QAAQ,EAAEf,cAAc,CAAC;IACrD,IAAIhB,6BAA6B,EAAE;MACjCH,sBAAsB,CAACG,6BAA6B,CAAC;MACrDC,6BAA6B,CAAC,CAAC;IACjC;EACF;AACF","ignoreList":[]},"metadata":{},"sourceType":"module"}