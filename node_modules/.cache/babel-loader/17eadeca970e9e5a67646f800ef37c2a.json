{"ast":null,"code":"var _jsxFileName = \"/Users/qzheng/Documents/webroot/annotation_tools/src/components/multi-channel/components/Sidebar/index.tsx\";\nimport React, { useState, useEffect } from 'react';\nimport { observer } from 'mobx-react';\nimport InstanceItem from './InstanceItem';\nimport i18n from '../../locales';\nimport './index.scss';\nconst SideBar = ({\n  allInstances,\n  instances,\n  hideChannels,\n  selectedInstanceId,\n  currentTime\n}) => {\n  const [hide, setHide] = useState(0);\n  useEffect(() => {\n    setHide(allInstances.length - instances.length);\n  }, [allInstances, instances]);\n  useEffect(() => {\n    const instanceElement = document.getElementById(`side-instances-${selectedInstanceId}`);\n    if (instanceElement) {\n      const rect1 = instanceElement.getBoundingClientRect();\n      const rect2 = instanceElement.parentElement.getBoundingClientRect();\n      if (rect1.top + rect1.height - (rect2.top + rect2.height) > 0 || rect1.top < rect2.top) {\n        instanceElement.scrollIntoView();\n      }\n    }\n  }, [instances, selectedInstanceId]);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"side-menus-container\",\n    onContextMenu: e => e.preventDefault(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"side-tip\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 7\n    }\n  }, i18n.translate('MENU_SENTENCE_TIP', {\n    values: {\n      channels: hideChannels.length,\n      count: hide\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"side-instances\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 7\n    }\n  }, instances.map((instance, i) => /*#__PURE__*/React.createElement(InstanceItem, {\n    key: instance.id,\n    index: i,\n    instance: instance,\n    selectedInstanceId: selectedInstanceId,\n    currentTime: currentTime,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 11\n    }\n  }))));\n};\nexport default observer(SideBar);","map":{"version":3,"names":["React","useState","useEffect","observer","InstanceItem","i18n","SideBar","allInstances","instances","hideChannels","selectedInstanceId","currentTime","hide","setHide","length","instanceElement","document","getElementById","rect1","getBoundingClientRect","rect2","parentElement","top","height","scrollIntoView","createElement","className","onContextMenu","e","preventDefault","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","translate","values","channels","count","map","instance","i","key","id","index"],"sources":["/Users/qzheng/Documents/webroot/annotation_tools/src/components/multi-channel/components/Sidebar/index.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { observer } from 'mobx-react';\nimport InstanceItem from './InstanceItem';\nimport i18n from '../../locales';\nimport { Instance } from '../../types';\nimport './index.scss';\n\nexport interface SideBarProps {\n  allInstances: Instance[];\n  instances: Instance[];\n  hideChannels: number[];\n  selectedInstanceId?: string;\n  currentTime: number;\n}\n\nconst SideBar = ({ allInstances, instances, hideChannels, selectedInstanceId, currentTime }: SideBarProps) => {\n  const [hide, setHide] = useState<number>(0);\n  useEffect(() => {\n    setHide(allInstances.length - instances.length);\n  }, [allInstances, instances]);\n\n  useEffect(() => {\n    const instanceElement = document.getElementById(`side-instances-${selectedInstanceId}`);\n    if (instanceElement) {\n      const rect1 = instanceElement.getBoundingClientRect();\n      const rect2 = instanceElement.parentElement!.getBoundingClientRect();\n      if ((rect1.top + rect1.height) - (rect2.top + rect2.height) > 0 || rect1.top < rect2.top) {\n        instanceElement.scrollIntoView();\n      }\n    }\n  }, [instances, selectedInstanceId]);\n  return (\n    <div\n      className=\"side-menus-container\"\n      onContextMenu={(e) => e.preventDefault()}\n    >\n      <div className=\"side-tip\">{i18n.translate('MENU_SENTENCE_TIP', { values: { channels: hideChannels.length, count: hide } })}</div>\n      <div className=\"side-instances\">\n        {instances.map((instance, i) => (\n          <InstanceItem\n            key={instance.id}\n            index={i}\n            instance={instance}\n            selectedInstanceId={selectedInstanceId}\n            currentTime={currentTime}\n          />\n        ))}\n      </div>\n    </div>\n  );\n};\n\nexport default observer(SideBar);\n"],"mappings":";AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAClD,SAASC,QAAQ,QAAQ,YAAY;AACrC,OAAOC,YAAY,MAAM,gBAAgB;AACzC,OAAOC,IAAI,MAAM,eAAe;AAEhC,OAAO,cAAc;AAUrB,MAAMC,OAAO,GAAGA,CAAC;EAAEC,YAAY;EAAEC,SAAS;EAAEC,YAAY;EAAEC,kBAAkB;EAAEC;AAA0B,CAAC,KAAK;EAC5G,MAAM,CAACC,IAAI,EAAEC,OAAO,CAAC,GAAGZ,QAAQ,CAAS,CAAC,CAAC;EAC3CC,SAAS,CAAC,MAAM;IACdW,OAAO,CAACN,YAAY,CAACO,MAAM,GAAGN,SAAS,CAACM,MAAM,CAAC;EACjD,CAAC,EAAE,CAACP,YAAY,EAAEC,SAAS,CAAC,CAAC;EAE7BN,SAAS,CAAC,MAAM;IACd,MAAMa,eAAe,GAAGC,QAAQ,CAACC,cAAc,CAAC,kBAAkBP,kBAAkB,EAAE,CAAC;IACvF,IAAIK,eAAe,EAAE;MACnB,MAAMG,KAAK,GAAGH,eAAe,CAACI,qBAAqB,CAAC,CAAC;MACrD,MAAMC,KAAK,GAAGL,eAAe,CAACM,aAAa,CAAEF,qBAAqB,CAAC,CAAC;MACpE,IAAKD,KAAK,CAACI,GAAG,GAAGJ,KAAK,CAACK,MAAM,IAAKH,KAAK,CAACE,GAAG,GAAGF,KAAK,CAACG,MAAM,CAAC,GAAG,CAAC,IAAIL,KAAK,CAACI,GAAG,GAAGF,KAAK,CAACE,GAAG,EAAE;QACxFP,eAAe,CAACS,cAAc,CAAC,CAAC;MAClC;IACF;EACF,CAAC,EAAE,CAAChB,SAAS,EAAEE,kBAAkB,CAAC,CAAC;EACnC,oBACEV,KAAA,CAAAyB,aAAA;IACEC,SAAS,EAAC,sBAAsB;IAChCC,aAAa,EAAGC,CAAC,IAAKA,CAAC,CAACC,cAAc,CAAC,CAAE;IAAAC,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBAEzCnC,KAAA,CAAAyB,aAAA;IAAKC,SAAS,EAAC,UAAU;IAAAI,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAE9B,IAAI,CAAC+B,SAAS,CAAC,mBAAmB,EAAE;IAAEC,MAAM,EAAE;MAAEC,QAAQ,EAAE7B,YAAY,CAACK,MAAM;MAAEyB,KAAK,EAAE3B;IAAK;EAAE,CAAC,CAAO,CAAC,eACjIZ,KAAA,CAAAyB,aAAA;IAAKC,SAAS,EAAC,gBAAgB;IAAAI,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAC5B3B,SAAS,CAACgC,GAAG,CAAC,CAACC,QAAQ,EAAEC,CAAC,kBACzB1C,KAAA,CAAAyB,aAAA,CAACrB,YAAY;IACXuC,GAAG,EAAEF,QAAQ,CAACG,EAAG;IACjBC,KAAK,EAAEH,CAAE;IACTD,QAAQ,EAAEA,QAAS;IACnB/B,kBAAkB,EAAEA,kBAAmB;IACvCC,WAAW,EAAEA,WAAY;IAAAmB,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,CAC1B,CACF,CACE,CACF,CAAC;AAEV,CAAC;AAED,eAAehC,QAAQ,CAACG,OAAO,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module"}