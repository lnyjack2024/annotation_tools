{"ast":null,"code":"var _jsxFileName = \"/Users/qzheng/Documents/webroot/annotation_tools/src/components/editable-text/components/toolBar/index.jsx\";\nimport React, { useEffect, useState } from 'react';\nimport ToolGroup from './toolGroup';\nimport { isQATool } from '../../data/tag_mode';\nconst Toolbar = props => {\n  const {\n    showReview,\n    config,\n    // [{id: ##, bgColor: ##, color: ##, type: ##, text: ##}]\n    items,\n    reviewList,\n    // {data: { ### }, missing: []}\n    currentBrush,\n    setCurrentBrush,\n    contentReadyOnly\n  } = props;\n  const [typeSet, setTypeSet] = useState(new Set());\n  useEffect(() => {\n    const set = new Set();\n    config.forEach(item => {\n      if (!set.has(item.type)) set.add(item.type);\n    });\n    setTypeSet(set);\n  }, [config]);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"tool-wrapper\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 26,\n      columnNumber: 5\n    }\n  }, contentReadyOnly ? null : /*#__PURE__*/React.createElement(\"button\", {\n    className: `edit-trigger ${currentBrush === null ? 'tool-item-focus' : ''}`,\n    onClick: () => setCurrentBrush(null),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 36\n    }\n  }, \"\\u7F16\\u8F91\\u6587\\u672C\"), showReview ? /*#__PURE__*/React.createElement(ToolGroup, {\n    showReview: showReview,\n    reviewList: reviewList,\n    tags: config.filter(item => isQATool(item.type)),\n    items: items.labels,\n    currentBrush: currentBrush,\n    setCurrentBrush: setCurrentBrush,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 11\n    }\n  }) : null, Array.from(typeSet).map(key => !isQATool(key) ? /*#__PURE__*/React.createElement(ToolGroup, {\n    key: key,\n    title: key,\n    showReview: showReview,\n    reviewList: reviewList,\n    tags: config.filter(item => item.type === key && !isQATool(item.type)),\n    items: items[`${key.toLowerCase()}s`],\n    currentBrush: currentBrush,\n    setCurrentBrush: setCurrentBrush,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 15\n    }\n  }) : null));\n};\nexport default Toolbar;","map":{"version":3,"names":["React","useEffect","useState","ToolGroup","isQATool","Toolbar","props","showReview","config","items","reviewList","currentBrush","setCurrentBrush","contentReadyOnly","typeSet","setTypeSet","Set","set","forEach","item","has","type","add","createElement","className","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","onClick","tags","filter","labels","Array","from","map","key","title","toLowerCase"],"sources":["/Users/qzheng/Documents/webroot/annotation_tools/src/components/editable-text/components/toolBar/index.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport ToolGroup from './toolGroup';\nimport { isQATool } from '../../data/tag_mode';\n\nconst Toolbar = (props) => {\n  const {\n    showReview,\n    config, // [{id: ##, bgColor: ##, color: ##, type: ##, text: ##}]\n    items,\n    reviewList, // {data: { ### }, missing: []}\n    currentBrush,\n    setCurrentBrush,\n    contentReadyOnly,\n  } = props;\n\n  const [typeSet, setTypeSet] = useState(new Set());\n  useEffect(() => {\n    const set = new Set();\n    config.forEach((item) => {\n      if (!set.has(item.type)) set.add(item.type);\n    });\n    setTypeSet(set);\n  }, [config]);\n\n  return (\n    <div className=\"tool-wrapper\">\n      { contentReadyOnly ? null : (<button\n          className={`edit-trigger ${currentBrush === null ? 'tool-item-focus' : ''}`}\n          onClick={() => setCurrentBrush(null)}\n      >\n        编辑文本\n      </button>)\n      }\n      {\n        showReview ? (\n          <ToolGroup\n            showReview={showReview}\n            reviewList={reviewList}\n            tags={config.filter((item) => isQATool(item.type))}\n            items={items.labels}\n            currentBrush={currentBrush}\n            setCurrentBrush={setCurrentBrush}\n          />\n        ) : null\n      }\n      {\n        Array.from(typeSet).map((key) => (\n          !isQATool(key)\n            ? (\n              <ToolGroup\n                key={key}\n                title={key}\n                showReview={showReview}\n                reviewList={reviewList}\n                tags={config.filter((item) => item.type === key && !isQATool(item.type))}\n                items={items[`${key.toLowerCase()}s`]}\n                currentBrush={currentBrush}\n                setCurrentBrush={setCurrentBrush}\n              />\n            )\n            : null\n        ))\n      }\n    </div>\n  );\n};\n\nexport default Toolbar;\n"],"mappings":";AAAA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAClD,OAAOC,SAAS,MAAM,aAAa;AACnC,SAASC,QAAQ,QAAQ,qBAAqB;AAE9C,MAAMC,OAAO,GAAIC,KAAK,IAAK;EACzB,MAAM;IACJC,UAAU;IACVC,MAAM;IAAE;IACRC,KAAK;IACLC,UAAU;IAAE;IACZC,YAAY;IACZC,eAAe;IACfC;EACF,CAAC,GAAGP,KAAK;EAET,MAAM,CAACQ,OAAO,EAAEC,UAAU,CAAC,GAAGb,QAAQ,CAAC,IAAIc,GAAG,CAAC,CAAC,CAAC;EACjDf,SAAS,CAAC,MAAM;IACd,MAAMgB,GAAG,GAAG,IAAID,GAAG,CAAC,CAAC;IACrBR,MAAM,CAACU,OAAO,CAAEC,IAAI,IAAK;MACvB,IAAI,CAACF,GAAG,CAACG,GAAG,CAACD,IAAI,CAACE,IAAI,CAAC,EAAEJ,GAAG,CAACK,GAAG,CAACH,IAAI,CAACE,IAAI,CAAC;IAC7C,CAAC,CAAC;IACFN,UAAU,CAACE,GAAG,CAAC;EACjB,CAAC,EAAE,CAACT,MAAM,CAAC,CAAC;EAEZ,oBACER,KAAA,CAAAuB,aAAA;IAAKC,SAAS,EAAC,cAAc;IAAAC,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GACzBjB,gBAAgB,GAAG,IAAI,gBAAIb,KAAA,CAAAuB,aAAA;IACzBC,SAAS,EAAE,gBAAgBb,YAAY,KAAK,IAAI,GAAG,iBAAiB,GAAG,EAAE,EAAG;IAC5EoB,OAAO,EAAEA,CAAA,KAAMnB,eAAe,CAAC,IAAI,CAAE;IAAAa,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GACxC,0BAEO,CAAE,EAGRvB,UAAU,gBACRP,KAAA,CAAAuB,aAAA,CAACpB,SAAS;IACRI,UAAU,EAAEA,UAAW;IACvBG,UAAU,EAAEA,UAAW;IACvBsB,IAAI,EAAExB,MAAM,CAACyB,MAAM,CAAEd,IAAI,IAAKf,QAAQ,CAACe,IAAI,CAACE,IAAI,CAAC,CAAE;IACnDZ,KAAK,EAAEA,KAAK,CAACyB,MAAO;IACpBvB,YAAY,EAAEA,YAAa;IAC3BC,eAAe,EAAEA,eAAgB;IAAAa,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,CAClC,CAAC,GACA,IAAI,EAGRK,KAAK,CAACC,IAAI,CAACtB,OAAO,CAAC,CAACuB,GAAG,CAAEC,GAAG,IAC1B,CAAClC,QAAQ,CAACkC,GAAG,CAAC,gBAEVtC,KAAA,CAAAuB,aAAA,CAACpB,SAAS;IACRmC,GAAG,EAAEA,GAAI;IACTC,KAAK,EAAED,GAAI;IACX/B,UAAU,EAAEA,UAAW;IACvBG,UAAU,EAAEA,UAAW;IACvBsB,IAAI,EAAExB,MAAM,CAACyB,MAAM,CAAEd,IAAI,IAAKA,IAAI,CAACE,IAAI,KAAKiB,GAAG,IAAI,CAAClC,QAAQ,CAACe,IAAI,CAACE,IAAI,CAAC,CAAE;IACzEZ,KAAK,EAAEA,KAAK,CAAC,GAAG6B,GAAG,CAACE,WAAW,CAAC,CAAC,GAAG,CAAE;IACtC7B,YAAY,EAAEA,YAAa;IAC3BC,eAAe,EAAEA,eAAgB;IAAAa,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,CAClC,CAAC,GAEF,IACL,CAEA,CAAC;AAEV,CAAC;AAED,eAAezB,OAAO","ignoreList":[]},"metadata":{},"sourceType":"module"}