{"ast":null,"code":"var _jsxFileName = \"/Users/qzheng/Documents/webroot/annotation_tools/src/components/translation/components/TranslationItem.tsx\";\nimport React from 'react';\nimport cx from 'classnames';\nimport { Input, Tooltip } from 'antd';\nimport { CloseCircle, CheckFlag } from '../../common/icons';\nimport formatMessage from '../locales';\nimport { ACTIVE_TEXTAREA_ID } from '../constants';\nconst focus = () => {\n  const activeInput = document.getElementById(ACTIVE_TEXTAREA_ID);\n  if (activeInput) {\n    const len = activeInput.value.length;\n    activeInput.focus();\n    activeInput.setSelectionRange(len, len);\n  }\n};\nconst formatText = (text = '', results) => {\n  if (!text || results.length <= 0) {\n    return text;\n  }\n  let i = 0;\n  let str = '';\n  results.forEach(({\n    start,\n    end,\n    active\n  }, index) => {\n    str += `${text.substring(i, start)}<span class=\"highlight${active ? ' active' : ''}\">${text.substring(start, end)}</span>`;\n    i = end;\n    if (index === results.length - 1) {\n      str += text.substring(end);\n    }\n  });\n  return str;\n};\nexport default class TranslationItem extends React.Component {\n  constructor(...args) {\n    super(...args);\n    /**\n     * cursor position\n     */\n    this.anchor = -1;\n    /**\n     * last saved target value\n     */\n    this.lastValue = '';\n    /**\n     * is in composition\n     */\n    this.composition = false;\n    this.handleSelect = e => {\n      e.preventDefault();\n      e.stopPropagation();\n      this.props.onSelect();\n    };\n    this.handlePlay = e => {\n      e.preventDefault();\n      e.stopPropagation();\n      this.props.onPlay();\n      focus();\n    };\n    this.handleClear = e => {\n      e.preventDefault();\n      e.stopPropagation();\n      if (this.props.target) {\n        const activeInput = document.getElementById(ACTIVE_TEXTAREA_ID);\n        const lastAnchor = this.props.selected ? activeInput.selectionEnd : this.props.target.length;\n        this.props.onChange('', lastAnchor, 0);\n        this.props.onMarkDelete();\n        this.anchor = 0;\n      }\n    };\n    this.handleMark = e => {\n      e.preventDefault();\n      e.stopPropagation();\n      this.props.onMarkToggle();\n    };\n    this.handleInputSelect = e => {\n      if (!this.composition) {\n        this.anchor = e.target.selectionEnd;\n      }\n    };\n    this.handleInputEnter = e => {\n      const {\n        target,\n        pretranslation\n      } = this.props;\n      if (!target && pretranslation) {\n        // add pretranslation\n        e.preventDefault();\n        const currAnchor = e.target.selectionEnd;\n        this.props.onChange(pretranslation, 0, currAnchor);\n      }\n    };\n    this.handleInputChange = e => {\n      const currAnchor = e.target.selectionEnd;\n      this.props.onChange(e.target.value, this.anchor, currAnchor, this.composition ? this.lastValue : undefined, this.composition);\n    };\n    this.handleCompositionStart = () => {\n      this.lastValue = this.props.target || '';\n      this.composition = true;\n    };\n    this.handleCompositionEnd = e => {\n      const currAnchor = e.target.selectionEnd;\n      this.props.onChange(this.props.target || '', this.anchor, currAnchor, this.lastValue);\n      this.lastValue = '';\n      this.composition = false;\n    };\n  }\n  shouldComponentUpdate(nextProps) {\n    if (nextProps.target === this.props.target && nextProps.selected === this.props.selected && nextProps.marked === this.props.marked && JSON.stringify(nextProps.searchResults) === JSON.stringify(this.props.searchResults)) {\n      return false;\n    }\n    return true;\n  }\n  componentDidMount() {\n    if (this.props.selected) {\n      focus();\n    }\n    this.props.onUpdate();\n  }\n  componentDidUpdate(prevProps) {\n    if (prevProps.selected !== this.props.selected && this.props.selected) {\n      focus();\n    }\n    if (prevProps.target !== this.props.target || prevProps.selected !== this.props.selected) {\n      this.props.onUpdate();\n    }\n  }\n  render() {\n    const {\n      editable,\n      selected,\n      marked,\n      searchResults,\n      index,\n      source,\n      target,\n      pretranslation\n    } = this.props;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: cx('translation-item', {\n        'translation-item__selected': selected,\n        'translation-item__bg': index % 2 !== 0\n      }),\n      onClick: this.handleSelect,\n      onDoubleClick: this.handlePlay,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"item-index\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 9\n      }\n    }, index + 1), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"item-source\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 176,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      style: {\n        position: 'relative',\n        flex: 1\n      },\n      onDoubleClick: e => e.stopPropagation(),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 11\n      }\n    }, source, pretranslation && pretranslation !== target && /*#__PURE__*/React.createElement(\"div\", {\n      className: \"item-auto-translation\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 180,\n        columnNumber: 15\n      }\n    }, pretranslation)), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"text-count\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 183,\n        columnNumber: 11\n      }\n    }, source.length)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"item-target\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 185,\n        columnNumber: 9\n      }\n    }, selected && editable ? /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        position: 'relative'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 187,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Input.TextArea, {\n      id: ACTIVE_TEXTAREA_ID,\n      style: {\n        paddingRight: 30\n      },\n      rows: 2,\n      autoFocus: true,\n      value: target,\n      onSelect: this.handleInputSelect,\n      onPressEnter: this.handleInputEnter,\n      onChange: this.handleInputChange,\n      onCompositionStart: this.handleCompositionStart,\n      onCompositionEnd: this.handleCompositionEnd,\n      onDoubleClick: e => e.stopPropagation(),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 188,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"item-target-clear\",\n      onClick: this.handleClear,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 201,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(CloseCircle, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 202,\n        columnNumber: 17\n      }\n    }))) :\n    /*#__PURE__*/\n    // eslint-disable-next-line react/no-danger\n    React.createElement(\"div\", {\n      dangerouslySetInnerHTML: {\n        __html: formatText(target, searchResults)\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 207,\n        columnNumber: 13\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"item-action\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 210,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"text-count\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 211,\n        columnNumber: 11\n      }\n    }, (target === null || target === void 0 ? void 0 : target.length) || 0), /*#__PURE__*/React.createElement(Tooltip, {\n      title: formatMessage('ACTION_LABEL'),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 212,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", Object.assign({\n      onClick: this.handleMark\n    }, marked && {\n      className: 'item-marked'\n    }, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 213,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(CheckFlag, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 214,\n        columnNumber: 15\n      }\n    })))));\n  }\n}","map":{"version":3,"names":["React","cx","Input","Tooltip","CloseCircle","CheckFlag","formatMessage","ACTIVE_TEXTAREA_ID","focus","activeInput","document","getElementById","len","value","length","setSelectionRange","formatText","text","results","i","str","forEach","start","end","active","index","substring","TranslationItem","Component","constructor","args","anchor","lastValue","composition","handleSelect","e","preventDefault","stopPropagation","props","onSelect","handlePlay","onPlay","handleClear","target","lastAnchor","selected","selectionEnd","onChange","onMarkDelete","handleMark","onMarkToggle","handleInputSelect","handleInputEnter","pretranslation","currAnchor","handleInputChange","undefined","handleCompositionStart","handleCompositionEnd","shouldComponentUpdate","nextProps","marked","JSON","stringify","searchResults","componentDidMount","onUpdate","componentDidUpdate","prevProps","render","editable","source","createElement","className","onClick","onDoubleClick","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","style","position","flex","TextArea","id","paddingRight","rows","autoFocus","onPressEnter","onCompositionStart","onCompositionEnd","dangerouslySetInnerHTML","__html","title","Object","assign"],"sources":["/Users/qzheng/Documents/webroot/annotation_tools/src/components/translation/components/TranslationItem.tsx"],"sourcesContent":["import React from 'react';\nimport cx from 'classnames';\nimport { Input, Tooltip } from 'antd';\nimport { CloseCircle, CheckFlag } from '../../common/icons';\nimport formatMessage from '../locales';\nimport { ACTIVE_TEXTAREA_ID } from '../constants';\n\ninterface TranslationItemProps {\n  index: number;\n  editable: boolean;\n  reviewable: boolean;\n  source: string;\n  target?: string;\n  pretranslation?: string;\n  selected: boolean;\n  marked: boolean;\n  searchResults: {\n    start: number;\n    end: number;\n    active: boolean;\n  }[];\n  onSelect: () => void;\n  onPlay: () => void;\n  onChange: (target: string, lastAnchor: number, currAnchor: number, lastTarget?: string, skipSave?: boolean) => void;\n  onMarkToggle: () => void;\n  onMarkDelete: () => void;\n  onUpdate: () => void;\n}\n\nconst focus = () => {\n  const activeInput = document.getElementById(ACTIVE_TEXTAREA_ID) as HTMLTextAreaElement;\n  if (activeInput) {\n    const len = activeInput.value.length;\n    activeInput.focus();\n    activeInput.setSelectionRange(len, len);\n  }\n};\n\nconst formatText = (text = '', results: { start: number; end: number; active: boolean; }[]) => {\n  if (!text || results.length <= 0) {\n    return text;\n  }\n  let i = 0;\n  let str = '';\n  results.forEach(({ start, end, active }, index) => {\n    str += `${text.substring(i, start)}<span class=\"highlight${active ? ' active' : ''}\">${text.substring(start, end)}</span>`;\n    i = end;\n    if (index === results.length - 1) {\n      str += text.substring(end);\n    }\n  });\n  return str;\n};\n\nexport default class TranslationItem extends React.Component<TranslationItemProps> {\n  /**\n   * cursor position\n   */\n  anchor = -1;\n\n  /**\n   * last saved target value\n   */\n  lastValue = '';\n\n  /**\n   * is in composition\n   */\n  composition = false;\n\n  shouldComponentUpdate(nextProps: TranslationItemProps) {\n    if (\n      nextProps.target === this.props.target &&\n      nextProps.selected === this.props.selected &&\n      nextProps.marked === this.props.marked &&\n      JSON.stringify(nextProps.searchResults) === JSON.stringify(this.props.searchResults)\n    ) {\n      return false;\n    }\n    return true;\n  }\n\n  componentDidMount() {\n    if (this.props.selected) {\n      focus();\n    }\n    this.props.onUpdate();\n  }\n\n  componentDidUpdate(prevProps: TranslationItemProps) {\n    if (prevProps.selected !== this.props.selected && this.props.selected) {\n      focus();\n    }\n    if (prevProps.target !== this.props.target || prevProps.selected !== this.props.selected) {\n      this.props.onUpdate();\n    }\n  }\n\n  handleSelect = (e: React.MouseEvent) => {\n    e.preventDefault();\n    e.stopPropagation();\n    this.props.onSelect();\n  };\n\n  handlePlay = (e: React.MouseEvent) => {\n    e.preventDefault();\n    e.stopPropagation();\n    this.props.onPlay();\n    focus();\n  };\n\n  handleClear = (e: React.MouseEvent) => {\n    e.preventDefault();\n    e.stopPropagation();\n    if (this.props.target) {\n      const activeInput = document.getElementById(ACTIVE_TEXTAREA_ID) as HTMLTextAreaElement;\n      const lastAnchor = this.props.selected ? activeInput.selectionEnd : this.props.target.length;\n      this.props.onChange('', lastAnchor, 0);\n      this.props.onMarkDelete();\n      this.anchor = 0;\n    }\n  };\n\n  handleMark = (e: React.MouseEvent) => {\n    e.preventDefault();\n    e.stopPropagation();\n    this.props.onMarkToggle();\n  };\n\n  handleInputSelect = (e: React.SyntheticEvent) => {\n    if (!this.composition) {\n      this.anchor = (e.target as HTMLTextAreaElement).selectionEnd;\n    }\n  };\n\n  handleInputEnter = (e: React.KeyboardEvent) => {\n    const { target, pretranslation } = this.props;\n    if (!target && pretranslation) {\n      // add pretranslation\n      e.preventDefault();\n      const currAnchor = (e.target as HTMLTextAreaElement).selectionEnd;\n      this.props.onChange(pretranslation, 0, currAnchor);\n    }\n  };\n\n  handleInputChange = (e: React.ChangeEvent<HTMLTextAreaElement>) => {\n    const currAnchor = e.target.selectionEnd;\n    this.props.onChange(e.target.value, this.anchor, currAnchor, this.composition ? this.lastValue : undefined, this.composition);\n  };\n\n  handleCompositionStart = () => {\n    this.lastValue = this.props.target || '';\n    this.composition = true;\n  };\n\n  handleCompositionEnd = (e: React.CompositionEvent) => {\n    const currAnchor = (e.target as HTMLTextAreaElement).selectionEnd;\n    this.props.onChange(this.props.target || '', this.anchor, currAnchor, this.lastValue);\n    this.lastValue = '';\n    this.composition = false;\n  };\n\n  render() {\n    const { editable, selected, marked, searchResults, index, source, target, pretranslation } = this.props;\n\n    return (\n      <div\n        className={cx('translation-item', {\n          'translation-item__selected': selected,\n          'translation-item__bg': index % 2 !== 0,\n        })}\n        onClick={this.handleSelect}\n        onDoubleClick={this.handlePlay}\n      >\n        <div className=\"item-index\">{index + 1}</div>\n        <div className=\"item-source\">\n          <span style={{ position: 'relative', flex: 1 }} onDoubleClick={(e) => e.stopPropagation()}>\n            {source}\n            {pretranslation && pretranslation !== target && (\n              <div className=\"item-auto-translation\">{pretranslation}</div>\n            )}\n          </span>\n          <span className=\"text-count\">{source.length}</span>\n        </div>\n        <div className=\"item-target\">\n          {selected && editable ? (\n            <div style={{ position: 'relative' }}>\n              <Input.TextArea\n                id={ACTIVE_TEXTAREA_ID}\n                style={{ paddingRight: 30 }}\n                rows={2}\n                autoFocus\n                value={target}\n                onSelect={this.handleInputSelect}\n                onPressEnter={this.handleInputEnter}\n                onChange={this.handleInputChange}\n                onCompositionStart={this.handleCompositionStart}\n                onCompositionEnd={this.handleCompositionEnd}\n                onDoubleClick={(e) => e.stopPropagation()}\n              />\n              <div className=\"item-target-clear\" onClick={this.handleClear}>\n                <CloseCircle />\n              </div>\n            </div>\n          ) : (\n            // eslint-disable-next-line react/no-danger\n            <div dangerouslySetInnerHTML={{ __html: formatText(target, searchResults) }} />\n          )}\n        </div>\n        <div className=\"item-action\">\n          <span className=\"text-count\">{target?.length || 0}</span>\n          <Tooltip title={formatMessage('ACTION_LABEL')}>\n            <div onClick={this.handleMark} {...marked && { className: 'item-marked' }}>\n              <CheckFlag />\n            </div>\n          </Tooltip>\n        </div>\n      </div>\n    );\n  }\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}