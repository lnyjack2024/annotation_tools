{"ast":null,"code":"import React,{useContext}from'react';import{Button,Rate}from'antd';import{FormOutlined}from'@ant-design/icons';import LocaleContext from'../locales/context';import translate from'../locales';const ScoreRank=_ref=>{let{options,editable,editing,onEdit,value,onChange}=_ref;const locale=useContext(LocaleContext);const missValue=options.some(o=>(value===null||value===void 0?void 0:value[o])===undefined);return/*#__PURE__*/React.createElement(\"div\",{className:\"llm-chat-item-content-rank\"},editing||missValue?options.map(o=>/*#__PURE__*/React.createElement(\"div\",{key:o,onClick:e=>e.stopPropagation()},/*#__PURE__*/React.createElement(\"span\",{style:{color:'#F56C6C',paddingRight:2}},\"*\"),/*#__PURE__*/React.createElement(\"span\",{style:{paddingRight:12}},o),/*#__PURE__*/React.createElement(Rate,{value:value===null||value===void 0?void 0:value[o],onChange:v=>onChange({...value,[o]:v})}))):/*#__PURE__*/React.createElement(React.Fragment,null,options.map(o=>/*#__PURE__*/React.createElement(\"span\",{key:o,style:{paddingRight:12}},\"\".concat(o,\": \").concat((value===null||value===void 0?void 0:value[o])===undefined?'':translate(locale,'CHAT_RANK_SCORE',{values:{score:value[o]}})))),editable&&/*#__PURE__*/React.createElement(Button,{size:\"small\",type:\"link\",icon:/*#__PURE__*/React.createElement(FormOutlined,null),onClick:e=>{if(onEdit){e.stopPropagation();onEdit();}}})));};export default ScoreRank;","map":{"version":3,"names":["React","useContext","Button","Rate","FormOutlined","LocaleContext","translate","ScoreRank","_ref","options","editable","editing","onEdit","value","onChange","locale","missValue","some","o","undefined","createElement","className","map","key","onClick","e","stopPropagation","style","color","paddingRight","v","Fragment","concat","values","score","size","type","icon"],"sources":["/Users/qzheng/Documents/webroot/annotation_tools/src/components/common/llm/chat/ScoreRank.tsx"],"sourcesContent":["import React, { useContext } from 'react';\nimport { Button, Rate } from 'antd';\nimport { FormOutlined } from '@ant-design/icons';\nimport { Rank } from '../types';\nimport LocaleContext from '../locales/context';\nimport translate from '../locales';\n\ninterface ScoreRankProps {\n  options: string[];\n  editable: boolean;\n  editing: boolean;\n  onEdit?: () => void;\n  value?: Rank['scores'];\n  onChange: (value: Rank['scores']) => void;\n}\n\nconst ScoreRank: React.FC<ScoreRankProps> = ({\n  options,\n  editable,\n  editing,\n  onEdit,\n  value,\n  onChange,\n}) => {\n  const locale = useContext(LocaleContext);\n  const missValue = options.some((o) => value?.[o] === undefined);\n  return (\n    <div className=\"llm-chat-item-content-rank\">\n      {(editing || missValue) ? options.map((o) => (\n        <div key={o} onClick={(e) => e.stopPropagation()}>\n          <span style={{ color: '#F56C6C', paddingRight: 2 }}>*</span>\n          <span style={{ paddingRight: 12 }}>\n            {o}\n          </span>\n          <Rate\n            value={value?.[o]}\n            onChange={(v) => onChange({ ...value, [o]: v })}\n          />\n        </div>\n      )) : (\n        <>\n          {options.map((o) => (\n            <span key={o} style={{ paddingRight: 12 }}>\n              {`${o}: ${value?.[o] === undefined ? '' : translate(locale, 'CHAT_RANK_SCORE', { values: { score: value[o] } })}`}\n            </span>\n          ))}\n          {editable && (\n            <Button\n              size=\"small\"\n              type=\"link\"\n              icon={<FormOutlined />}\n              onClick={(e) => {\n                if (onEdit) {\n                  e.stopPropagation();\n                  onEdit();\n                }\n              }}\n            />\n          )}\n        </>\n      )}\n    </div>\n  );\n};\n\nexport default ScoreRank;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,UAAU,KAAQ,OAAO,CACzC,OAASC,MAAM,CAAEC,IAAI,KAAQ,MAAM,CACnC,OAASC,YAAY,KAAQ,mBAAmB,CAEhD,MAAO,CAAAC,aAAa,KAAM,oBAAoB,CAC9C,MAAO,CAAAC,SAAS,KAAM,YAAY,CAWlC,KAAM,CAAAC,SAAmC,CAAGC,IAAA,EAOtC,IAPuC,CAC3CC,OAAO,CACPC,QAAQ,CACRC,OAAO,CACPC,MAAM,CACNC,KAAK,CACLC,QACF,CAAC,CAAAN,IAAA,CACC,KAAM,CAAAO,MAAM,CAAGd,UAAU,CAACI,aAAa,CAAC,CACxC,KAAM,CAAAW,SAAS,CAAGP,OAAO,CAACQ,IAAI,CAAEC,CAAC,EAAK,CAAAL,KAAK,SAALA,KAAK,iBAALA,KAAK,CAAGK,CAAC,CAAC,IAAKC,SAAS,CAAC,CAC/D,mBACEnB,KAAA,CAAAoB,aAAA,QAAKC,SAAS,CAAC,4BAA4B,EACvCV,OAAO,EAAIK,SAAS,CAAIP,OAAO,CAACa,GAAG,CAAEJ,CAAC,eACtClB,KAAA,CAAAoB,aAAA,QAAKG,GAAG,CAAEL,CAAE,CAACM,OAAO,CAAGC,CAAC,EAAKA,CAAC,CAACC,eAAe,CAAC,CAAE,eAC/C1B,KAAA,CAAAoB,aAAA,SAAMO,KAAK,CAAE,CAAEC,KAAK,CAAE,SAAS,CAAEC,YAAY,CAAE,CAAE,CAAE,EAAC,GAAO,CAAC,cAC5D7B,KAAA,CAAAoB,aAAA,SAAMO,KAAK,CAAE,CAAEE,YAAY,CAAE,EAAG,CAAE,EAC/BX,CACG,CAAC,cACPlB,KAAA,CAAAoB,aAAA,CAACjB,IAAI,EACHU,KAAK,CAAEA,KAAK,SAALA,KAAK,iBAALA,KAAK,CAAGK,CAAC,CAAE,CAClBJ,QAAQ,CAAGgB,CAAC,EAAKhB,QAAQ,CAAC,CAAE,GAAGD,KAAK,CAAE,CAACK,CAAC,EAAGY,CAAE,CAAC,CAAE,CACjD,CACE,CACN,CAAC,cACA9B,KAAA,CAAAoB,aAAA,CAAApB,KAAA,CAAA+B,QAAA,MACGtB,OAAO,CAACa,GAAG,CAAEJ,CAAC,eACblB,KAAA,CAAAoB,aAAA,SAAMG,GAAG,CAAEL,CAAE,CAACS,KAAK,CAAE,CAAEE,YAAY,CAAE,EAAG,CAAE,KAAAG,MAAA,CACpCd,CAAC,OAAAc,MAAA,CAAK,CAAAnB,KAAK,SAALA,KAAK,iBAALA,KAAK,CAAGK,CAAC,CAAC,IAAKC,SAAS,CAAG,EAAE,CAAGb,SAAS,CAACS,MAAM,CAAE,iBAAiB,CAAE,CAAEkB,MAAM,CAAE,CAAEC,KAAK,CAAErB,KAAK,CAACK,CAAC,CAAE,CAAE,CAAC,CAAC,CAC3G,CACP,CAAC,CACDR,QAAQ,eACPV,KAAA,CAAAoB,aAAA,CAAClB,MAAM,EACLiC,IAAI,CAAC,OAAO,CACZC,IAAI,CAAC,MAAM,CACXC,IAAI,cAAErC,KAAA,CAAAoB,aAAA,CAAChB,YAAY,KAAE,CAAE,CACvBoB,OAAO,CAAGC,CAAC,EAAK,CACd,GAAIb,MAAM,CAAE,CACVa,CAAC,CAACC,eAAe,CAAC,CAAC,CACnBd,MAAM,CAAC,CAAC,CACV,CACF,CAAE,CACH,CAEH,CAED,CAAC,CAEV,CAAC,CAED,cAAe,CAAAL,SAAS","ignoreList":[]},"metadata":{},"sourceType":"module"}