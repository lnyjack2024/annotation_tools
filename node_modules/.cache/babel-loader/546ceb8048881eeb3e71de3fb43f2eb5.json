{"ast":null,"code":"var _jsxFileName = \"/Users/qzheng/Documents/webroot/annotation_tools/src/components/keypoint/components/Sidebar.tsx\";\nimport React from 'react';\nimport cx from 'classnames';\nimport formatMessage from '../locales';\nimport { CategoryPathShape } from '../types';\nimport './Sidebar.scss';\nimport rootStore from '../store/RootStore';\nexport default ({\n  categories = [],\n  selectedShapeStatus,\n  selectedShapes,\n  categoryPathShapes = {},\n  points = {},\n  selectedPoint,\n  readonly,\n  groupReviewsMap,\n  setSelectedPoint\n}) => {\n  const renderCategory = pointCategory => {\n    const {\n      name,\n      range = [],\n      keys = []\n    } = pointCategory;\n    if (range.length < 2) {\n      return null;\n    }\n    const allPoints = Array.from({\n      length: range[1] - range[0] + 1\n    }).map((_, index) => range[0] + index);\n    return /*#__PURE__*/React.createElement(\"div\", {\n      key: name,\n      className: \"pointCategory\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"name\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 9\n      }\n    }, name, categoryPathShapes[`${selectedShapeStatus === null || selectedShapeStatus === void 0 ? void 0 : selectedShapeStatus.frameIndex}_${selectedShapeStatus === null || selectedShapeStatus === void 0 ? void 0 : selectedShapeStatus.instanceId}_${selectedShapeStatus === null || selectedShapeStatus === void 0 ? void 0 : selectedShapeStatus.groupName}_${name}`] === CategoryPathShape.CIRCLE ? `(${formatMessage('CATEGORY_CIRCLE')})` : ''), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"points-container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 9\n      }\n    }, allPoints.map(p => /*#__PURE__*/React.createElement(\"div\", {\n      key: p,\n      className: cx('point-box', groupReviewsMap && groupReviewsMap[p]),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: cx('point', {\n        'point--key': keys.includes(p),\n        'point--empty': !points[p] || !points[p].position,\n        'point--selected': p === selectedPoint || selectedShapes.includes(p),\n        'point--invisible': points[p] && points[p].visible === false,\n        'point--disabeld': !rootStore.review.drawMode && (!points[p] || !points[p].position)\n      }),\n      onClick: () => {\n        if (!readonly) {\n          // Empty point cannot be clicked in non-drawing mode\n          if (!rootStore.review.drawMode && (!points[p] || !points[p].position)) return;\n          setSelectedPoint(p);\n        }\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 15\n      }\n    }, p)))));\n  };\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"sidebar\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 5\n    }\n  }, categories.map(c => renderCategory(c)));\n};","map":{"version":3,"names":["React","cx","formatMessage","CategoryPathShape","rootStore","categories","selectedShapeStatus","selectedShapes","categoryPathShapes","points","selectedPoint","readonly","groupReviewsMap","setSelectedPoint","renderCategory","pointCategory","name","range","keys","length","allPoints","Array","from","map","_","index","createElement","key","className","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","frameIndex","instanceId","groupName","CIRCLE","p","includes","position","visible","review","drawMode","onClick","c"],"sources":["/Users/qzheng/Documents/webroot/annotation_tools/src/components/keypoint/components/Sidebar.tsx"],"sourcesContent":["import React from 'react';\nimport cx from 'classnames';\nimport formatMessage from '../locales';\nimport { CategoryItem, CategoryPathShape, Point, ShapeInfo } from '../types';\nimport './Sidebar.scss';\nimport rootStore from '../store/RootStore';\nimport { PointReviewResult } from '../store/ReviewsStore';\n\ninterface Props {\n  categories: CategoryItem[];\n  selectedShapeStatus: ShapeInfo | undefined;\n  selectedShapes: number[];\n  categoryPathShapes: {[categoryKey: string]: CategoryPathShape};\n  points: {\n    [index: number]: Point;\n  };\n  selectedPoint: number;\n  readonly: boolean;\n  groupReviewsMap?: PointReviewResult;\n  setSelectedPoint: (point: number) => void;\n}\n\nexport default ({\n  categories = [],\n  selectedShapeStatus,\n  selectedShapes,\n  categoryPathShapes = {},\n  points = {},\n  selectedPoint,\n  readonly,\n  groupReviewsMap,\n  setSelectedPoint,\n}: Props) => {\n  const renderCategory = (pointCategory: CategoryItem) => {\n    const { name, range = [], keys = [] } = pointCategory;\n    if (range.length < 2) {\n      return null;\n    }\n    const allPoints = Array.from({ length: range[1] - range[0] + 1 }).map((_, index) => range[0] + index);\n    return (\n      <div key={name} className=\"pointCategory\">\n        <div className=\"name\">\n          {name}\n          {categoryPathShapes[`${selectedShapeStatus?.frameIndex}_${selectedShapeStatus?.instanceId}_${selectedShapeStatus?.groupName}_${name}`] === CategoryPathShape.CIRCLE ? `(${formatMessage('CATEGORY_CIRCLE')})` : ''}\n        </div>\n        <div className=\"points-container\">\n          {allPoints.map((p) => (\n            <div\n              key={p}\n              className={cx('point-box', groupReviewsMap && groupReviewsMap[p])}\n            >\n              <div\n                className={cx('point', {\n                  'point--key': keys.includes(p),\n                  'point--empty': !points[p] || !points[p].position,\n                  'point--selected': p === selectedPoint || selectedShapes.includes(p),\n                  'point--invisible': points[p] && points[p].visible === false,\n                  'point--disabeld': !rootStore.review.drawMode && (!points[p] || !points[p].position),\n                })}\n                onClick={() => {\n                  if (!readonly) {\n                    // Empty point cannot be clicked in non-drawing mode\n                    if (!rootStore.review.drawMode && (!points[p] || !points[p].position)) return;\n                    setSelectedPoint(p);\n                  }\n                }}\n              >\n                {p}\n              </div>\n            </div>\n          ))}\n        </div>\n      </div>\n    );\n  };\n\n  return (\n    <div className=\"sidebar\">\n      {categories.map((c) => renderCategory(c))}\n    </div>\n  );\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}