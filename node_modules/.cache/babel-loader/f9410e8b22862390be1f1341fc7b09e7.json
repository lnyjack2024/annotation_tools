{"ast":null,"code":"var _jsxFileName = \"/Users/qzheng/Documents/webroot/annotation_tools/src/components/video-tracking2/components/sidebar/CameraInstanceItem.tsx\";\nimport React, { useState } from 'react';\nimport { observer } from 'mobx-react';\nimport cx from 'classnames';\nimport { PlusCircleFilled } from '@ant-design/icons';\nimport ShapeLabel from './ShapeLabel';\nimport InstanceItemMenu from './InstanceItemMenu';\nimport InstanceItemReviewIcon from './InstanceItemReviewIcon';\nimport store from '../../store/RootStore';\nconst CameraInstanceItem = observer(({\n  item,\n  camera,\n  cameraIndex\n}) => {\n  const [hovered, setHovered] = useState(false);\n  const [menuVisible, setMenuVisible] = useState(false);\n  const [menuPosition, setMenuPosition] = useState({\n    x: -1,\n    y: -1\n  });\n  const {\n    currentCamera,\n    currentFrame\n  } = store.frame;\n  const {\n    frames\n  } = item.cameras[camera];\n  const currentFrameData = frames[currentFrame];\n  const isHidden = !currentFrameData;\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    className: cx('sidebar-category-instance__item', {\n      hidden: isHidden,\n      selected: item.selected && currentCamera === camera\n    }),\n    onMouseDown: () => {\n      store.instance.selectInstanceItem(item, true);\n    },\n    onMouseEnter: () => setHovered(true),\n    onMouseLeave: () => setHovered(false),\n    onContextMenu: e => {\n      e.preventDefault();\n      store.instance.selectInstanceItem(item);\n      if (!isHidden) {\n        setMenuPosition({\n          x: e.clientX,\n          y: e.clientY\n        });\n        setMenuVisible(true);\n      }\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(ShapeLabel, {\n    item: item,\n    camera: camera,\n    cameraIndex: cameraIndex,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"sidebar-category-action\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 9\n    }\n  }, !store.readonly && isHidden && hovered && /*#__PURE__*/React.createElement(PlusCircleFilled, {\n    style: {\n      cursor: 'pointer'\n    },\n    onClick: () => store.addToCurrentFrame(item, camera),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 13\n    }\n  }), !store.isLabeling && !isHidden && /*#__PURE__*/React.createElement(InstanceItemReviewIcon, {\n    item: item,\n    camera: camera,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 13\n    }\n  }))), /*#__PURE__*/React.createElement(InstanceItemMenu, {\n    instanceItem: item,\n    camera: camera,\n    position: menuPosition,\n    visible: menuVisible,\n    onClose: () => setMenuVisible(false),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }\n  }));\n});\nexport default CameraInstanceItem;","map":{"version":3,"names":["React","useState","observer","cx","PlusCircleFilled","ShapeLabel","InstanceItemMenu","InstanceItemReviewIcon","store","CameraInstanceItem","item","camera","cameraIndex","hovered","setHovered","menuVisible","setMenuVisible","menuPosition","setMenuPosition","x","y","currentCamera","currentFrame","frame","frames","cameras","currentFrameData","isHidden","createElement","Fragment","className","hidden","selected","onMouseDown","instance","selectInstanceItem","onMouseEnter","onMouseLeave","onContextMenu","e","preventDefault","clientX","clientY","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","readonly","style","cursor","onClick","addToCurrentFrame","isLabeling","instanceItem","position","visible","onClose"],"sources":["/Users/qzheng/Documents/webroot/annotation_tools/src/components/video-tracking2/components/sidebar/CameraInstanceItem.tsx"],"sourcesContent":["import React, { useState } from 'react';\nimport { observer } from 'mobx-react';\nimport cx from 'classnames';\nimport { PlusCircleFilled } from '@ant-design/icons';\nimport ShapeLabel from './ShapeLabel';\nimport InstanceItemMenu from './InstanceItemMenu';\nimport InstanceItemReviewIcon from './InstanceItemReviewIcon';\nimport InstanceItem from '../../model/InstanceItem';\nimport store from '../../store/RootStore';\n\ninterface CameraInstanceItemProps {\n  item: InstanceItem;\n  camera: string;\n  cameraIndex: number;\n}\n\nconst CameraInstanceItem = observer(({ item, camera, cameraIndex }: CameraInstanceItemProps) => {\n  const [hovered, setHovered] = useState(false);\n  const [menuVisible, setMenuVisible] = useState(false);\n  const [menuPosition, setMenuPosition] = useState({ x: -1, y: -1 });\n\n  const { currentCamera, currentFrame } = store.frame;\n  const { frames } = item.cameras[camera];\n  const currentFrameData = frames[currentFrame];\n  const isHidden = !currentFrameData;\n  return (\n    <>\n      <div\n        className={cx('sidebar-category-instance__item', {\n          hidden: isHidden,\n          selected: item.selected && currentCamera === camera,\n        })}\n        onMouseDown={() => {\n          store.instance.selectInstanceItem(item, true);\n        }}\n        onMouseEnter={() => setHovered(true)}\n        onMouseLeave={() => setHovered(false)}\n        onContextMenu={(e) => {\n          e.preventDefault();\n          store.instance.selectInstanceItem(item);\n          if (!isHidden) {\n            setMenuPosition({ x: e.clientX, y: e.clientY });\n            setMenuVisible(true);\n          }\n        }}\n      >\n        <ShapeLabel item={item} camera={camera} cameraIndex={cameraIndex} />\n        <div className=\"sidebar-category-action\">\n          {!store.readonly && isHidden && hovered && (\n            <PlusCircleFilled\n              style={{ cursor: 'pointer' }}\n              onClick={() => store.addToCurrentFrame(item, camera)}\n            />\n          )}\n          {!store.isLabeling && !isHidden && (\n            <InstanceItemReviewIcon item={item} camera={camera} />\n          )}\n        </div>\n      </div>\n      <InstanceItemMenu\n        instanceItem={item}\n        camera={camera}\n        position={menuPosition}\n        visible={menuVisible}\n        onClose={() => setMenuVisible(false)}\n      />\n    </>\n  );\n});\n\nexport default CameraInstanceItem;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}