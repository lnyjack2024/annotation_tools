{"ast":null,"code":"var _jsxFileName = \"/Users/qzheng/Documents/webroot/annotation_tools/src/components/editable-text/components/toolBar/tool.jsx\";\nimport hexToRgba from 'hex-to-rgba';\nimport React, { useEffect, useState } from 'react';\nimport { isQATool } from '../../data/tag_mode';\nimport { TOOL_BUTTON_ALPHA, DEFAULT_COLOR, DEFAULT_BACKGROUND } from '../../data/constant';\nconst ConfigItem = props => {\n  const {\n    currentBrush,\n    setCurrentBrush,\n    tag,\n    items,\n    showReview,\n    reviewList\n  } = props;\n  const {\n    bgColor,\n    color,\n    text\n  } = tag;\n  const [rejectedNum, setRejectedNum] = useState(0);\n  useEffect(() => {\n    setRejectedNum(items.filter(([id, val]) => {\n      var _reviewList$id;\n      return ((_reviewList$id = reviewList[id]) === null || _reviewList$id === void 0 ? void 0 : _reviewList$id.result) === 'reject';\n    }).length);\n  }, [items, reviewList]);\n  return /*#__PURE__*/React.createElement(\"button\", {\n    className: `tool-item ${(currentBrush === null || currentBrush === void 0 ? void 0 : currentBrush.text) === text ? 'tool-item-focus' : ''}`,\n    onClick: () => setCurrentBrush(tag),\n    style: (currentBrush === null || currentBrush === void 0 ? void 0 : currentBrush.text) === text && color ? {\n      background: bgColor || hexToRgba(color, TOOL_BUTTON_ALPHA)\n    } : {\n      backgroundColor: hexToRgba(DEFAULT_BACKGROUND, TOOL_BUTTON_ALPHA)\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 16,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"tool-color\",\n    style: color ? {\n      backgroundColor: color\n    } : {\n      backgroundColor: DEFAULT_COLOR\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 21,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"tool-text\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 25,\n      columnNumber: 7\n    }\n  }, text), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"tool-count\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 7\n    }\n  }, showReview && rejectedNum && !isQATool(tag.type) ? /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"tool-count-reviewed\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 17\n    }\n  }, rejectedNum), \"/\") : null, items.length));\n};\nexport default ConfigItem;","map":{"version":3,"names":["hexToRgba","React","useEffect","useState","isQATool","TOOL_BUTTON_ALPHA","DEFAULT_COLOR","DEFAULT_BACKGROUND","ConfigItem","props","currentBrush","setCurrentBrush","tag","items","showReview","reviewList","bgColor","color","text","rejectedNum","setRejectedNum","filter","id","val","_reviewList$id","result","length","createElement","className","onClick","style","background","backgroundColor","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","type","Fragment"],"sources":["/Users/qzheng/Documents/webroot/annotation_tools/src/components/editable-text/components/toolBar/tool.jsx"],"sourcesContent":["import hexToRgba from 'hex-to-rgba';\nimport React, { useEffect, useState } from 'react';\nimport { isQATool } from '../../data/tag_mode';\nimport { TOOL_BUTTON_ALPHA, DEFAULT_COLOR, DEFAULT_BACKGROUND } from '../../data/constant';\n\nconst ConfigItem = (props) => {\n  const { currentBrush, setCurrentBrush, tag, items, showReview, reviewList } = props;\n  const { bgColor, color, text } = tag;\n  const [rejectedNum, setRejectedNum] = useState(0);\n\n  useEffect(() => {\n    setRejectedNum(items.filter(([id, val]) => reviewList[id]?.result === 'reject').length);\n  }, [items, reviewList]);\n\n  return (\n    <button\n      className={`tool-item ${currentBrush?.text === text ? 'tool-item-focus' : ''}`}\n      onClick={() => setCurrentBrush(tag)}\n      style={currentBrush?.text === text && color ? { background: bgColor || hexToRgba(color, TOOL_BUTTON_ALPHA) } : { backgroundColor: hexToRgba(DEFAULT_BACKGROUND, TOOL_BUTTON_ALPHA) }}\n    >\n      <div\n        className=\"tool-color\"\n        style={color ? { backgroundColor: color } : { backgroundColor: DEFAULT_COLOR }}\n      />\n      <div className=\"tool-text\">\n        {text}\n      </div>\n      <div className=\"tool-count\">\n        {\n          showReview && rejectedNum && !isQATool(tag.type)\n            ? (\n              <>\n                <span className=\"tool-count-reviewed\">{rejectedNum}</span>\n                /\n              </>\n            )\n            : null\n        }\n        {items.length}\n      </div>\n    </button>\n  );\n};\nexport default ConfigItem;\n"],"mappings":";AAAA,OAAOA,SAAS,MAAM,aAAa;AACnC,OAAOC,KAAK,IAAIC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAClD,SAASC,QAAQ,QAAQ,qBAAqB;AAC9C,SAASC,iBAAiB,EAAEC,aAAa,EAAEC,kBAAkB,QAAQ,qBAAqB;AAE1F,MAAMC,UAAU,GAAIC,KAAK,IAAK;EAC5B,MAAM;IAAEC,YAAY;IAAEC,eAAe;IAAEC,GAAG;IAAEC,KAAK;IAAEC,UAAU;IAAEC;EAAW,CAAC,GAAGN,KAAK;EACnF,MAAM;IAAEO,OAAO;IAAEC,KAAK;IAAEC;EAAK,CAAC,GAAGN,GAAG;EACpC,MAAM,CAACO,WAAW,EAAEC,cAAc,CAAC,GAAGjB,QAAQ,CAAC,CAAC,CAAC;EAEjDD,SAAS,CAAC,MAAM;IACdkB,cAAc,CAACP,KAAK,CAACQ,MAAM,CAAC,CAAC,CAACC,EAAE,EAAEC,GAAG,CAAC;MAAA,IAAAC,cAAA;MAAA,OAAK,EAAAA,cAAA,GAAAT,UAAU,CAACO,EAAE,CAAC,cAAAE,cAAA,uBAAdA,cAAA,CAAgBC,MAAM,MAAK,QAAQ;IAAA,EAAC,CAACC,MAAM,CAAC;EACzF,CAAC,EAAE,CAACb,KAAK,EAAEE,UAAU,CAAC,CAAC;EAEvB,oBACEd,KAAA,CAAA0B,aAAA;IACEC,SAAS,EAAE,aAAa,CAAAlB,YAAY,aAAZA,YAAY,uBAAZA,YAAY,CAAEQ,IAAI,MAAKA,IAAI,GAAG,iBAAiB,GAAG,EAAE,EAAG;IAC/EW,OAAO,EAAEA,CAAA,KAAMlB,eAAe,CAACC,GAAG,CAAE;IACpCkB,KAAK,EAAE,CAAApB,YAAY,aAAZA,YAAY,uBAAZA,YAAY,CAAEQ,IAAI,MAAKA,IAAI,IAAID,KAAK,GAAG;MAAEc,UAAU,EAAEf,OAAO,IAAIhB,SAAS,CAACiB,KAAK,EAAEZ,iBAAiB;IAAE,CAAC,GAAG;MAAE2B,eAAe,EAAEhC,SAAS,CAACO,kBAAkB,EAAEF,iBAAiB;IAAE,CAAE;IAAA4B,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBAErLrC,KAAA,CAAA0B,aAAA;IACEC,SAAS,EAAC,YAAY;IACtBE,KAAK,EAAEb,KAAK,GAAG;MAAEe,eAAe,EAAEf;IAAM,CAAC,GAAG;MAAEe,eAAe,EAAE1B;IAAc,CAAE;IAAA2B,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,CAChF,CAAC,eACFrC,KAAA,CAAA0B,aAAA;IAAKC,SAAS,EAAC,WAAW;IAAAK,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GACvBpB,IACE,CAAC,eACNjB,KAAA,CAAA0B,aAAA;IAAKC,SAAS,EAAC,YAAY;IAAAK,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAEvBxB,UAAU,IAAIK,WAAW,IAAI,CAACf,QAAQ,CAACQ,GAAG,CAAC2B,IAAI,CAAC,gBAE5CtC,KAAA,CAAA0B,aAAA,CAAA1B,KAAA,CAAAuC,QAAA,qBACEvC,KAAA,CAAA0B,aAAA;IAAMC,SAAS,EAAC,qBAAqB;IAAAK,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAEnB,WAAkB,CAAC,KAE1D,CAAC,GAEH,IAAI,EAETN,KAAK,CAACa,MACJ,CACC,CAAC;AAEb,CAAC;AACD,eAAelB,UAAU","ignoreList":[]},"metadata":{},"sourceType":"module"}