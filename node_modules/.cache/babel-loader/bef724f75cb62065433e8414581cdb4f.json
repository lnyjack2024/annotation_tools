{"ast":null,"code":"import React from'react';import{FieldControlType}from'@appen-china/easy-form/es/types';import cx from'classnames';import{getFieldDisplayLabel,getReferenceImageUrl}from'../../../../utils/form';import'./AttributeValueItem.scss';const AttributeValueItem=_ref=>{let{fieldName,fieldsMap,values={},onValueClick,compact=false}=_ref;const field=(fieldsMap||{})[fieldName];const fieldValue=values[fieldName];const displayValue=getFieldDisplayLabel(fieldValue,field);const referenceImageRender=()=>{const referenceImageUrl=getReferenceImageUrl(fieldValue,field,['value','label']);if(referenceImageUrl){return/*#__PURE__*/React.createElement(\"div\",{className:\"ocr-snapshot\",style:{verticalAlign:'middle',width:120,height:120,backgroundImage:\"url(\".concat(referenceImageUrl,\")\")}});}return null;};return/*#__PURE__*/React.createElement(\"div\",{className:cx('llm-attributes-item',{inline:compact})},!compact&&/*#__PURE__*/React.createElement(\"div\",{className:\"llm-attributes-item-label\"},(field===null||field===void 0?void 0:field.label)||(field===null||field===void 0?void 0:field.name)||fieldName,\":\"),/*#__PURE__*/React.createElement(\"div\",{className:\"llm-attributes-item-value\",onMouseDown:e=>{e.stopPropagation();if(onValueClick&&(field===null||field===void 0?void 0:field.name)){onValueClick(field.name);}}},(field===null||field===void 0?void 0:field.type)===FieldControlType.IMAGETEXT// eslint-disable-next-line react/no-danger\n?/*#__PURE__*/React.createElement(\"div\",{dangerouslySetInnerHTML:{__html:displayValue}}):/*#__PURE__*/React.createElement(\"span\",null,displayValue),referenceImageRender()),compact&&(displayValue||referenceImageRender())&&/*#__PURE__*/React.createElement(\"div\",{style:{paddingRight:8}},\";\"));};export default AttributeValueItem;","map":{"version":3,"names":["React","FieldControlType","cx","getFieldDisplayLabel","getReferenceImageUrl","AttributeValueItem","_ref","fieldName","fieldsMap","values","onValueClick","compact","field","fieldValue","displayValue","referenceImageRender","referenceImageUrl","createElement","className","style","verticalAlign","width","height","backgroundImage","concat","inline","label","name","onMouseDown","e","stopPropagation","type","IMAGETEXT","dangerouslySetInnerHTML","__html","paddingRight"],"sources":["/Users/qzheng/Documents/webroot/annotation_tools/src/components/common/llm/attributes-config/AttributeValueItem.tsx"],"sourcesContent":["import React from 'react';\nimport { FieldControlType } from '@appen-china/easy-form/es/types';\nimport cx from 'classnames';\nimport { FieldConfig, getFieldDisplayLabel, getReferenceImageUrl } from '../../../../utils/form';\nimport './AttributeValueItem.scss';\n\ninterface AttributeValueItemProps {\n  fieldName: string;\n  fieldsMap: { [fieldName: string]: FieldConfig };\n  values: any;\n  onValueClick?: (fieldName: string) => void;\n  compact?: boolean;\n}\n\nconst AttributeValueItem = ({ fieldName, fieldsMap, values = {}, onValueClick, compact = false }: AttributeValueItemProps) => {\n  const field = (fieldsMap || {})[fieldName];\n  const fieldValue = values[fieldName];\n  const displayValue = getFieldDisplayLabel(fieldValue, field);\n\n  const referenceImageRender = () => {\n    const referenceImageUrl = getReferenceImageUrl(fieldValue, field, ['value', 'label']);\n    if (referenceImageUrl) {\n      return (\n        <div className=\"ocr-snapshot\" style={{ verticalAlign: 'middle', width: 120, height: 120, backgroundImage: `url(${referenceImageUrl})` }} />\n      );\n    }\n    return null;\n  };\n\n  return (\n    <div className={cx('llm-attributes-item', { inline: compact })}>\n      {!compact && (\n        <div className=\"llm-attributes-item-label\">\n          {field?.label || field?.name || fieldName}\n          :\n        </div>\n      )}\n      <div\n        className=\"llm-attributes-item-value\"\n        onMouseDown={(e) => {\n          e.stopPropagation();\n          if (onValueClick && field?.name) {\n            onValueClick(field.name);\n          }\n        }}\n      >\n        {\n            field?.type === FieldControlType.IMAGETEXT\n              // eslint-disable-next-line react/no-danger\n              ? <div dangerouslySetInnerHTML={{ __html: displayValue }} />\n              : <span>{displayValue}</span>\n        }\n        {referenceImageRender()}\n      </div>\n      {compact && (displayValue || referenceImageRender()) && (<div style={{ paddingRight: 8 }}>;</div>)}\n    </div>\n  );\n};\n\nexport default AttributeValueItem;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,OAASC,gBAAgB,KAAQ,iCAAiC,CAClE,MAAO,CAAAC,EAAE,KAAM,YAAY,CAC3B,OAAsBC,oBAAoB,CAAEC,oBAAoB,KAAQ,wBAAwB,CAChG,MAAO,2BAA2B,CAUlC,KAAM,CAAAC,kBAAkB,CAAGC,IAAA,EAAmG,IAAlG,CAAEC,SAAS,CAAEC,SAAS,CAAEC,MAAM,CAAG,CAAC,CAAC,CAAEC,YAAY,CAAEC,OAAO,CAAG,KAA+B,CAAC,CAAAL,IAAA,CACvH,KAAM,CAAAM,KAAK,CAAG,CAACJ,SAAS,EAAI,CAAC,CAAC,EAAED,SAAS,CAAC,CAC1C,KAAM,CAAAM,UAAU,CAAGJ,MAAM,CAACF,SAAS,CAAC,CACpC,KAAM,CAAAO,YAAY,CAAGX,oBAAoB,CAACU,UAAU,CAAED,KAAK,CAAC,CAE5D,KAAM,CAAAG,oBAAoB,CAAGA,CAAA,GAAM,CACjC,KAAM,CAAAC,iBAAiB,CAAGZ,oBAAoB,CAACS,UAAU,CAAED,KAAK,CAAE,CAAC,OAAO,CAAE,OAAO,CAAC,CAAC,CACrF,GAAII,iBAAiB,CAAE,CACrB,mBACEhB,KAAA,CAAAiB,aAAA,QAAKC,SAAS,CAAC,cAAc,CAACC,KAAK,CAAE,CAAEC,aAAa,CAAE,QAAQ,CAAEC,KAAK,CAAE,GAAG,CAAEC,MAAM,CAAE,GAAG,CAAEC,eAAe,QAAAC,MAAA,CAASR,iBAAiB,KAAI,CAAE,CAAE,CAAC,CAE/I,CACA,MAAO,KAAI,CACb,CAAC,CAED,mBACEhB,KAAA,CAAAiB,aAAA,QAAKC,SAAS,CAAEhB,EAAE,CAAC,qBAAqB,CAAE,CAAEuB,MAAM,CAAEd,OAAQ,CAAC,CAAE,EAC5D,CAACA,OAAO,eACPX,KAAA,CAAAiB,aAAA,QAAKC,SAAS,CAAC,2BAA2B,EACvC,CAAAN,KAAK,SAALA,KAAK,iBAALA,KAAK,CAAEc,KAAK,IAAId,KAAK,SAALA,KAAK,iBAALA,KAAK,CAAEe,IAAI,GAAIpB,SAAS,CAAC,GAEvC,CACN,cACDP,KAAA,CAAAiB,aAAA,QACEC,SAAS,CAAC,2BAA2B,CACrCU,WAAW,CAAGC,CAAC,EAAK,CAClBA,CAAC,CAACC,eAAe,CAAC,CAAC,CACnB,GAAIpB,YAAY,GAAIE,KAAK,SAALA,KAAK,iBAALA,KAAK,CAAEe,IAAI,EAAE,CAC/BjB,YAAY,CAACE,KAAK,CAACe,IAAI,CAAC,CAC1B,CACF,CAAE,EAGE,CAAAf,KAAK,SAALA,KAAK,iBAALA,KAAK,CAAEmB,IAAI,IAAK9B,gBAAgB,CAAC+B,SAC/B;AAAA,cACEhC,KAAA,CAAAiB,aAAA,QAAKgB,uBAAuB,CAAE,CAAEC,MAAM,CAAEpB,YAAa,CAAE,CAAE,CAAC,cAC1Dd,KAAA,CAAAiB,aAAA,aAAOH,YAAmB,CAAC,CAElCC,oBAAoB,CAAC,CACnB,CAAC,CACLJ,OAAO,GAAKG,YAAY,EAAIC,oBAAoB,CAAC,CAAC,CAAC,eAAKf,KAAA,CAAAiB,aAAA,QAAKE,KAAK,CAAE,CAAEgB,YAAY,CAAE,CAAE,CAAE,EAAC,GAAM,CAC7F,CAAC,CAEV,CAAC,CAED,cAAe,CAAA9B,kBAAkB","ignoreList":[]},"metadata":{},"sourceType":"module"}