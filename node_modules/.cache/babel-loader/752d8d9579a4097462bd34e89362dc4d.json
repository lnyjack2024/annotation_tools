{"ast":null,"code":"var _jsxFileName = \"/Users/qzheng/Documents/webroot/annotation_tools/src/components/translation/components/Navigator.tsx\";\nimport React from 'react';\nimport cx from 'classnames';\nimport formatMessage from '../locales';\nimport './Navigator.scss';\nconst NavigatorItem = React.memo(({\n  index,\n  filled,\n  selected,\n  marked,\n  onClick\n}) => /*#__PURE__*/React.createElement(\"div\", {\n  className: cx('navigator-item', {\n    'navigator-item__filled': filled,\n    'navigator-item__selected': selected,\n    'navigator-item__marked': marked\n  }),\n  onClick: e => {\n    e.preventDefault();\n    e.stopPropagation();\n    onClick();\n  },\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 22,\n    columnNumber: 3\n  }\n}, index + 1), (prevProps, nextProps) => !(prevProps.filled !== nextProps.filled || prevProps.selected !== nextProps.selected || prevProps.marked !== nextProps.marked));\nclass Navigator extends React.Component {\n  shouldComponentUpdate(nextProps) {\n    return nextProps.current !== this.props.current || this.isSubtitlesChanged(nextProps.subtitles) || this.isMarksChanged(nextProps.marks);\n  }\n  isSubtitlesChanged(subtitles) {\n    return subtitles.some((subtitle, index) => {\n      const currSubtitle = this.props.subtitles[index];\n      return subtitle.target !== currSubtitle.target && (!subtitle.target || !currSubtitle.target);\n    });\n  }\n  isMarksChanged(marks) {\n    return marks.some(mark => !this.props.marks.includes(mark)) || this.props.marks.some(mark => !marks.includes(mark));\n  }\n  render() {\n    const {\n      subtitles,\n      current,\n      marks,\n      onCurrentChange\n    } = this.props;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"navigator-container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"navigator-title\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 9\n      }\n    }, formatMessage('NAVIGATOR')), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"navigator-items\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 9\n      }\n    }, subtitles.map((subtitle, index) => /*#__PURE__*/React.createElement(NavigatorItem, {\n      key: subtitle.id,\n      index: index,\n      filled: !!subtitle.target,\n      selected: index === current,\n      marked: marks.includes(index),\n      onClick: () => onCurrentChange(index),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 13\n      }\n    }))));\n  }\n}\nexport default Navigator;","map":{"version":3,"names":["React","cx","formatMessage","NavigatorItem","memo","index","filled","selected","marked","onClick","createElement","className","e","preventDefault","stopPropagation","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","prevProps","nextProps","Navigator","Component","shouldComponentUpdate","current","props","isSubtitlesChanged","subtitles","isMarksChanged","marks","some","subtitle","currSubtitle","target","mark","includes","render","onCurrentChange","map","key","id"],"sources":["/Users/qzheng/Documents/webroot/annotation_tools/src/components/translation/components/Navigator.tsx"],"sourcesContent":["import React from 'react';\nimport cx from 'classnames';\nimport { Subtitle } from '../types';\nimport formatMessage from '../locales';\nimport './Navigator.scss';\n\ninterface NavigatorItemProps {\n  index: number;\n  filled: boolean;\n  selected: boolean;\n  marked: boolean;\n  onClick: () => void;\n}\n\nconst NavigatorItem = React.memo(({\n  index,\n  filled,\n  selected,\n  marked,\n  onClick,\n}: NavigatorItemProps) => (\n  <div\n    className={cx('navigator-item', {\n      'navigator-item__filled': filled,\n      'navigator-item__selected': selected,\n      'navigator-item__marked': marked,\n    })}\n    onClick={(e) => {\n      e.preventDefault();\n      e.stopPropagation();\n      onClick();\n    }}\n  >\n    {index + 1}\n  </div>\n), (prevProps, nextProps) => !(\n  prevProps.filled !== nextProps.filled ||\n  prevProps.selected !== nextProps.selected ||\n  prevProps.marked !== nextProps.marked\n));\n\ninterface NavigatorProps {\n  subtitles: Subtitle[];\n  current: number;\n  marks: number[];\n  onCurrentChange: (current: number) => void;\n}\n\nclass Navigator extends React.Component<NavigatorProps> {\n  shouldComponentUpdate(nextProps: NavigatorProps) {\n    return (\n      nextProps.current !== this.props.current ||\n      this.isSubtitlesChanged(nextProps.subtitles) ||\n      this.isMarksChanged(nextProps.marks)\n    );\n  }\n\n  isSubtitlesChanged(subtitles: Subtitle[]) {\n    return subtitles.some((subtitle, index) => {\n      const currSubtitle = this.props.subtitles[index];\n      return subtitle.target !== currSubtitle.target && (!subtitle.target || !currSubtitle.target);\n    });\n  }\n\n  isMarksChanged(marks: number[]) {\n    return (\n      marks.some((mark) => !this.props.marks.includes(mark)) ||\n      this.props.marks.some((mark) => !marks.includes(mark))\n    );\n  }\n\n  render() {\n    const { subtitles, current, marks, onCurrentChange } = this.props;\n    return (\n      <div className=\"navigator-container\">\n        <div className=\"navigator-title\">{formatMessage('NAVIGATOR')}</div>\n        <div className=\"navigator-items\">\n          {subtitles.map((subtitle, index) => (\n            <NavigatorItem\n              key={subtitle.id}\n              index={index}\n              filled={!!subtitle.target}\n              selected={index === current}\n              marked={marks.includes(index)}\n              onClick={() => onCurrentChange(index)}\n            />\n          ))}\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Navigator;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}