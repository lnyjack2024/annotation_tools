{"ast":null,"code":"var _jsxFileName = \"/Users/qzheng/Documents/webroot/annotation_tools/src/components/common/tabs-menu/Validator.tsx\";\nimport React from 'react';\nimport { Collapse, Menu, Dropdown } from 'antd';\nimport classnames from 'classnames';\nimport { ArrowRightOutlined, CaretRightOutlined, ExclamationCircleFilled, CheckOutlined } from '@ant-design/icons';\nimport ImagePreview from '../modal/ImagePreview';\nimport { Warning, Sync, More } from '../icons';\nimport 'antd/es/collapse/style/index.css';\nimport './Validator.scss';\nimport { ReviewResult, ValidationType } from '../../keypoint/types';\nexport let Theme = /*#__PURE__*/function (Theme) {\n  Theme[\"LIGHT\"] = \"light\";\n  Theme[\"DARK\"] = \"dark\";\n  return Theme;\n}({});\nconst {\n  Panel\n} = Collapse;\nconst menuItems = [ReviewResult.APPROVE, ReviewResult.REJECT, ReviewResult.SUSPEND];\nclass Validator extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      checking: false,\n      previewImg: ''\n    };\n    this.handleSync = async () => {\n      this.setState({\n        checking: true\n      });\n      await Promise.all([this.props.onValidate(), new Promise(resolve => {\n        setTimeout(resolve, 300);\n      })]);\n      this.setState({\n        checking: false\n      });\n    };\n  }\n  // eslint-disable-next-line class-methods-use-this\n  renderMore(warning) {\n    return /*#__PURE__*/React.createElement(Menu, {\n      onClick: ({\n        key\n      }) => {\n        this.props.onMoreHandleAction(key, warning);\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 7\n      }\n    }, menuItems.map((key, i) => /*#__PURE__*/React.createElement(Menu.Item, {\n      key: key,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: classnames('validator-menu-label', {\n        'validator-menu-active': ReviewResult.REJECT === key\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(CheckOutlined, {\n      className: \"validator-menu-icon\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 15\n      }\n    }, this.props.formatMessage(`QC_MENU_${key.toUpperCase()}`))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"hint\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 13\n      }\n    }, i + 1))), /*#__PURE__*/React.createElement(Menu.Divider, {\n      style: {\n        backgroundColor: '#636770'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(Menu.Item, {\n      key: \"delete\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 9\n      }\n    }, this.props.formatMessage('QC_MENU_DELETE')));\n  }\n  renderWarning(warning) {\n    const {\n      renderWarningTitle,\n      showWarningAction,\n      onWarningAction\n    } = this.props;\n    const {\n      frames,\n      warningType,\n      id,\n      groupName,\n      shapeIds,\n      message\n    } = warning;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      key: `${warningType}-${frames === null || frames === void 0 ? void 0 : frames[0]}-${id}-${groupName}-${shapeIds}`,\n      className: \"warning-item\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"warning-item-content\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"warning-title\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"name\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 13\n      }\n    }, renderWarningTitle(warning)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"action\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 13\n      }\n    }, showWarningAction && showWarningAction(warning) && /*#__PURE__*/React.createElement(\"div\", {\n      className: \"go\",\n      onClick: () => {\n        if (onWarningAction) {\n          onWarningAction(warning);\n        }\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(ArrowRightOutlined, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 19\n      }\n    })), this.props.isEnabled && warningType === ValidationType.QUALITY && /*#__PURE__*/React.createElement(Dropdown, {\n      overlayClassName: \"validator-menus\",\n      overlay: this.renderMore(warning),\n      trigger: ['click'],\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"more\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(More, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 21\n      }\n    }))))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"warning-msg\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 11\n      }\n    }, message)), warning.comment && /*#__PURE__*/React.createElement(\"div\", {\n      className: \"warning-item-comment\"\n      // eslint-disable-next-line react/no-danger\n      ,\n      dangerouslySetInnerHTML: {\n        __html: warning.comment || ''\n      },\n      onClick: e => {\n        if (e.target.tagName === 'IMG') {\n          this.setPreviewImg(e.target.src);\n        }\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 11\n      }\n    }));\n  }\n  renderWarnings(type) {\n    const {\n      validationTypes,\n      warnings,\n      errors = {}\n    } = this.props;\n    const typeWarnings = warnings.filter(i => i.warningType === type);\n    const typeError = errors[type];\n    return (typeWarnings.length > 0 || typeError) && /*#__PURE__*/React.createElement(Panel, {\n      key: type,\n      header: validationTypes[type],\n      extra: /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 172,\n          columnNumber: 11\n        }\n      }, typeError && /*#__PURE__*/React.createElement(ExclamationCircleFilled, {\n        style: {\n          color: 'rgba(220, 70, 36)',\n          marginRight: 4\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 174,\n          columnNumber: 15\n        }\n      }), /*#__PURE__*/React.createElement(\"span\", {\n        className: \"result-count\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 176,\n          columnNumber: 13\n        }\n      }, typeWarnings.length)),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 7\n      }\n    }, typeError && /*#__PURE__*/React.createElement(\"div\", {\n      className: \"error\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 182,\n        columnNumber: 23\n      }\n    }, typeError), typeWarnings.map(warning => this.renderWarning(warning)));\n  }\n  setPreviewImg(src) {\n    this.setState({\n      previewImg: src\n    });\n  }\n  render() {\n    const {\n      theme = Theme.DARK,\n      validationTypes,\n      warnings,\n      containerWidth = '100%',\n      containerHeight = '100%',\n      titleFormatter,\n      checkingMsgFormatter\n    } = this.props;\n    const {\n      previewImg\n    } = this.state;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: `tool-validator ${theme}`,\n      style: {\n        width: containerWidth,\n        height: containerHeight\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 206,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"header\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 213,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        backgroundColor: warnings.length > 0 ? 'rgba(220, 70, 36, 0.5)' : 'transparent'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 214,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 219,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Warning, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 220,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(\"span\", {\n      style: {\n        paddingLeft: 8\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 221,\n        columnNumber: 15\n      }\n    }, titleFormatter ? titleFormatter(warnings.length) : `${warnings.length} Warning(s)`)), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 225,\n        columnNumber: 13\n      }\n    }, this.state.checking && /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        fontSize: 12,\n        color: theme === Theme.LIGHT ? 'rgba(0, 0, 0, 0.6)' : 'rgba(255, 255, 255, 0.6)',\n        paddingRight: 4\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 227,\n        columnNumber: 17\n      }\n    }, checkingMsgFormatter ? checkingMsgFormatter() : 'Checking...'), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"icon-button\",\n      onClick: this.handleSync,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 231,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(Sync, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 232,\n        columnNumber: 17\n      }\n    }))))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"content\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 237,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Collapse, {\n      ghost: true,\n      expandIcon: p => /*#__PURE__*/React.createElement(CaretRightOutlined, {\n        style: {\n          ...(p.isActive ? {\n            top: 11,\n            transform: 'rotate(90deg)'\n          } : {\n            color: 'rgba(255, 255, 255, 0.6)'\n          })\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 241,\n          columnNumber: 15\n        }\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 238,\n        columnNumber: 11\n      }\n    }, Object.keys(validationTypes).map(type => this.renderWarnings(type)))), previewImg && /*#__PURE__*/React.createElement(ImagePreview, {\n      src: previewImg,\n      maskClosable: true,\n      onClose: () => this.setPreviewImg(''),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 256,\n        columnNumber: 24\n      }\n    }));\n  }\n}\nexport default Validator;","map":{"version":3,"names":["React","Collapse","Menu","Dropdown","classnames","ArrowRightOutlined","CaretRightOutlined","ExclamationCircleFilled","CheckOutlined","ImagePreview","Warning","Sync","More","ReviewResult","ValidationType","Theme","Panel","menuItems","APPROVE","REJECT","SUSPEND","Validator","Component","constructor","args","state","checking","previewImg","handleSync","setState","Promise","all","props","onValidate","resolve","setTimeout","renderMore","warning","createElement","onClick","key","onMoreHandleAction","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","map","i","Item","className","formatMessage","toUpperCase","Divider","style","backgroundColor","renderWarning","renderWarningTitle","showWarningAction","onWarningAction","frames","warningType","id","groupName","shapeIds","message","isEnabled","QUALITY","overlayClassName","overlay","trigger","comment","dangerouslySetInnerHTML","__html","e","target","tagName","setPreviewImg","src","renderWarnings","type","validationTypes","warnings","errors","typeWarnings","filter","typeError","length","header","extra","color","marginRight","render","theme","DARK","containerWidth","containerHeight","titleFormatter","checkingMsgFormatter","width","height","paddingLeft","fontSize","LIGHT","paddingRight","ghost","expandIcon","p","isActive","top","transform","Object","keys","maskClosable","onClose"],"sources":["/Users/qzheng/Documents/webroot/annotation_tools/src/components/common/tabs-menu/Validator.tsx"],"sourcesContent":["import React from 'react';\nimport { Collapse, Menu, Dropdown } from 'antd';\nimport classnames from 'classnames';\nimport { ArrowRightOutlined, CaretRightOutlined, ExclamationCircleFilled, CheckOutlined } from '@ant-design/icons';\nimport ImagePreview from '../modal/ImagePreview';\nimport { Warning, Sync, More } from '../icons';\nimport 'antd/es/collapse/style/index.css';\nimport './Validator.scss';\nimport { ReviewResult, ValidationType } from '../../keypoint/types';\n\nexport interface IWarning {\n  warningType: string;\n  id: string;\n  groupName?: string;\n  shapeIds?: (string | number)[];\n  message: string;\n  comment?: string;\n  frames: number[];\n  info?: {\n    [key: string]: any;\n  };\n  blockSubmit?: boolean;\n}\n\nexport enum Theme {\n  LIGHT = 'light',\n  DARK = 'dark',\n}\n\ninterface ValidatorProps {\n  isEnabled: boolean;\n  theme?: Theme;\n  validationTypes: {\n    [type: string]: string;\n  };\n  warnings: IWarning[];\n  errors?: {\n    [type: string]: string;\n  };\n  containerWidth?: number | string;\n  containerHeight?: number | string;\n  onValidate: () => Promise<unknown>;\n  renderWarningTitle: (warning: IWarning) => React.ReactNode;\n  showWarningAction?: (warning: IWarning) => boolean;\n  onWarningAction?: (warning: IWarning) => void;\n  titleFormatter?: (warningsCount: number) => string;\n  checkingMsgFormatter?: () => string;\n  onMoreHandleAction: (key: string, warning: IWarning) => void;\n  formatMessage: (key: string) => string;\n}\n\ninterface ValidatorState {\n  checking: boolean;\n  previewImg: string;\n}\n\nconst { Panel } = Collapse;\n\nconst menuItems = [\n  ReviewResult.APPROVE,\n  ReviewResult.REJECT,\n  ReviewResult.SUSPEND\n];\nclass Validator extends React.Component<ValidatorProps, ValidatorState> {\n  state: ValidatorState = {\n    checking: false,\n    previewImg: '',\n  };\n\n  handleSync = async () => {\n    this.setState({ checking: true });\n\n    await Promise.all([\n      this.props.onValidate(),\n      new Promise((resolve) => {\n        setTimeout(resolve, 300);\n      }),\n    ]);\n\n    this.setState({ checking: false });\n  };\n\n  // eslint-disable-next-line class-methods-use-this\n  renderMore(warning: IWarning) {\n    return (\n      <Menu onClick={({ key }) => { this.props.onMoreHandleAction(key, warning); }}>\n        {menuItems.map((key, i) => (\n          <Menu.Item key={key}>\n            <div\n              className={classnames('validator-menu-label', {\n                'validator-menu-active': ReviewResult.REJECT === key\n              })}\n            >\n              <CheckOutlined className=\"validator-menu-icon\" />\n              <span>{this.props.formatMessage(`QC_MENU_${key.toUpperCase()}`)}</span>\n            </div>\n            <div className=\"hint\">{i + 1}</div>\n          </Menu.Item>\n        ))}\n        <Menu.Divider style={{ backgroundColor: '#636770' }} />\n        <Menu.Item key=\"delete\">\n          {this.props.formatMessage('QC_MENU_DELETE')}\n        </Menu.Item>\n      </Menu>\n    );\n  };\n\n  renderWarning(warning: IWarning) {\n    const { renderWarningTitle, showWarningAction, onWarningAction } = this.props;\n    const { frames, warningType, id, groupName, shapeIds, message } = warning;\n    return (\n      <div\n        key={`${warningType}-${frames?.[0]}-${id}-${groupName}-${shapeIds}`}\n        className=\"warning-item\"\n      >\n        <div className=\"warning-item-content\">\n          <div className=\"warning-title\">\n            <div className=\"name\">\n              {renderWarningTitle(warning)}\n            </div>\n            <div className=\"action\">\n              {(showWarningAction && showWarningAction(warning)) && (\n                <div\n                  className=\"go\"\n                  onClick={() => {\n                    if (onWarningAction) {\n                      onWarningAction(warning);\n                    }\n                  }}\n                >\n                  <ArrowRightOutlined />\n                </div>\n              )}\n              {(this.props.isEnabled && warningType === ValidationType.QUALITY) && (\n                <Dropdown overlayClassName=\"validator-menus\" overlay={this.renderMore(warning)} trigger={['click']}>\n                  <div className=\"more\">\n                    <More />\n                  </div>\n                </Dropdown>\n              )}\n            </div>\n          </div>\n          <div className=\"warning-msg\">\n            {message}\n          </div>\n        </div>\n        {warning.comment && (\n          <div\n            className=\"warning-item-comment\"\n            // eslint-disable-next-line react/no-danger\n            dangerouslySetInnerHTML={{ __html: warning.comment || '' }}\n            onClick={(e) => {\n              if ((e.target as HTMLElement).tagName === 'IMG') {\n                this.setPreviewImg((e.target as HTMLImageElement).src);\n              }\n            }}\n          />\n        )}\n      </div>\n    );\n  }\n\n  renderWarnings(type: string) {\n    const { validationTypes, warnings, errors = {} } = this.props;\n    const typeWarnings = warnings.filter((i) => i.warningType === type);\n    const typeError = errors[type];\n    return (typeWarnings.length > 0 || typeError) && (\n      <Panel\n        key={type}\n        header={validationTypes[type]}\n        extra={(\n          <div>\n            {typeError && (\n              <ExclamationCircleFilled style={{ color: 'rgba(220, 70, 36)', marginRight: 4 }} />\n            )}\n            <span className=\"result-count\">\n              {typeWarnings.length}\n            </span>\n          </div>\n        )}\n      >\n        {typeError && <div className=\"error\">{typeError}</div>}\n        {typeWarnings.map((warning) => this.renderWarning(warning))}\n      </Panel>\n    );\n  }\n\n  setPreviewImg(src: string) {\n    this.setState({\n      previewImg: src\n    });\n  }\n\n  render() {\n    const {\n      theme = Theme.DARK,\n      validationTypes,\n      warnings,\n      containerWidth = '100%',\n      containerHeight = '100%',\n      titleFormatter,\n      checkingMsgFormatter,\n    } = this.props;\n    const { previewImg } = this.state;\n    return (\n      <div\n        className={`tool-validator ${theme}`}\n        style={{\n          width: containerWidth,\n          height: containerHeight,\n        }}\n      >\n        <div className=\"header\">\n          <div\n            style={{\n              backgroundColor: warnings.length > 0 ? 'rgba(220, 70, 36, 0.5)' : 'transparent'\n            }}\n          >\n            <div>\n              <Warning />\n              <span style={{ paddingLeft: 8 }}>\n                {titleFormatter ? titleFormatter(warnings.length) : `${warnings.length} Warning(s)`}\n              </span>\n            </div>\n            <div>\n              {this.state.checking && (\n                <div style={{ fontSize: 12, color: theme === Theme.LIGHT ? 'rgba(0, 0, 0, 0.6)' : 'rgba(255, 255, 255, 0.6)', paddingRight: 4 }}>\n                  {checkingMsgFormatter ? checkingMsgFormatter() : 'Checking...'}\n                </div>\n              )}\n              <div className=\"icon-button\" onClick={this.handleSync}>\n                <Sync />\n              </div>\n            </div>\n          </div>\n        </div>\n        <div className=\"content\">\n          <Collapse\n            ghost\n            expandIcon={(p) => (\n              <CaretRightOutlined\n                style={{\n                  ...p.isActive ? {\n                    top: 11,\n                    transform: 'rotate(90deg)',\n                  } : {\n                    color: 'rgba(255, 255, 255, 0.6)',\n                  },\n                }}\n              />\n            )}\n          >\n            {Object.keys(validationTypes).map((type) => this.renderWarnings(type))}\n          </Collapse>\n        </div>\n        {previewImg && <ImagePreview src={previewImg} maskClosable onClose={() => this.setPreviewImg('')} />}\n      </div>\n    );\n  }\n}\n\nexport default Validator;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}