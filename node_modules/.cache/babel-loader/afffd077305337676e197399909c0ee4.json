{"ast":null,"code":"import Mousetrap from 'mousetrap';\nimport { ReviewResult, MoveType } from './types';\nimport store from './store/RootStore';\nexport default function bindKeyboardEvents(ctx) {\n  // default keyboard events\n  Mousetrap.bind('f', () => {\n    ctx.handleScreenFull();\n    return false;\n  });\n  Mousetrap.bind(['options+del', 'alt+del', 'options+backspace', 'alt+backspace'], () => {\n    if (store.instance.selectedInstanceIds.size && !store.instance.isDrawing) {\n      store.instance.deleteInstances(Array.from(store.instance.selectedInstanceIds));\n    }\n    return false;\n  });\n  Mousetrap.bind(['ctrl+s', 'command+s'], () => {\n    ctx.handleSave();\n    return false;\n  });\n  Mousetrap.bind(['ctrl+z', 'command+z'], () => {\n    ctx.handleUndo();\n    return false;\n  });\n  Mousetrap.bind(['ctrl+y', 'command+y'], () => {\n    ctx.handleRedo();\n    return false;\n  });\n  Mousetrap.bind('space', () => {\n    store.waveform.handlePlay();\n    return false;\n  });\n  Mousetrap.bind(['ctrl+r', 'command+r'], e => {\n    window.location.reload();\n    return false;\n  });\n  Mousetrap.bind(['ctrl+i', 'command+i'], () => {\n    store.setting.setZoom(store.setting.zoom + 1);\n    return false;\n  });\n  Mousetrap.bind(['ctrl+o', 'command+o'], () => {\n    store.setting.setZoom(store.setting.zoom - 1);\n    return false;\n  });\n  Mousetrap.bind('1', () => {\n    store.review.shortcutAction(ReviewResult.APPROVE);\n    return false;\n  });\n  Mousetrap.bind('2', () => {\n    if (store.review.auditionRegion) {\n      store.review.auditionToReview();\n    } else {\n      store.review.shortcutAction(ReviewResult.REJECT);\n    }\n    return false;\n  });\n  Mousetrap.bind('3', () => {\n    store.review.shortcutAction(ReviewResult.SUSPEND);\n    return false;\n  });\n  Mousetrap.bind(['ctrl+h', 'command+h'], () => {\n    store.setting.setIsSolo(!store.setting.isSolo);\n    return false;\n  });\n  Mousetrap.bind('ctrl+,', () => {\n    store.instance.moveAllInstances(MoveType.MINUS);\n    return false;\n  });\n  Mousetrap.bind('ctrl+.', () => {\n    store.instance.moveAllInstances(MoveType.PLUS);\n    return false;\n  });\n  return () => {\n    Mousetrap.unbind('f');\n    Mousetrap.unbind(['options+del', 'alt+del', 'options+backspace', 'alt+backspace']);\n    Mousetrap.unbind(['ctrl+s', 'command+s']);\n    Mousetrap.unbind(['ctrl+z', 'command+z']);\n    Mousetrap.unbind(['ctrl+y', 'command+y']);\n    Mousetrap.unbind('space');\n    Mousetrap.unbind(['ctrl+r', 'command+r']);\n    Mousetrap.unbind(['ctrl+i', 'command+i']);\n    Mousetrap.unbind(['ctrl+o', 'command+o']);\n    Mousetrap.unbind('1');\n    Mousetrap.unbind('2');\n    Mousetrap.unbind('3');\n    Mousetrap.unbind(['ctrl+h', 'command+h']);\n    Mousetrap.unbind('ctrl+.');\n    Mousetrap.unbind('ctrl+,');\n  };\n}","map":{"version":3,"names":["Mousetrap","ReviewResult","MoveType","store","bindKeyboardEvents","ctx","bind","handleScreenFull","instance","selectedInstanceIds","size","isDrawing","deleteInstances","Array","from","handleSave","handleUndo","handleRedo","waveform","handlePlay","e","window","location","reload","setting","setZoom","zoom","review","shortcutAction","APPROVE","auditionRegion","auditionToReview","REJECT","SUSPEND","setIsSolo","isSolo","moveAllInstances","MINUS","PLUS","unbind"],"sources":["/Users/qzheng/Documents/webroot/annotation_tools/src/components/multi-channel/keyboard-events.ts"],"sourcesContent":["import Mousetrap from 'mousetrap';\nimport { MultiChannel } from './index';\nimport { ReviewResult, MoveType } from './types';\nimport store from './store/RootStore';\n\nexport default function bindKeyboardEvents(ctx: MultiChannel) {\n  // default keyboard events\n  Mousetrap.bind('f', () => {\n    ctx.handleScreenFull();\n    return false;\n  });\n  Mousetrap.bind(['options+del', 'alt+del', 'options+backspace', 'alt+backspace'], () => {\n    if (store.instance.selectedInstanceIds.size && !store.instance.isDrawing) {\n      store.instance.deleteInstances(\n        Array.from(store.instance.selectedInstanceIds)\n      );\n    }\n    return false;\n  });\n  Mousetrap.bind(['ctrl+s', 'command+s'], () => {\n    ctx.handleSave();\n    return false;\n  });\n  Mousetrap.bind(['ctrl+z', 'command+z'], () => {\n    ctx.handleUndo();\n    return false;\n  });\n  Mousetrap.bind(['ctrl+y', 'command+y'], () => {\n    ctx.handleRedo();\n    return false;\n  });\n  Mousetrap.bind('space', () => {\n    store.waveform.handlePlay();\n    return false;\n  });\n\n  Mousetrap.bind(['ctrl+r', 'command+r'], (e) => {\n    window.location.reload();\n    return false;\n  });\n\n  Mousetrap.bind(['ctrl+i', 'command+i'], () => {\n    store.setting.setZoom(store.setting.zoom + 1);\n    return false;\n  });\n\n  Mousetrap.bind(['ctrl+o', 'command+o'], () => {\n    store.setting.setZoom(store.setting.zoom - 1);\n    return false;\n  });\n\n  Mousetrap.bind('1', () => {\n    store.review.shortcutAction(ReviewResult.APPROVE);\n    return false;\n  });\n\n  Mousetrap.bind('2', () => {\n    if (store.review.auditionRegion) {\n      store.review.auditionToReview();\n    } else {\n      store.review.shortcutAction(ReviewResult.REJECT);\n    }\n    return false;\n  });\n\n  Mousetrap.bind('3', () => {\n    store.review.shortcutAction(ReviewResult.SUSPEND);\n    return false;\n  });\n\n  Mousetrap.bind(['ctrl+h', 'command+h'], () => {\n    store.setting.setIsSolo(!store.setting.isSolo);\n    return false;\n  });\n\n  Mousetrap.bind('ctrl+,', () => {\n    store.instance.moveAllInstances(MoveType.MINUS);\n    return false;\n  });\n\n  Mousetrap.bind('ctrl+.', () => {\n    store.instance.moveAllInstances(MoveType.PLUS);\n    return false;\n  });\n\n  return () => {\n    Mousetrap.unbind('f');\n    Mousetrap.unbind(['options+del', 'alt+del', 'options+backspace', 'alt+backspace']);\n    Mousetrap.unbind(['ctrl+s', 'command+s']);\n    Mousetrap.unbind(['ctrl+z', 'command+z']);\n    Mousetrap.unbind(['ctrl+y', 'command+y']);\n    Mousetrap.unbind('space');\n    Mousetrap.unbind(['ctrl+r', 'command+r']);\n    Mousetrap.unbind(['ctrl+i', 'command+i']);\n    Mousetrap.unbind(['ctrl+o', 'command+o']);\n    Mousetrap.unbind('1');\n    Mousetrap.unbind('2');\n    Mousetrap.unbind('3');\n    Mousetrap.unbind(['ctrl+h', 'command+h']);\n    Mousetrap.unbind('ctrl+.');\n    Mousetrap.unbind('ctrl+,');\n  };\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}