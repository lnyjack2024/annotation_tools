{"ast":null,"code":"var _jsxFileName = \"/Users/qzheng/Documents/webroot/annotation_tools/src/components/video-tracking2/components/attributes/InstanceInfo.tsx\";\nimport React, { useState } from 'react';\nimport { observer } from 'mobx-react';\nimport cx from 'classnames';\nimport { Up } from '../../../common/icons';\nimport ShapeInfo from './ShapeInfo';\nimport store from '../../store/RootStore';\nimport i18n from '../../locales';\nconst InstanceInfo = observer(({\n  instance,\n  instanceItem\n}) => {\n  const [collapsed, setCollapsed] = useState(false);\n  const renderInstanceCamera = () => {\n    const {\n      currentCamera,\n      cameraNames\n    } = store.frame;\n    const cameraIndex = cameraNames.indexOf(currentCamera);\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"divider\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 22,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"value-item\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 23,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"value-item-label\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 24,\n        columnNumber: 11\n      }\n    }, i18n.translate('INSTANCE_INFO_INSTANCE_CAMERA_RELATED')), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"value-item-value\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 25,\n        columnNumber: 11\n      }\n    }, i18n.translate('INSTANCE_INFO_INSTANCE_CAMERA_RELATED_COUNT', {\n      values: {\n        count: instance.existedCameras.length\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"value-item\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 27,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"value-item-label\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 28,\n        columnNumber: 11\n      }\n    }, i18n.translate('INSTANCE_INFO_INSTANCE_CAMERA_CURRENT')), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"value-item-value\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 29,\n        columnNumber: 11\n      }\n    }, `C${cameraIndex + 1}-${currentCamera}`)));\n  };\n  const {\n    currentFrame,\n    isSingleCamera\n  } = store.frame;\n  const showInstance = !instanceItem || instance.isSingle;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: cx('collapse-panel', {\n      collapsed\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"collapse-panel-title\",\n    onClick: () => setCollapsed(!collapsed),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"collapse-panel-collapse-icon\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Up, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 11\n    }\n  })), i18n.translate(showInstance ? 'INSTANCE_INFO_INSTANCE' : 'INSTANCE_INFO_ITEM')), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"collapse-panel-content\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 7\n    }\n  }, showInstance && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"instance-label\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"instance-label-dot\",\n    style: {\n      backgroundColor: instance.categoryRef.displayColor\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 15\n    }\n  }), instance.label), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 13\n    }\n  }, i18n.translate('INSTANCE_INFO_INSTANCE_CAMERA_SUMMARY', {\n    values: {\n      frame: currentFrame + 1,\n      count: Object.keys(instance.frameStatus).length\n    }\n  })), !isSingleCamera && renderInstanceCamera(), instanceItem && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"divider\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 30\n    }\n  })), /*#__PURE__*/React.createElement(ShapeInfo, {\n    instanceItem: instanceItem,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 9\n    }\n  })));\n});\nexport default InstanceInfo;","map":{"version":3,"names":["React","useState","observer","cx","Up","ShapeInfo","store","i18n","InstanceInfo","instance","instanceItem","collapsed","setCollapsed","renderInstanceCamera","currentCamera","cameraNames","frame","cameraIndex","indexOf","createElement","Fragment","className","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","translate","values","count","existedCameras","length","currentFrame","isSingleCamera","showInstance","isSingle","onClick","style","backgroundColor","categoryRef","displayColor","label","Object","keys","frameStatus"],"sources":["/Users/qzheng/Documents/webroot/annotation_tools/src/components/video-tracking2/components/attributes/InstanceInfo.tsx"],"sourcesContent":["import React, { useState } from 'react';\nimport { observer } from 'mobx-react';\nimport cx from 'classnames';\nimport { Up } from '../../../common/icons';\nimport ShapeInfo from './ShapeInfo';\nimport store from '../../store/RootStore';\nimport i18n from '../../locales';\nimport Instance from '../../model/Instance';\nimport InstanceItem from '../../model/InstanceItem';\n\nconst InstanceInfo = observer(({ instance, instanceItem }: {\n  instance: Instance;\n  instanceItem?: InstanceItem;\n}) => {\n  const [collapsed, setCollapsed] = useState(false);\n\n  const renderInstanceCamera = () => {\n    const { currentCamera, cameraNames } = store.frame;\n    const cameraIndex = cameraNames.indexOf(currentCamera);\n    return (\n      <>\n        <div className=\"divider\" />\n        <div className=\"value-item\">\n          <div className=\"value-item-label\">{i18n.translate('INSTANCE_INFO_INSTANCE_CAMERA_RELATED')}</div>\n          <div className=\"value-item-value\">{i18n.translate('INSTANCE_INFO_INSTANCE_CAMERA_RELATED_COUNT', { values: { count: instance.existedCameras.length } })}</div>\n        </div>\n        <div className=\"value-item\">\n          <div className=\"value-item-label\">{i18n.translate('INSTANCE_INFO_INSTANCE_CAMERA_CURRENT')}</div>\n          <div className=\"value-item-value\">{`C${cameraIndex + 1}-${currentCamera}`}</div>\n        </div>\n      </>\n    );\n  };\n\n  const { currentFrame, isSingleCamera } = store.frame;\n  const showInstance = !instanceItem || instance.isSingle;\n  return (\n    <div\n      className={cx('collapse-panel', {\n        collapsed,\n      })}\n    >\n      <div className=\"collapse-panel-title\" onClick={() => setCollapsed(!collapsed)}>\n        <div className=\"collapse-panel-collapse-icon\">\n          <Up />\n        </div>\n        {i18n.translate(showInstance ? 'INSTANCE_INFO_INSTANCE' : 'INSTANCE_INFO_ITEM')}\n      </div>\n      <div className=\"collapse-panel-content\">\n        {showInstance && (\n          <>\n            <div className=\"instance-label\">\n              <div\n                className=\"instance-label-dot\"\n                style={{ backgroundColor: instance.categoryRef.displayColor }}\n              />\n              {instance.label}\n            </div>\n            <div>\n              {i18n.translate('INSTANCE_INFO_INSTANCE_CAMERA_SUMMARY', {\n                values: {\n                  frame: currentFrame + 1,\n                  count: Object.keys(instance.frameStatus).length,\n                },\n              })}\n            </div>\n            {!isSingleCamera && renderInstanceCamera()}\n            {instanceItem && <div className=\"divider\" />}\n          </>\n        )}\n        <ShapeInfo instanceItem={instanceItem} />\n      </div>\n    </div>\n  );\n});\n\nexport default InstanceInfo;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}