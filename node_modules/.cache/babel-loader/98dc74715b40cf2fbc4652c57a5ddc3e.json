{"ast":null,"code":"var _jsxFileName = \"/Users/qzheng/Documents/webroot/annotation_tools/src/components/video-tracking2/components/sidebar/SidebarCategory.tsx\";\nimport React, { useCallback, useState } from 'react';\nimport { observer } from 'mobx-react';\nimport hexToRgba from 'hex-to-rgba';\nimport { CaretDownOutlined } from '@ant-design/icons';\nimport SidebarInstance from './SidebarInstance';\nimport store from '../../store/RootStore';\nconst SidebarCategory = observer(({\n  category\n}) => {\n  const [collapsed, setCollapsed] = useState(false);\n  const selectCategory = useCallback(() => {\n    store.ontology.selectCategory(category.className);\n  }, []);\n  const collapse = e => {\n    e.stopPropagation();\n    setCollapsed(!collapsed);\n  };\n  const {\n    className,\n    displayName,\n    displayColor\n  } = category;\n  const isSelected = store.ontology.selectedCategoryName === className;\n  let instances = store.instance.categoryInstancesMap[className];\n  if (!store.config.autoTracking) {\n    var _instances;\n    instances = (_instances = instances) === null || _instances === void 0 ? void 0 : _instances.filter(i => i.frameStatus[store.frame.currentFrame]);\n  }\n  const isEmpty = !instances || instances.length <= 0;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"sidebar-category\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"sidebar-category-title\",\n    style: {\n      backgroundColor: isSelected ? hexToRgba(displayColor || '#FFFFFF', 0.2) : '#3D424D'\n    },\n    onClick: selectCategory,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"sidebar-category-title__dot\",\n    style: {\n      backgroundColor: displayColor\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      flex: 1\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 11\n    }\n  }, displayName)), /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 9\n    }\n  }, !isEmpty && /*#__PURE__*/React.createElement(\"span\", {\n    className: \"sidebar-category-title__count\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 13\n    }\n  }, instances.length), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"sidebar-category-action\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(CaretDownOutlined, {\n    className: \"sidebar-category-icon\",\n    style: {\n      transform: collapsed ? 'rotate(270deg)' : ''\n    },\n    onClick: collapse,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 13\n    }\n  })))), !collapsed && !isEmpty && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"sidebar-category-content\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 9\n    }\n  }, instances.map(instance => /*#__PURE__*/React.createElement(SidebarInstance, {\n    key: instance.id,\n    instance: instance,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 40\n    }\n  }))));\n});\nexport default SidebarCategory;","map":{"version":3,"names":["React","useCallback","useState","observer","hexToRgba","CaretDownOutlined","SidebarInstance","store","SidebarCategory","category","collapsed","setCollapsed","selectCategory","ontology","className","collapse","e","stopPropagation","displayName","displayColor","isSelected","selectedCategoryName","instances","instance","categoryInstancesMap","config","autoTracking","_instances","filter","i","frameStatus","frame","currentFrame","isEmpty","length","createElement","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","style","backgroundColor","onClick","flex","transform","map","key","id"],"sources":["/Users/qzheng/Documents/webroot/annotation_tools/src/components/video-tracking2/components/sidebar/SidebarCategory.tsx"],"sourcesContent":["import React, { useCallback, useState } from 'react';\nimport { observer } from 'mobx-react';\nimport hexToRgba from 'hex-to-rgba';\nimport { CaretDownOutlined } from '@ant-design/icons';\nimport SidebarInstance from './SidebarInstance';\nimport store from '../../store/RootStore';\nimport { Category } from '../../types';\n\ninterface SidebarCategoryProps {\n  category: Category;\n}\n\nconst SidebarCategory = observer(({ category }: SidebarCategoryProps) => {\n  const [collapsed, setCollapsed] = useState(false);\n\n  const selectCategory = useCallback(() => {\n    store.ontology.selectCategory(category.className);\n  }, []);\n\n  const collapse = (e: React.MouseEvent) => {\n    e.stopPropagation();\n    setCollapsed(!collapsed);\n  };\n\n  const { className, displayName, displayColor } = category;\n  const isSelected = store.ontology.selectedCategoryName === className;\n  let instances = store.instance.categoryInstancesMap[className];\n  if (!store.config.autoTracking) {\n    instances = instances?.filter((i) => i.frameStatus[store.frame.currentFrame]);\n  }\n  const isEmpty = !instances || instances.length <= 0;\n  return (\n    <div className=\"sidebar-category\">\n      <div\n        className=\"sidebar-category-title\"\n        style={{\n          backgroundColor: isSelected ? hexToRgba(displayColor || '#FFFFFF', 0.2) : '#3D424D',\n        }}\n        onClick={selectCategory}\n      >\n        <span>\n          <div\n            className=\"sidebar-category-title__dot\"\n            style={{ backgroundColor: displayColor }}\n          />\n          <div style={{ flex: 1 }}>\n            {displayName}\n          </div>\n        </span>\n        <span>\n          {!isEmpty && (\n            <span className=\"sidebar-category-title__count\">\n              {instances.length}\n            </span>\n          )}\n          <span className=\"sidebar-category-action\">\n            <CaretDownOutlined\n              className=\"sidebar-category-icon\"\n              style={{\n                transform: collapsed ? 'rotate(270deg)' : '',\n              }}\n              onClick={collapse}\n            />\n          </span>\n        </span>\n      </div>\n      {!collapsed && !isEmpty && (\n        <div className=\"sidebar-category-content\">\n          {instances.map((instance) => <SidebarInstance key={instance.id} instance={instance} />)}\n        </div>\n      )}\n    </div>\n  );\n});\n\nexport default SidebarCategory;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}