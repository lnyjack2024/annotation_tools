{"ast":null,"code":"'use strict';\n\nmodule.exports = earcut;\nmodule.exports.default = earcut;\nfunction earcut(data, holeIndices, dim) {\n  dim = dim || 2;\n  var hasHoles = holeIndices && holeIndices.length,\n    outerLen = hasHoles ? holeIndices[0] * dim : data.length,\n    outerNode = linkedList(data, 0, outerLen, dim, true),\n    triangles = [];\n  if (!outerNode || outerNode.next === outerNode.prev) return triangles;\n  var minX, minY, maxX, maxY, x, y, invSize;\n  if (hasHoles) outerNode = eliminateHoles(data, holeIndices, outerNode, dim);\n\n  // if the shape is not too simple, we'll use z-order curve hash later; calculate polygon bbox\n  if (data.length > 80 * dim) {\n    minX = maxX = data[0];\n    minY = maxY = data[1];\n    for (var i = dim; i < outerLen; i += dim) {\n      x = data[i];\n      y = data[i + 1];\n      if (x < minX) minX = x;\n      if (y < minY) minY = y;\n      if (x > maxX) maxX = x;\n      if (y > maxY) maxY = y;\n    }\n\n    // minX, minY and invSize are later used to transform coords into integers for z-order calculation\n    invSize = Math.max(maxX - minX, maxY - minY);\n    invSize = invSize !== 0 ? 1 / invSize : 0;\n  }\n  earcutLinked(outerNode, triangles, dim, minX, minY, invSize);\n  return triangles;\n}\n\n// create a circular doubly linked list from polygon points in the specified winding order\nfunction linkedList(data, start, end, dim, clockwise) {\n  var i, last;\n  if (clockwise === signedArea(data, start, end, dim) > 0) {\n    for (i = start; i < end; i += dim) last = insertNode(i, data[i], data[i + 1], last);\n  } else {\n    for (i = end - dim; i >= start; i -= dim) last = insertNode(i, data[i], data[i + 1], last);\n  }\n  if (last && equals(last, last.next)) {\n    removeNode(last);\n    last = last.next;\n  }\n  return last;\n}\n\n// eliminate colinear or duplicate points\nfunction filterPoints(start, end) {\n  if (!start) return start;\n  if (!end) end = start;\n  var p = start,\n    again;\n  do {\n    again = false;\n    if (!p.steiner && (equals(p, p.next) || area(p.prev, p, p.next) === 0)) {\n      removeNode(p);\n      p = end = p.prev;\n      if (p === p.next) break;\n      again = true;\n    } else {\n      p = p.next;\n    }\n  } while (again || p !== end);\n  return end;\n}\n\n// main ear slicing loop which triangulates a polygon (given as a linked list)\nfunction earcutLinked(ear, triangles, dim, minX, minY, invSize, pass) {\n  if (!ear) return;\n\n  // interlink polygon nodes in z-order\n  if (!pass && invSize) indexCurve(ear, minX, minY, invSize);\n  var stop = ear,\n    prev,\n    next;\n\n  // iterate through ears, slicing them one by one\n  while (ear.prev !== ear.next) {\n    prev = ear.prev;\n    next = ear.next;\n    if (invSize ? isEarHashed(ear, minX, minY, invSize) : isEar(ear)) {\n      // cut off the triangle\n      triangles.push(prev.i / dim);\n      triangles.push(ear.i / dim);\n      triangles.push(next.i / dim);\n      removeNode(ear);\n\n      // skipping the next vertex leads to less sliver triangles\n      ear = next.next;\n      stop = next.next;\n      continue;\n    }\n    ear = next;\n\n    // if we looped through the whole remaining polygon and can't find any more ears\n    if (ear === stop) {\n      // try filtering points and slicing again\n      if (!pass) {\n        earcutLinked(filterPoints(ear), triangles, dim, minX, minY, invSize, 1);\n\n        // if this didn't work, try curing all small self-intersections locally\n      } else if (pass === 1) {\n        ear = cureLocalIntersections(filterPoints(ear), triangles, dim);\n        earcutLinked(ear, triangles, dim, minX, minY, invSize, 2);\n\n        // as a last resort, try splitting the remaining polygon into two\n      } else if (pass === 2) {\n        splitEarcut(ear, triangles, dim, minX, minY, invSize);\n      }\n      break;\n    }\n  }\n}\n\n// check whether a polygon node forms a valid ear with adjacent nodes\nfunction isEar(ear) {\n  var a = ear.prev,\n    b = ear,\n    c = ear.next;\n  if (area(a, b, c) >= 0) return false; // reflex, can't be an ear\n\n  // now make sure we don't have other points inside the potential ear\n  var p = ear.next.next;\n  while (p !== ear.prev) {\n    if (pointInTriangle(a.x, a.y, b.x, b.y, c.x, c.y, p.x, p.y) && area(p.prev, p, p.next) >= 0) return false;\n    p = p.next;\n  }\n  return true;\n}\nfunction isEarHashed(ear, minX, minY, invSize) {\n  var a = ear.prev,\n    b = ear,\n    c = ear.next;\n  if (area(a, b, c) >= 0) return false; // reflex, can't be an ear\n\n  // triangle bbox; min & max are calculated like this for speed\n  var minTX = a.x < b.x ? a.x < c.x ? a.x : c.x : b.x < c.x ? b.x : c.x,\n    minTY = a.y < b.y ? a.y < c.y ? a.y : c.y : b.y < c.y ? b.y : c.y,\n    maxTX = a.x > b.x ? a.x > c.x ? a.x : c.x : b.x > c.x ? b.x : c.x,\n    maxTY = a.y > b.y ? a.y > c.y ? a.y : c.y : b.y > c.y ? b.y : c.y;\n\n  // z-order range for the current triangle bbox;\n  var minZ = zOrder(minTX, minTY, minX, minY, invSize),\n    maxZ = zOrder(maxTX, maxTY, minX, minY, invSize);\n  var p = ear.prevZ,\n    n = ear.nextZ;\n\n  // look for points inside the triangle in both directions\n  while (p && p.z >= minZ && n && n.z <= maxZ) {\n    if (p !== ear.prev && p !== ear.next && pointInTriangle(a.x, a.y, b.x, b.y, c.x, c.y, p.x, p.y) && area(p.prev, p, p.next) >= 0) return false;\n    p = p.prevZ;\n    if (n !== ear.prev && n !== ear.next && pointInTriangle(a.x, a.y, b.x, b.y, c.x, c.y, n.x, n.y) && area(n.prev, n, n.next) >= 0) return false;\n    n = n.nextZ;\n  }\n\n  // look for remaining points in decreasing z-order\n  while (p && p.z >= minZ) {\n    if (p !== ear.prev && p !== ear.next && pointInTriangle(a.x, a.y, b.x, b.y, c.x, c.y, p.x, p.y) && area(p.prev, p, p.next) >= 0) return false;\n    p = p.prevZ;\n  }\n\n  // look for remaining points in increasing z-order\n  while (n && n.z <= maxZ) {\n    if (n !== ear.prev && n !== ear.next && pointInTriangle(a.x, a.y, b.x, b.y, c.x, c.y, n.x, n.y) && area(n.prev, n, n.next) >= 0) return false;\n    n = n.nextZ;\n  }\n  return true;\n}\n\n// go through all polygon nodes and cure small local self-intersections\nfunction cureLocalIntersections(start, triangles, dim) {\n  var p = start;\n  do {\n    var a = p.prev,\n      b = p.next.next;\n    if (!equals(a, b) && intersects(a, p, p.next, b) && locallyInside(a, b) && locallyInside(b, a)) {\n      triangles.push(a.i / dim);\n      triangles.push(p.i / dim);\n      triangles.push(b.i / dim);\n\n      // remove two nodes involved\n      removeNode(p);\n      removeNode(p.next);\n      p = start = b;\n    }\n    p = p.next;\n  } while (p !== start);\n  return filterPoints(p);\n}\n\n// try splitting polygon into two and triangulate them independently\nfunction splitEarcut(start, triangles, dim, minX, minY, invSize) {\n  // look for a valid diagonal that divides the polygon into two\n  var a = start;\n  do {\n    var b = a.next.next;\n    while (b !== a.prev) {\n      if (a.i !== b.i && isValidDiagonal(a, b)) {\n        // split the polygon in two by the diagonal\n        var c = splitPolygon(a, b);\n\n        // filter colinear points around the cuts\n        a = filterPoints(a, a.next);\n        c = filterPoints(c, c.next);\n\n        // run earcut on each half\n        earcutLinked(a, triangles, dim, minX, minY, invSize);\n        earcutLinked(c, triangles, dim, minX, minY, invSize);\n        return;\n      }\n      b = b.next;\n    }\n    a = a.next;\n  } while (a !== start);\n}\n\n// link every hole into the outer loop, producing a single-ring polygon without holes\nfunction eliminateHoles(data, holeIndices, outerNode, dim) {\n  var queue = [],\n    i,\n    len,\n    start,\n    end,\n    list;\n  for (i = 0, len = holeIndices.length; i < len; i++) {\n    start = holeIndices[i] * dim;\n    end = i < len - 1 ? holeIndices[i + 1] * dim : data.length;\n    list = linkedList(data, start, end, dim, false);\n    if (list === list.next) list.steiner = true;\n    queue.push(getLeftmost(list));\n  }\n  queue.sort(compareX);\n\n  // process holes from left to right\n  for (i = 0; i < queue.length; i++) {\n    outerNode = eliminateHole(queue[i], outerNode);\n    outerNode = filterPoints(outerNode, outerNode.next);\n  }\n  return outerNode;\n}\nfunction compareX(a, b) {\n  return a.x - b.x;\n}\n\n// find a bridge between vertices that connects hole with an outer ring and and link it\nfunction eliminateHole(hole, outerNode) {\n  var bridge = findHoleBridge(hole, outerNode);\n  if (!bridge) {\n    return outerNode;\n  }\n  var bridgeReverse = splitPolygon(bridge, hole);\n\n  // filter collinear points around the cuts\n  var filteredBridge = filterPoints(bridge, bridge.next);\n  filterPoints(bridgeReverse, bridgeReverse.next);\n\n  // Check if input node was removed by the filtering\n  return outerNode === bridge ? filteredBridge : outerNode;\n}\n\n// David Eberly's algorithm for finding a bridge between hole and outer polygon\nfunction findHoleBridge(hole, outerNode) {\n  var p = outerNode,\n    hx = hole.x,\n    hy = hole.y,\n    qx = -Infinity,\n    m;\n\n  // find a segment intersected by a ray from the hole's leftmost point to the left;\n  // segment's endpoint with lesser x will be potential connection point\n  do {\n    if (hy <= p.y && hy >= p.next.y && p.next.y !== p.y) {\n      var x = p.x + (hy - p.y) * (p.next.x - p.x) / (p.next.y - p.y);\n      if (x <= hx && x > qx) {\n        qx = x;\n        if (x === hx) {\n          if (hy === p.y) return p;\n          if (hy === p.next.y) return p.next;\n        }\n        m = p.x < p.next.x ? p : p.next;\n      }\n    }\n    p = p.next;\n  } while (p !== outerNode);\n  if (!m) return null;\n  if (hx === qx) return m; // hole touches outer segment; pick leftmost endpoint\n\n  // look for points inside the triangle of hole point, segment intersection and endpoint;\n  // if there are no points found, we have a valid connection;\n  // otherwise choose the point of the minimum angle with the ray as connection point\n\n  var stop = m,\n    mx = m.x,\n    my = m.y,\n    tanMin = Infinity,\n    tan;\n  p = m;\n  do {\n    if (hx >= p.x && p.x >= mx && hx !== p.x && pointInTriangle(hy < my ? hx : qx, hy, mx, my, hy < my ? qx : hx, hy, p.x, p.y)) {\n      tan = Math.abs(hy - p.y) / (hx - p.x); // tangential\n\n      if (locallyInside(p, hole) && (tan < tanMin || tan === tanMin && (p.x > m.x || p.x === m.x && sectorContainsSector(m, p)))) {\n        m = p;\n        tanMin = tan;\n      }\n    }\n    p = p.next;\n  } while (p !== stop);\n  return m;\n}\n\n// whether sector in vertex m contains sector in vertex p in the same coordinates\nfunction sectorContainsSector(m, p) {\n  return area(m.prev, m, p.prev) < 0 && area(p.next, m, m.next) < 0;\n}\n\n// interlink polygon nodes in z-order\nfunction indexCurve(start, minX, minY, invSize) {\n  var p = start;\n  do {\n    if (p.z === null) p.z = zOrder(p.x, p.y, minX, minY, invSize);\n    p.prevZ = p.prev;\n    p.nextZ = p.next;\n    p = p.next;\n  } while (p !== start);\n  p.prevZ.nextZ = null;\n  p.prevZ = null;\n  sortLinked(p);\n}\n\n// Simon Tatham's linked list merge sort algorithm\n// http://www.chiark.greenend.org.uk/~sgtatham/algorithms/listsort.html\nfunction sortLinked(list) {\n  var i,\n    p,\n    q,\n    e,\n    tail,\n    numMerges,\n    pSize,\n    qSize,\n    inSize = 1;\n  do {\n    p = list;\n    list = null;\n    tail = null;\n    numMerges = 0;\n    while (p) {\n      numMerges++;\n      q = p;\n      pSize = 0;\n      for (i = 0; i < inSize; i++) {\n        pSize++;\n        q = q.nextZ;\n        if (!q) break;\n      }\n      qSize = inSize;\n      while (pSize > 0 || qSize > 0 && q) {\n        if (pSize !== 0 && (qSize === 0 || !q || p.z <= q.z)) {\n          e = p;\n          p = p.nextZ;\n          pSize--;\n        } else {\n          e = q;\n          q = q.nextZ;\n          qSize--;\n        }\n        if (tail) tail.nextZ = e;else list = e;\n        e.prevZ = tail;\n        tail = e;\n      }\n      p = q;\n    }\n    tail.nextZ = null;\n    inSize *= 2;\n  } while (numMerges > 1);\n  return list;\n}\n\n// z-order of a point given coords and inverse of the longer side of data bbox\nfunction zOrder(x, y, minX, minY, invSize) {\n  // coords are transformed into non-negative 15-bit integer range\n  x = 32767 * (x - minX) * invSize;\n  y = 32767 * (y - minY) * invSize;\n  x = (x | x << 8) & 0x00FF00FF;\n  x = (x | x << 4) & 0x0F0F0F0F;\n  x = (x | x << 2) & 0x33333333;\n  x = (x | x << 1) & 0x55555555;\n  y = (y | y << 8) & 0x00FF00FF;\n  y = (y | y << 4) & 0x0F0F0F0F;\n  y = (y | y << 2) & 0x33333333;\n  y = (y | y << 1) & 0x55555555;\n  return x | y << 1;\n}\n\n// find the leftmost node of a polygon ring\nfunction getLeftmost(start) {\n  var p = start,\n    leftmost = start;\n  do {\n    if (p.x < leftmost.x || p.x === leftmost.x && p.y < leftmost.y) leftmost = p;\n    p = p.next;\n  } while (p !== start);\n  return leftmost;\n}\n\n// check if a point lies within a convex triangle\nfunction pointInTriangle(ax, ay, bx, by, cx, cy, px, py) {\n  return (cx - px) * (ay - py) - (ax - px) * (cy - py) >= 0 && (ax - px) * (by - py) - (bx - px) * (ay - py) >= 0 && (bx - px) * (cy - py) - (cx - px) * (by - py) >= 0;\n}\n\n// check if a diagonal between two polygon nodes is valid (lies in polygon interior)\nfunction isValidDiagonal(a, b) {\n  return a.next.i !== b.i && a.prev.i !== b.i && !intersectsPolygon(a, b) && (\n  // dones't intersect other edges\n  locallyInside(a, b) && locallyInside(b, a) && middleInside(a, b) && (\n  // locally visible\n  area(a.prev, a, b.prev) || area(a, b.prev, b)) ||\n  // does not create opposite-facing sectors\n  equals(a, b) && area(a.prev, a, a.next) > 0 && area(b.prev, b, b.next) > 0); // special zero-length case\n}\n\n// signed area of a triangle\nfunction area(p, q, r) {\n  return (q.y - p.y) * (r.x - q.x) - (q.x - p.x) * (r.y - q.y);\n}\n\n// check if two points are equal\nfunction equals(p1, p2) {\n  return p1.x === p2.x && p1.y === p2.y;\n}\n\n// check if two segments intersect\nfunction intersects(p1, q1, p2, q2) {\n  var o1 = sign(area(p1, q1, p2));\n  var o2 = sign(area(p1, q1, q2));\n  var o3 = sign(area(p2, q2, p1));\n  var o4 = sign(area(p2, q2, q1));\n  if (o1 !== o2 && o3 !== o4) return true; // general case\n\n  if (o1 === 0 && onSegment(p1, p2, q1)) return true; // p1, q1 and p2 are collinear and p2 lies on p1q1\n  if (o2 === 0 && onSegment(p1, q2, q1)) return true; // p1, q1 and q2 are collinear and q2 lies on p1q1\n  if (o3 === 0 && onSegment(p2, p1, q2)) return true; // p2, q2 and p1 are collinear and p1 lies on p2q2\n  if (o4 === 0 && onSegment(p2, q1, q2)) return true; // p2, q2 and q1 are collinear and q1 lies on p2q2\n\n  return false;\n}\n\n// for collinear points p, q, r, check if point q lies on segment pr\nfunction onSegment(p, q, r) {\n  return q.x <= Math.max(p.x, r.x) && q.x >= Math.min(p.x, r.x) && q.y <= Math.max(p.y, r.y) && q.y >= Math.min(p.y, r.y);\n}\nfunction sign(num) {\n  return num > 0 ? 1 : num < 0 ? -1 : 0;\n}\n\n// check if a polygon diagonal intersects any polygon segments\nfunction intersectsPolygon(a, b) {\n  var p = a;\n  do {\n    if (p.i !== a.i && p.next.i !== a.i && p.i !== b.i && p.next.i !== b.i && intersects(p, p.next, a, b)) return true;\n    p = p.next;\n  } while (p !== a);\n  return false;\n}\n\n// check if a polygon diagonal is locally inside the polygon\nfunction locallyInside(a, b) {\n  return area(a.prev, a, a.next) < 0 ? area(a, b, a.next) >= 0 && area(a, a.prev, b) >= 0 : area(a, b, a.prev) < 0 || area(a, a.next, b) < 0;\n}\n\n// check if the middle point of a polygon diagonal is inside the polygon\nfunction middleInside(a, b) {\n  var p = a,\n    inside = false,\n    px = (a.x + b.x) / 2,\n    py = (a.y + b.y) / 2;\n  do {\n    if (p.y > py !== p.next.y > py && p.next.y !== p.y && px < (p.next.x - p.x) * (py - p.y) / (p.next.y - p.y) + p.x) inside = !inside;\n    p = p.next;\n  } while (p !== a);\n  return inside;\n}\n\n// link two polygon vertices with a bridge; if the vertices belong to the same ring, it splits polygon into two;\n// if one belongs to the outer ring and another to a hole, it merges it into a single ring\nfunction splitPolygon(a, b) {\n  var a2 = new Node(a.i, a.x, a.y),\n    b2 = new Node(b.i, b.x, b.y),\n    an = a.next,\n    bp = b.prev;\n  a.next = b;\n  b.prev = a;\n  a2.next = an;\n  an.prev = a2;\n  b2.next = a2;\n  a2.prev = b2;\n  bp.next = b2;\n  b2.prev = bp;\n  return b2;\n}\n\n// create a node and optionally link it with previous one (in a circular doubly linked list)\nfunction insertNode(i, x, y, last) {\n  var p = new Node(i, x, y);\n  if (!last) {\n    p.prev = p;\n    p.next = p;\n  } else {\n    p.next = last.next;\n    p.prev = last;\n    last.next.prev = p;\n    last.next = p;\n  }\n  return p;\n}\nfunction removeNode(p) {\n  p.next.prev = p.prev;\n  p.prev.next = p.next;\n  if (p.prevZ) p.prevZ.nextZ = p.nextZ;\n  if (p.nextZ) p.nextZ.prevZ = p.prevZ;\n}\nfunction Node(i, x, y) {\n  // vertex index in coordinates array\n  this.i = i;\n\n  // vertex coordinates\n  this.x = x;\n  this.y = y;\n\n  // previous and next vertex nodes in a polygon ring\n  this.prev = null;\n  this.next = null;\n\n  // z-order curve value\n  this.z = null;\n\n  // previous and next nodes in z-order\n  this.prevZ = null;\n  this.nextZ = null;\n\n  // indicates whether this is a steiner point\n  this.steiner = false;\n}\n\n// return a percentage difference between the polygon area and its triangulation area;\n// used to verify correctness of triangulation\nearcut.deviation = function (data, holeIndices, dim, triangles) {\n  var hasHoles = holeIndices && holeIndices.length;\n  var outerLen = hasHoles ? holeIndices[0] * dim : data.length;\n  var polygonArea = Math.abs(signedArea(data, 0, outerLen, dim));\n  if (hasHoles) {\n    for (var i = 0, len = holeIndices.length; i < len; i++) {\n      var start = holeIndices[i] * dim;\n      var end = i < len - 1 ? holeIndices[i + 1] * dim : data.length;\n      polygonArea -= Math.abs(signedArea(data, start, end, dim));\n    }\n  }\n  var trianglesArea = 0;\n  for (i = 0; i < triangles.length; i += 3) {\n    var a = triangles[i] * dim;\n    var b = triangles[i + 1] * dim;\n    var c = triangles[i + 2] * dim;\n    trianglesArea += Math.abs((data[a] - data[c]) * (data[b + 1] - data[a + 1]) - (data[a] - data[b]) * (data[c + 1] - data[a + 1]));\n  }\n  return polygonArea === 0 && trianglesArea === 0 ? 0 : Math.abs((trianglesArea - polygonArea) / polygonArea);\n};\nfunction signedArea(data, start, end, dim) {\n  var sum = 0;\n  for (var i = start, j = end - dim; i < end; i += dim) {\n    sum += (data[j] - data[i]) * (data[i + 1] + data[j + 1]);\n    j = i;\n  }\n  return sum;\n}\n\n// turn a polygon in a multi-dimensional array form (e.g. as in GeoJSON) into a form Earcut accepts\nearcut.flatten = function (data) {\n  var dim = data[0][0].length,\n    result = {\n      vertices: [],\n      holes: [],\n      dimensions: dim\n    },\n    holeIndex = 0;\n  for (var i = 0; i < data.length; i++) {\n    for (var j = 0; j < data[i].length; j++) {\n      for (var d = 0; d < dim; d++) result.vertices.push(data[i][j][d]);\n    }\n    if (i > 0) {\n      holeIndex += data[i - 1].length;\n      result.holes.push(holeIndex);\n    }\n  }\n  return result;\n};","map":{"version":3,"names":["module","exports","earcut","default","data","holeIndices","dim","hasHoles","length","outerLen","outerNode","linkedList","triangles","next","prev","minX","minY","maxX","maxY","x","y","invSize","eliminateHoles","i","Math","max","earcutLinked","start","end","clockwise","last","signedArea","insertNode","equals","removeNode","filterPoints","p","again","steiner","area","ear","pass","indexCurve","stop","isEarHashed","isEar","push","cureLocalIntersections","splitEarcut","a","b","c","pointInTriangle","minTX","minTY","maxTX","maxTY","minZ","zOrder","maxZ","prevZ","n","nextZ","z","intersects","locallyInside","isValidDiagonal","splitPolygon","queue","len","list","getLeftmost","sort","compareX","eliminateHole","hole","bridge","findHoleBridge","bridgeReverse","filteredBridge","hx","hy","qx","Infinity","m","mx","my","tanMin","tan","abs","sectorContainsSector","sortLinked","q","e","tail","numMerges","pSize","qSize","inSize","leftmost","ax","ay","bx","by","cx","cy","px","py","intersectsPolygon","middleInside","r","p1","p2","q1","q2","o1","sign","o2","o3","o4","onSegment","min","num","inside","a2","Node","b2","an","bp","deviation","polygonArea","trianglesArea","sum","j","flatten","result","vertices","holes","dimensions","holeIndex","d"],"sources":["/Users/qzheng/Documents/webroot/annotation_tools/node_modules/earcut/src/earcut.js"],"sourcesContent":["'use strict';\n\nmodule.exports = earcut;\nmodule.exports.default = earcut;\n\nfunction earcut(data, holeIndices, dim) {\n\n    dim = dim || 2;\n\n    var hasHoles = holeIndices && holeIndices.length,\n        outerLen = hasHoles ? holeIndices[0] * dim : data.length,\n        outerNode = linkedList(data, 0, outerLen, dim, true),\n        triangles = [];\n\n    if (!outerNode || outerNode.next === outerNode.prev) return triangles;\n\n    var minX, minY, maxX, maxY, x, y, invSize;\n\n    if (hasHoles) outerNode = eliminateHoles(data, holeIndices, outerNode, dim);\n\n    // if the shape is not too simple, we'll use z-order curve hash later; calculate polygon bbox\n    if (data.length > 80 * dim) {\n        minX = maxX = data[0];\n        minY = maxY = data[1];\n\n        for (var i = dim; i < outerLen; i += dim) {\n            x = data[i];\n            y = data[i + 1];\n            if (x < minX) minX = x;\n            if (y < minY) minY = y;\n            if (x > maxX) maxX = x;\n            if (y > maxY) maxY = y;\n        }\n\n        // minX, minY and invSize are later used to transform coords into integers for z-order calculation\n        invSize = Math.max(maxX - minX, maxY - minY);\n        invSize = invSize !== 0 ? 1 / invSize : 0;\n    }\n\n    earcutLinked(outerNode, triangles, dim, minX, minY, invSize);\n\n    return triangles;\n}\n\n// create a circular doubly linked list from polygon points in the specified winding order\nfunction linkedList(data, start, end, dim, clockwise) {\n    var i, last;\n\n    if (clockwise === (signedArea(data, start, end, dim) > 0)) {\n        for (i = start; i < end; i += dim) last = insertNode(i, data[i], data[i + 1], last);\n    } else {\n        for (i = end - dim; i >= start; i -= dim) last = insertNode(i, data[i], data[i + 1], last);\n    }\n\n    if (last && equals(last, last.next)) {\n        removeNode(last);\n        last = last.next;\n    }\n\n    return last;\n}\n\n// eliminate colinear or duplicate points\nfunction filterPoints(start, end) {\n    if (!start) return start;\n    if (!end) end = start;\n\n    var p = start,\n        again;\n    do {\n        again = false;\n\n        if (!p.steiner && (equals(p, p.next) || area(p.prev, p, p.next) === 0)) {\n            removeNode(p);\n            p = end = p.prev;\n            if (p === p.next) break;\n            again = true;\n\n        } else {\n            p = p.next;\n        }\n    } while (again || p !== end);\n\n    return end;\n}\n\n// main ear slicing loop which triangulates a polygon (given as a linked list)\nfunction earcutLinked(ear, triangles, dim, minX, minY, invSize, pass) {\n    if (!ear) return;\n\n    // interlink polygon nodes in z-order\n    if (!pass && invSize) indexCurve(ear, minX, minY, invSize);\n\n    var stop = ear,\n        prev, next;\n\n    // iterate through ears, slicing them one by one\n    while (ear.prev !== ear.next) {\n        prev = ear.prev;\n        next = ear.next;\n\n        if (invSize ? isEarHashed(ear, minX, minY, invSize) : isEar(ear)) {\n            // cut off the triangle\n            triangles.push(prev.i / dim);\n            triangles.push(ear.i / dim);\n            triangles.push(next.i / dim);\n\n            removeNode(ear);\n\n            // skipping the next vertex leads to less sliver triangles\n            ear = next.next;\n            stop = next.next;\n\n            continue;\n        }\n\n        ear = next;\n\n        // if we looped through the whole remaining polygon and can't find any more ears\n        if (ear === stop) {\n            // try filtering points and slicing again\n            if (!pass) {\n                earcutLinked(filterPoints(ear), triangles, dim, minX, minY, invSize, 1);\n\n            // if this didn't work, try curing all small self-intersections locally\n            } else if (pass === 1) {\n                ear = cureLocalIntersections(filterPoints(ear), triangles, dim);\n                earcutLinked(ear, triangles, dim, minX, minY, invSize, 2);\n\n            // as a last resort, try splitting the remaining polygon into two\n            } else if (pass === 2) {\n                splitEarcut(ear, triangles, dim, minX, minY, invSize);\n            }\n\n            break;\n        }\n    }\n}\n\n// check whether a polygon node forms a valid ear with adjacent nodes\nfunction isEar(ear) {\n    var a = ear.prev,\n        b = ear,\n        c = ear.next;\n\n    if (area(a, b, c) >= 0) return false; // reflex, can't be an ear\n\n    // now make sure we don't have other points inside the potential ear\n    var p = ear.next.next;\n\n    while (p !== ear.prev) {\n        if (pointInTriangle(a.x, a.y, b.x, b.y, c.x, c.y, p.x, p.y) &&\n            area(p.prev, p, p.next) >= 0) return false;\n        p = p.next;\n    }\n\n    return true;\n}\n\nfunction isEarHashed(ear, minX, minY, invSize) {\n    var a = ear.prev,\n        b = ear,\n        c = ear.next;\n\n    if (area(a, b, c) >= 0) return false; // reflex, can't be an ear\n\n    // triangle bbox; min & max are calculated like this for speed\n    var minTX = a.x < b.x ? (a.x < c.x ? a.x : c.x) : (b.x < c.x ? b.x : c.x),\n        minTY = a.y < b.y ? (a.y < c.y ? a.y : c.y) : (b.y < c.y ? b.y : c.y),\n        maxTX = a.x > b.x ? (a.x > c.x ? a.x : c.x) : (b.x > c.x ? b.x : c.x),\n        maxTY = a.y > b.y ? (a.y > c.y ? a.y : c.y) : (b.y > c.y ? b.y : c.y);\n\n    // z-order range for the current triangle bbox;\n    var minZ = zOrder(minTX, minTY, minX, minY, invSize),\n        maxZ = zOrder(maxTX, maxTY, minX, minY, invSize);\n\n    var p = ear.prevZ,\n        n = ear.nextZ;\n\n    // look for points inside the triangle in both directions\n    while (p && p.z >= minZ && n && n.z <= maxZ) {\n        if (p !== ear.prev && p !== ear.next &&\n            pointInTriangle(a.x, a.y, b.x, b.y, c.x, c.y, p.x, p.y) &&\n            area(p.prev, p, p.next) >= 0) return false;\n        p = p.prevZ;\n\n        if (n !== ear.prev && n !== ear.next &&\n            pointInTriangle(a.x, a.y, b.x, b.y, c.x, c.y, n.x, n.y) &&\n            area(n.prev, n, n.next) >= 0) return false;\n        n = n.nextZ;\n    }\n\n    // look for remaining points in decreasing z-order\n    while (p && p.z >= minZ) {\n        if (p !== ear.prev && p !== ear.next &&\n            pointInTriangle(a.x, a.y, b.x, b.y, c.x, c.y, p.x, p.y) &&\n            area(p.prev, p, p.next) >= 0) return false;\n        p = p.prevZ;\n    }\n\n    // look for remaining points in increasing z-order\n    while (n && n.z <= maxZ) {\n        if (n !== ear.prev && n !== ear.next &&\n            pointInTriangle(a.x, a.y, b.x, b.y, c.x, c.y, n.x, n.y) &&\n            area(n.prev, n, n.next) >= 0) return false;\n        n = n.nextZ;\n    }\n\n    return true;\n}\n\n// go through all polygon nodes and cure small local self-intersections\nfunction cureLocalIntersections(start, triangles, dim) {\n    var p = start;\n    do {\n        var a = p.prev,\n            b = p.next.next;\n\n        if (!equals(a, b) && intersects(a, p, p.next, b) && locallyInside(a, b) && locallyInside(b, a)) {\n\n            triangles.push(a.i / dim);\n            triangles.push(p.i / dim);\n            triangles.push(b.i / dim);\n\n            // remove two nodes involved\n            removeNode(p);\n            removeNode(p.next);\n\n            p = start = b;\n        }\n        p = p.next;\n    } while (p !== start);\n\n    return filterPoints(p);\n}\n\n// try splitting polygon into two and triangulate them independently\nfunction splitEarcut(start, triangles, dim, minX, minY, invSize) {\n    // look for a valid diagonal that divides the polygon into two\n    var a = start;\n    do {\n        var b = a.next.next;\n        while (b !== a.prev) {\n            if (a.i !== b.i && isValidDiagonal(a, b)) {\n                // split the polygon in two by the diagonal\n                var c = splitPolygon(a, b);\n\n                // filter colinear points around the cuts\n                a = filterPoints(a, a.next);\n                c = filterPoints(c, c.next);\n\n                // run earcut on each half\n                earcutLinked(a, triangles, dim, minX, minY, invSize);\n                earcutLinked(c, triangles, dim, minX, minY, invSize);\n                return;\n            }\n            b = b.next;\n        }\n        a = a.next;\n    } while (a !== start);\n}\n\n// link every hole into the outer loop, producing a single-ring polygon without holes\nfunction eliminateHoles(data, holeIndices, outerNode, dim) {\n    var queue = [],\n        i, len, start, end, list;\n\n    for (i = 0, len = holeIndices.length; i < len; i++) {\n        start = holeIndices[i] * dim;\n        end = i < len - 1 ? holeIndices[i + 1] * dim : data.length;\n        list = linkedList(data, start, end, dim, false);\n        if (list === list.next) list.steiner = true;\n        queue.push(getLeftmost(list));\n    }\n\n    queue.sort(compareX);\n\n    // process holes from left to right\n    for (i = 0; i < queue.length; i++) {\n        outerNode = eliminateHole(queue[i], outerNode);\n        outerNode = filterPoints(outerNode, outerNode.next);\n    }\n\n    return outerNode;\n}\n\nfunction compareX(a, b) {\n    return a.x - b.x;\n}\n\n// find a bridge between vertices that connects hole with an outer ring and and link it\nfunction eliminateHole(hole, outerNode) {\n    var bridge = findHoleBridge(hole, outerNode);\n    if (!bridge) {\n        return outerNode;\n    }\n\n    var bridgeReverse = splitPolygon(bridge, hole);\n\n    // filter collinear points around the cuts\n    var filteredBridge = filterPoints(bridge, bridge.next);\n    filterPoints(bridgeReverse, bridgeReverse.next);\n\n    // Check if input node was removed by the filtering\n    return outerNode === bridge ? filteredBridge : outerNode;\n}\n\n// David Eberly's algorithm for finding a bridge between hole and outer polygon\nfunction findHoleBridge(hole, outerNode) {\n    var p = outerNode,\n        hx = hole.x,\n        hy = hole.y,\n        qx = -Infinity,\n        m;\n\n    // find a segment intersected by a ray from the hole's leftmost point to the left;\n    // segment's endpoint with lesser x will be potential connection point\n    do {\n        if (hy <= p.y && hy >= p.next.y && p.next.y !== p.y) {\n            var x = p.x + (hy - p.y) * (p.next.x - p.x) / (p.next.y - p.y);\n            if (x <= hx && x > qx) {\n                qx = x;\n                if (x === hx) {\n                    if (hy === p.y) return p;\n                    if (hy === p.next.y) return p.next;\n                }\n                m = p.x < p.next.x ? p : p.next;\n            }\n        }\n        p = p.next;\n    } while (p !== outerNode);\n\n    if (!m) return null;\n\n    if (hx === qx) return m; // hole touches outer segment; pick leftmost endpoint\n\n    // look for points inside the triangle of hole point, segment intersection and endpoint;\n    // if there are no points found, we have a valid connection;\n    // otherwise choose the point of the minimum angle with the ray as connection point\n\n    var stop = m,\n        mx = m.x,\n        my = m.y,\n        tanMin = Infinity,\n        tan;\n\n    p = m;\n\n    do {\n        if (hx >= p.x && p.x >= mx && hx !== p.x &&\n                pointInTriangle(hy < my ? hx : qx, hy, mx, my, hy < my ? qx : hx, hy, p.x, p.y)) {\n\n            tan = Math.abs(hy - p.y) / (hx - p.x); // tangential\n\n            if (locallyInside(p, hole) &&\n                (tan < tanMin || (tan === tanMin && (p.x > m.x || (p.x === m.x && sectorContainsSector(m, p)))))) {\n                m = p;\n                tanMin = tan;\n            }\n        }\n\n        p = p.next;\n    } while (p !== stop);\n\n    return m;\n}\n\n// whether sector in vertex m contains sector in vertex p in the same coordinates\nfunction sectorContainsSector(m, p) {\n    return area(m.prev, m, p.prev) < 0 && area(p.next, m, m.next) < 0;\n}\n\n// interlink polygon nodes in z-order\nfunction indexCurve(start, minX, minY, invSize) {\n    var p = start;\n    do {\n        if (p.z === null) p.z = zOrder(p.x, p.y, minX, minY, invSize);\n        p.prevZ = p.prev;\n        p.nextZ = p.next;\n        p = p.next;\n    } while (p !== start);\n\n    p.prevZ.nextZ = null;\n    p.prevZ = null;\n\n    sortLinked(p);\n}\n\n// Simon Tatham's linked list merge sort algorithm\n// http://www.chiark.greenend.org.uk/~sgtatham/algorithms/listsort.html\nfunction sortLinked(list) {\n    var i, p, q, e, tail, numMerges, pSize, qSize,\n        inSize = 1;\n\n    do {\n        p = list;\n        list = null;\n        tail = null;\n        numMerges = 0;\n\n        while (p) {\n            numMerges++;\n            q = p;\n            pSize = 0;\n            for (i = 0; i < inSize; i++) {\n                pSize++;\n                q = q.nextZ;\n                if (!q) break;\n            }\n            qSize = inSize;\n\n            while (pSize > 0 || (qSize > 0 && q)) {\n\n                if (pSize !== 0 && (qSize === 0 || !q || p.z <= q.z)) {\n                    e = p;\n                    p = p.nextZ;\n                    pSize--;\n                } else {\n                    e = q;\n                    q = q.nextZ;\n                    qSize--;\n                }\n\n                if (tail) tail.nextZ = e;\n                else list = e;\n\n                e.prevZ = tail;\n                tail = e;\n            }\n\n            p = q;\n        }\n\n        tail.nextZ = null;\n        inSize *= 2;\n\n    } while (numMerges > 1);\n\n    return list;\n}\n\n// z-order of a point given coords and inverse of the longer side of data bbox\nfunction zOrder(x, y, minX, minY, invSize) {\n    // coords are transformed into non-negative 15-bit integer range\n    x = 32767 * (x - minX) * invSize;\n    y = 32767 * (y - minY) * invSize;\n\n    x = (x | (x << 8)) & 0x00FF00FF;\n    x = (x | (x << 4)) & 0x0F0F0F0F;\n    x = (x | (x << 2)) & 0x33333333;\n    x = (x | (x << 1)) & 0x55555555;\n\n    y = (y | (y << 8)) & 0x00FF00FF;\n    y = (y | (y << 4)) & 0x0F0F0F0F;\n    y = (y | (y << 2)) & 0x33333333;\n    y = (y | (y << 1)) & 0x55555555;\n\n    return x | (y << 1);\n}\n\n// find the leftmost node of a polygon ring\nfunction getLeftmost(start) {\n    var p = start,\n        leftmost = start;\n    do {\n        if (p.x < leftmost.x || (p.x === leftmost.x && p.y < leftmost.y)) leftmost = p;\n        p = p.next;\n    } while (p !== start);\n\n    return leftmost;\n}\n\n// check if a point lies within a convex triangle\nfunction pointInTriangle(ax, ay, bx, by, cx, cy, px, py) {\n    return (cx - px) * (ay - py) - (ax - px) * (cy - py) >= 0 &&\n           (ax - px) * (by - py) - (bx - px) * (ay - py) >= 0 &&\n           (bx - px) * (cy - py) - (cx - px) * (by - py) >= 0;\n}\n\n// check if a diagonal between two polygon nodes is valid (lies in polygon interior)\nfunction isValidDiagonal(a, b) {\n    return a.next.i !== b.i && a.prev.i !== b.i && !intersectsPolygon(a, b) && // dones't intersect other edges\n           (locallyInside(a, b) && locallyInside(b, a) && middleInside(a, b) && // locally visible\n            (area(a.prev, a, b.prev) || area(a, b.prev, b)) || // does not create opposite-facing sectors\n            equals(a, b) && area(a.prev, a, a.next) > 0 && area(b.prev, b, b.next) > 0); // special zero-length case\n}\n\n// signed area of a triangle\nfunction area(p, q, r) {\n    return (q.y - p.y) * (r.x - q.x) - (q.x - p.x) * (r.y - q.y);\n}\n\n// check if two points are equal\nfunction equals(p1, p2) {\n    return p1.x === p2.x && p1.y === p2.y;\n}\n\n// check if two segments intersect\nfunction intersects(p1, q1, p2, q2) {\n    var o1 = sign(area(p1, q1, p2));\n    var o2 = sign(area(p1, q1, q2));\n    var o3 = sign(area(p2, q2, p1));\n    var o4 = sign(area(p2, q2, q1));\n\n    if (o1 !== o2 && o3 !== o4) return true; // general case\n\n    if (o1 === 0 && onSegment(p1, p2, q1)) return true; // p1, q1 and p2 are collinear and p2 lies on p1q1\n    if (o2 === 0 && onSegment(p1, q2, q1)) return true; // p1, q1 and q2 are collinear and q2 lies on p1q1\n    if (o3 === 0 && onSegment(p2, p1, q2)) return true; // p2, q2 and p1 are collinear and p1 lies on p2q2\n    if (o4 === 0 && onSegment(p2, q1, q2)) return true; // p2, q2 and q1 are collinear and q1 lies on p2q2\n\n    return false;\n}\n\n// for collinear points p, q, r, check if point q lies on segment pr\nfunction onSegment(p, q, r) {\n    return q.x <= Math.max(p.x, r.x) && q.x >= Math.min(p.x, r.x) && q.y <= Math.max(p.y, r.y) && q.y >= Math.min(p.y, r.y);\n}\n\nfunction sign(num) {\n    return num > 0 ? 1 : num < 0 ? -1 : 0;\n}\n\n// check if a polygon diagonal intersects any polygon segments\nfunction intersectsPolygon(a, b) {\n    var p = a;\n    do {\n        if (p.i !== a.i && p.next.i !== a.i && p.i !== b.i && p.next.i !== b.i &&\n                intersects(p, p.next, a, b)) return true;\n        p = p.next;\n    } while (p !== a);\n\n    return false;\n}\n\n// check if a polygon diagonal is locally inside the polygon\nfunction locallyInside(a, b) {\n    return area(a.prev, a, a.next) < 0 ?\n        area(a, b, a.next) >= 0 && area(a, a.prev, b) >= 0 :\n        area(a, b, a.prev) < 0 || area(a, a.next, b) < 0;\n}\n\n// check if the middle point of a polygon diagonal is inside the polygon\nfunction middleInside(a, b) {\n    var p = a,\n        inside = false,\n        px = (a.x + b.x) / 2,\n        py = (a.y + b.y) / 2;\n    do {\n        if (((p.y > py) !== (p.next.y > py)) && p.next.y !== p.y &&\n                (px < (p.next.x - p.x) * (py - p.y) / (p.next.y - p.y) + p.x))\n            inside = !inside;\n        p = p.next;\n    } while (p !== a);\n\n    return inside;\n}\n\n// link two polygon vertices with a bridge; if the vertices belong to the same ring, it splits polygon into two;\n// if one belongs to the outer ring and another to a hole, it merges it into a single ring\nfunction splitPolygon(a, b) {\n    var a2 = new Node(a.i, a.x, a.y),\n        b2 = new Node(b.i, b.x, b.y),\n        an = a.next,\n        bp = b.prev;\n\n    a.next = b;\n    b.prev = a;\n\n    a2.next = an;\n    an.prev = a2;\n\n    b2.next = a2;\n    a2.prev = b2;\n\n    bp.next = b2;\n    b2.prev = bp;\n\n    return b2;\n}\n\n// create a node and optionally link it with previous one (in a circular doubly linked list)\nfunction insertNode(i, x, y, last) {\n    var p = new Node(i, x, y);\n\n    if (!last) {\n        p.prev = p;\n        p.next = p;\n\n    } else {\n        p.next = last.next;\n        p.prev = last;\n        last.next.prev = p;\n        last.next = p;\n    }\n    return p;\n}\n\nfunction removeNode(p) {\n    p.next.prev = p.prev;\n    p.prev.next = p.next;\n\n    if (p.prevZ) p.prevZ.nextZ = p.nextZ;\n    if (p.nextZ) p.nextZ.prevZ = p.prevZ;\n}\n\nfunction Node(i, x, y) {\n    // vertex index in coordinates array\n    this.i = i;\n\n    // vertex coordinates\n    this.x = x;\n    this.y = y;\n\n    // previous and next vertex nodes in a polygon ring\n    this.prev = null;\n    this.next = null;\n\n    // z-order curve value\n    this.z = null;\n\n    // previous and next nodes in z-order\n    this.prevZ = null;\n    this.nextZ = null;\n\n    // indicates whether this is a steiner point\n    this.steiner = false;\n}\n\n// return a percentage difference between the polygon area and its triangulation area;\n// used to verify correctness of triangulation\nearcut.deviation = function (data, holeIndices, dim, triangles) {\n    var hasHoles = holeIndices && holeIndices.length;\n    var outerLen = hasHoles ? holeIndices[0] * dim : data.length;\n\n    var polygonArea = Math.abs(signedArea(data, 0, outerLen, dim));\n    if (hasHoles) {\n        for (var i = 0, len = holeIndices.length; i < len; i++) {\n            var start = holeIndices[i] * dim;\n            var end = i < len - 1 ? holeIndices[i + 1] * dim : data.length;\n            polygonArea -= Math.abs(signedArea(data, start, end, dim));\n        }\n    }\n\n    var trianglesArea = 0;\n    for (i = 0; i < triangles.length; i += 3) {\n        var a = triangles[i] * dim;\n        var b = triangles[i + 1] * dim;\n        var c = triangles[i + 2] * dim;\n        trianglesArea += Math.abs(\n            (data[a] - data[c]) * (data[b + 1] - data[a + 1]) -\n            (data[a] - data[b]) * (data[c + 1] - data[a + 1]));\n    }\n\n    return polygonArea === 0 && trianglesArea === 0 ? 0 :\n        Math.abs((trianglesArea - polygonArea) / polygonArea);\n};\n\nfunction signedArea(data, start, end, dim) {\n    var sum = 0;\n    for (var i = start, j = end - dim; i < end; i += dim) {\n        sum += (data[j] - data[i]) * (data[i + 1] + data[j + 1]);\n        j = i;\n    }\n    return sum;\n}\n\n// turn a polygon in a multi-dimensional array form (e.g. as in GeoJSON) into a form Earcut accepts\nearcut.flatten = function (data) {\n    var dim = data[0][0].length,\n        result = {vertices: [], holes: [], dimensions: dim},\n        holeIndex = 0;\n\n    for (var i = 0; i < data.length; i++) {\n        for (var j = 0; j < data[i].length; j++) {\n            for (var d = 0; d < dim; d++) result.vertices.push(data[i][j][d]);\n        }\n        if (i > 0) {\n            holeIndex += data[i - 1].length;\n            result.holes.push(holeIndex);\n        }\n    }\n    return result;\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script"}