{"ast":null,"code":"var _jsxFileName = \"/Users/qzheng/Documents/webroot/annotation_tools/src/components/advertisement-annotation/index.jsx\";\nimport React, { forwardRef, useEffect, useImperativeHandle, useRef, useState } from 'react';\nimport screenfull from 'screenfull';\nimport { Base64 } from 'js-base64';\nimport { notification } from 'antd';\nimport AnnotationForm, { FPS } from './AnnotationForm';\nimport AnnotationCanvas, { getDeltaTime } from './AnnotationCanvas';\nimport AnnotationResults from './AnnotationResults';\nimport AutoSaver from '../common/AutoSaver';\nimport { randomColor, simpleClone } from './util';\nimport Fullscreen from '../common/icons/Fullscreen';\nimport Save from '../common/icons/Save';\nimport { isPreview, isReviewEditable, isAnnotationReadonly } from '../../utils/tool-mode';\nimport { setLocale } from './locale';\nnotification.config({\n  top: 60,\n  getContainer: () => document.getElementById('root')\n});\nconst useStateCb = function (init) {\n  const cbRef = useRef();\n  const [value, setValue] = useState(init);\n  useEffect(() => {\n    if (cbRef.current) cbRef.current(value);\n  }, [value]);\n  function setValueCb(val, cb) {\n    cbRef.current = cb;\n    setValue(val);\n  }\n  return {\n    value,\n    setValueCb\n  };\n};\nconst AdvertisementAnnotationApp = forwardRef((props, ref) => {\n  const [duration, setDuration] = useState();\n  const [currentIndex, setCurrentIndex] = useState();\n  const {\n    value: results,\n    setValueCb: setResults\n  } = useStateCb([]);\n  const {\n    value: advertisementName,\n    setValueCb: setAdvertisementName\n  } = useStateCb([]);\n  const [currentMode, setCurrentMode] = useState('edit');\n  const [currentTime, setCurrentTime] = useState(10);\n  const [playBackRate, setPlayBackRate] = useState(1);\n  const [advertisementType, setAdvertisementType] = useState([]);\n  const canvasRef = useRef();\n  const advertisementNameMap = useRef(new Map());\n  const saverRef = useRef();\n  let clk = null;\n  const toolName = 'advertisement-annotation';\n  useImperativeHandle(ref, () => ({\n    onSubmit,\n    submitReviews,\n    getReviews: submitReviews\n  }));\n  const playVideo = function (record) {\n    const {\n      current\n    } = canvasRef;\n    if (current && current.video) {\n      current.video.play();\n      if (!record) return;\n      if (record.start != null) current.video.currentTime = record.start;else current.video.currentTime = 0;\n      if (clk) clearInterval(clk);\n      clk = setInterval(() => {\n        if ((record.start || 0) > currentTime || (record.end || duration) <= currentTime) {\n          current.video.pause();\n          clearInterval(clk);\n        }\n      }, 1000 / FPS);\n    }\n  };\n  useEffect(() => {\n    const event = e => handleKeyDown(e);\n    document.addEventListener('keydown', event);\n    return () => {\n      document.removeEventListener('keydown', event);\n    };\n  }, [currentTime]);\n  useEffect(() => {\n    setLocale(props.locale);\n    initData();\n  }, []);\n  const initData = async () => {\n    try {\n      const res = await props.jobProxy.loadResult();\n      const newResults = (res === null || res === void 0 ? void 0 : res.results) || [];\n      const labelConfigString = Base64.decode(props.label_config);\n      const labelConfig = JSON.parse(labelConfigString);\n      const reviewRes = await props.jobProxy.loadReviews();\n      const reviews = (reviewRes === null || reviewRes === void 0 ? void 0 : reviewRes.reviews) || [];\n      reviews.forEach(({\n        key,\n        qaState,\n        qaReason,\n        qaComment\n      }) => {\n        const index = newResults.findIndex(i => i.key === key);\n        if (index >= 0) {\n          newResults[index] = {\n            ...newResults[index],\n            qaState,\n            qaReason,\n            qaComment\n          };\n        }\n      });\n      setResults(newResults);\n\n      // TODO: label config validation\n      advertisementNameMap.current = new Map();\n      setAdvertisementName(labelConfig.advertisementName);\n      setAdvertisementType(labelConfig.advertisementType);\n      labelConfig.advertisementName.forEach(item => {\n        advertisementNameMap.current.set(item.value, item.color);\n      });\n    } catch (e) {\n      console.log(e);\n    }\n    ;\n    setInterval(() => {\n      const {\n        current\n      } = canvasRef;\n      if (!(current === null || current === void 0 ? void 0 : current.video)) return;\n      const timeNow = parseFloat(current.video.currentTime.toFixed(3));\n      setCurrentTime(timeNow);\n      if (duration == null) setDuration(current.video.duration);\n    }, 1000 / FPS);\n  };\n  const onSubmit = (isSubmit = true) => {\n    var _saverRef$current;\n    validateResults(results, isSubmit);\n    (_saverRef$current = saverRef.current) === null || _saverRef$current === void 0 ? void 0 : _saverRef$current.disableLeaveCheck();\n    return props.jobProxy.saveResult({\n      results\n      // advertisementName,\n      // advertisementType,\n    }, isSubmit);\n  };\n  const handleSave = async () => {\n    if (isPreview(props.jobProxy.toolMode)) {\n      return;\n    }\n    try {\n      if (!isAnnotationReadonly(props.jobProxy.toolMode)) {\n        await onSubmit(false);\n      }\n      if (isReviewEditable(props.jobProxy.toolMode)) {\n        await submitReviews(false);\n      }\n      notification.success({\n        message: '保存成功'\n      });\n    } catch (e) {\n      notification.error({\n        message: '保存失败'\n      });\n    }\n  };\n  const submitReviews = (isSubmit = true) => {\n    var _saverRef$current2;\n    const reviews = results.map(r => ({\n      key: r.key,\n      qaState: r.qaState,\n      qaReason: r.qaReason,\n      qaComment: r.qaComment\n    }));\n    validateReviews(reviews, isSubmit);\n    (_saverRef$current2 = saverRef.current) === null || _saverRef$current2 === void 0 ? void 0 : _saverRef$current2.disableLeaveCheck();\n    return props.jobProxy.saveReviews({\n      reviews\n    }, isSubmit);\n  };\n  const validateReviews = (reviews, isSubmit) => {\n    const errorIds = {};\n    reviews.forEach(review => {\n      const errors = [];\n      if (review.qaState === 'rejected' && review.qaReason === null) {\n        errors.push('驳回原因');\n      }\n      if (errors.length > 0) {\n        errorIds[review.key] = errors;\n      }\n    });\n    if (Object.keys(errorIds).length > 0) {\n      const errMsg = Object.keys(errorIds).map(k => `ID: ${k} 缺: ${errorIds[k].join(', ')}`).join('; ');\n      if (isSubmit) {\n        notification.error({\n          message: '质检未完善',\n          description: errMsg\n        });\n        throw new Error(`请补全质检信息再提交 ID: ${Object.keys(errorIds)}`);\n      } else {\n        notification.warn({\n          message: '质检未完善',\n          description: errMsg\n        });\n      }\n    }\n  };\n  const validateResults = (res, isSubmit = false) => {\n    const isTypeValid = type => Array.isArray(type) && type.length > 0;\n    const isPositionValid = position => Array.isArray(position) && position.length > 0;\n    const isTimeValid = time => time !== null && time >= 0;\n    const errorIds = {};\n    res.forEach(result => {\n      const errors = [];\n      if (!result.name) {\n        errors.push('识别结果');\n      }\n      if (!isTimeValid(result.start)) {\n        errors.push('开始时间');\n      }\n      if (!isTimeValid(result.end)) {\n        errors.push('结束时间');\n      }\n      if (!isTypeValid(result.type)) {\n        errors.push('广告形式');\n      }\n      if (!isPositionValid(result.position)) {\n        errors.push('标记框位置');\n      }\n      if (!result.snapshot) {\n        errors.push('缺少截图，请手动点击生成');\n      }\n      if (errors.length > 0) {\n        errorIds[result.key] = errors;\n      }\n    });\n    if (Object.keys(errorIds).length > 0) {\n      const errMsg = Object.keys(errorIds).map(k => `ID: ${k} 缺: ${errorIds[k].join(', ')}`).join('; ');\n      if (isSubmit) {\n        notification.error({\n          message: '属性不全',\n          description: errMsg\n        });\n        throw new Error(`请补全属性值再提交 ID: ${Object.keys(errorIds)}`);\n      } else {\n        notification.warn({\n          message: '属性不全',\n          description: errMsg\n        });\n      }\n    }\n  };\n  const setCurrentPlayBackRate = function (rate) {\n    const {\n      current\n    } = canvasRef;\n    if (current && current.video) {\n      current.video.playbackRate = rate;\n      setPlayBackRate(rate);\n    }\n  };\n  function pauseVideo() {\n    const {\n      current\n    } = canvasRef;\n    if (current && current.video && !current.video.paused) current.video.pause();\n  }\n  function seekVideo(targetTime = 0) {\n    const {\n      current\n    } = canvasRef;\n    if (current && current.video && targetTime >= 0 && targetTime <= duration) {\n      current.video.currentTime = targetTime;\n    }\n  }\n  function getResult(index) {\n    return results.find(r => r.key === index);\n  }\n  const handleKeyDown = e => {\n    const {\n      current\n    } = canvasRef;\n    const {\n      ctrlKey\n    } = e;\n    // except return key\n    if (window.disableAdvertisementHotKeys && e.keyCode !== 13) {\n      return;\n    }\n    switch (e.keyCode) {\n      case 32:\n        e.preventDefault();\n        e.stopPropagation();\n        if (currentMode !== 'edit') break;\n        if (current.video.paused) playVideo();else pauseVideo();\n        break;\n      case 70:\n        e.preventDefault();\n        if (e.target.tagName.toUpperCase() === 'INPUT') break;\n        if (!ctrlKey) break;\n        // eslint-disable-next-line no-case-declarations\n        fullScreen();\n        break;\n      case 37:\n        // left arrow\n        if (e.target.tagName.toUpperCase() === 'INPUT') break;\n        if (current && current.video) current.video.currentTime = currentTime - 1;\n        break;\n      case 39:\n        // right arrow\n        if (e.target.tagName.toUpperCase() === 'INPUT') break;\n        if (current && current.video) current.video.currentTime = currentTime + 1;\n        break;\n      case 73:\n        if (e.target.tagName.toUpperCase() === 'INPUT') break;\n        e.preventDefault();\n        if (currentMode === 'edit') {\n          if (currentIndex == null) return;\n          const item = getResult(currentIndex);\n          if (item.start != null && item.start > currentTime + getDeltaTime(playBackRate)) break;\n          if (item.end != null && item.end < currentTime - getDeltaTime(playBackRate)) break;\n          pauseVideo();\n          enableSVG(currentIndex);\n        } else {\n          disableSVG();\n        }\n        break;\n      case 13:\n        // enter\n        if (e.target.tagName.toUpperCase() === 'INPUT') {\n          e.preventDefault();\n          e.target.blur();\n        }\n        break;\n      default:\n        break;\n    }\n    return false;\n  };\n  const addAdvertisementName = function (name) {\n    const advertisementNameCopy = simpleClone(advertisementName);\n    return new Promise(resolve => {\n      const color = randomColor();\n      advertisementNameCopy.unshift({\n        value: name,\n        label: name,\n        color\n      });\n      advertisementNameMap.current.set(name, color);\n      setAdvertisementName(advertisementNameCopy, () => {\n        resolve('updateAdvertisementName');\n      });\n    }).then(() => {\n      // onSubmit();\n    });\n  };\n  const handleResultsChange = function (newResult) {\n    return new Promise(resolve => {\n      setResults(newResult, () => {\n        resolve('updateResult');\n      });\n    }).then(() => {\n      // onSubmit();\n    });\n  };\n  const enableSVG = function (index) {\n    setCurrentIndex(index);\n    setCurrentMode('paint');\n  };\n  const disableSVG = function () {\n    setCurrentMode('edit');\n  };\n\n  // const setSelectedIndex = (function (index) {\n  //   if (index >= 0 && index < results.length) setCurrentIndex(index);\n  //   else setCurrentIndex(null);\n  // });\n\n  const fullScreen = () => {\n    const elem = document.getElementById('root');\n    if (screenfull && !screenfull.isFullscreen) screenfull.request(elem);else if (screenfull && screenfull.isFullscreen) screenfull.toggle();\n  };\n  const focusItemInRightSide = key => {\n    const cardContainer = document.getElementsByClassName('annotation-form-container');\n    const cards = document.getElementsByClassName(`annotation-form-card-${key}`);\n    if (cardContainer.length > 0 && cards.length > 0) {\n      const {\n        top: cTop,\n        bottom: cBottom\n      } = cardContainer[0].getBoundingClientRect();\n      const {\n        top: eTop,\n        bottom: eBottom\n      } = cards[0].getBoundingClientRect();\n      if (eTop < cTop || eTop > cBottom) {\n        cardContainer[0].scrollBy({\n          top: eTop - cTop\n        });\n      }\n    }\n  };\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(AutoSaver, {\n    ref: saverRef,\n    leaveCheck: true,\n    data: results,\n    save: handleSave,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 370,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"advertisement-annotation-app-topbar\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 376,\n      columnNumber: 7\n    }\n  }, \"Appen Ads Annotation Tool\", /*#__PURE__*/React.createElement(\"div\", {\n    className: \"advertisement-annotation-app-topbar-btn\",\n    onClick: handleSave,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 378,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Save, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 379,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"advertisement-annotation-app-topbar-btn\",\n    onClick: fullScreen,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 381,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Fullscreen, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 382,\n      columnNumber: 11\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"advertisement-annotation-app-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 386,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"paint-mode-mask\",\n    style: {\n      visibility: currentMode === 'edit' ? 'hidden' : 'visible'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 387,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"vertical-wrapper\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 388,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(AnnotationCanvas, {\n    ref: canvasRef,\n    currentTime: currentTime,\n    currentIndex: currentIndex,\n    currentMode: currentMode,\n    results: results,\n    video: props.video,\n    advertisementName: advertisementName,\n    currentPlayBackRate: playBackRate,\n    setCurrentIndex: setCurrentIndex,\n    toolMode: props.jobProxy.toolMode,\n    projectId: props.jobProxy.projectId,\n    flowId: props.jobProxy.flowId,\n    jobId: props.jobProxy.jobId,\n    taskId: props.jobProxy.taskId,\n    recordId: props.jobProxy.recordId,\n    advertisementNameMap: advertisementNameMap.current,\n    handleResultsChange: handleResultsChange,\n    focusItemInRightSide: focusItemInRightSide,\n    saveContent: props.saveContent,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 389,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(AnnotationResults, {\n    results: results,\n    issueTypes: props.issue_types,\n    playVideo: playVideo,\n    advertisementName: advertisementName,\n    advertisementType: advertisementType,\n    advertisementNameMap: advertisementNameMap.current,\n    setCurrentIndex: setCurrentIndex,\n    currentIndex: currentIndex,\n    toolMode: props.jobProxy.toolMode,\n    canvas: canvasRef.current,\n    handleResultsChange: handleResultsChange,\n    focusItemInRightSide: focusItemInRightSide,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 410,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(AnnotationForm, {\n    canvas: canvasRef.current,\n    duration: duration,\n    currentTime: currentTime,\n    currentMode: currentMode,\n    currentIndex: currentIndex,\n    toolMode: props.jobProxy.toolMode,\n    advertisementName: advertisementName,\n    advertisementType: advertisementType,\n    advertisementNameMap: advertisementNameMap.current,\n    currentPlayBackRate: playBackRate,\n    results: results,\n    handleResultsChange: handleResultsChange,\n    setCurrentPlayBackRate: setCurrentPlayBackRate,\n    enableSVG: enableSVG,\n    disableSVG: disableSVG,\n    setCurrentIndex: setCurrentIndex,\n    addAdvertisementName: addAdvertisementName,\n    onSubmit: onSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 425,\n      columnNumber: 9\n    }\n  })));\n});\nexport default AdvertisementAnnotationApp;","map":{"version":3,"names":["React","forwardRef","useEffect","useImperativeHandle","useRef","useState","screenfull","Base64","notification","AnnotationForm","FPS","AnnotationCanvas","getDeltaTime","AnnotationResults","AutoSaver","randomColor","simpleClone","Fullscreen","Save","isPreview","isReviewEditable","isAnnotationReadonly","setLocale","config","top","getContainer","document","getElementById","useStateCb","init","cbRef","value","setValue","current","setValueCb","val","cb","AdvertisementAnnotationApp","props","ref","duration","setDuration","currentIndex","setCurrentIndex","results","setResults","advertisementName","setAdvertisementName","currentMode","setCurrentMode","currentTime","setCurrentTime","playBackRate","setPlayBackRate","advertisementType","setAdvertisementType","canvasRef","advertisementNameMap","Map","saverRef","clk","toolName","onSubmit","submitReviews","getReviews","playVideo","record","video","play","start","clearInterval","setInterval","end","pause","event","e","handleKeyDown","addEventListener","removeEventListener","locale","initData","res","jobProxy","loadResult","newResults","labelConfigString","decode","label_config","labelConfig","JSON","parse","reviewRes","loadReviews","reviews","forEach","key","qaState","qaReason","qaComment","index","findIndex","i","item","set","color","console","log","timeNow","parseFloat","toFixed","isSubmit","_saverRef$current","validateResults","disableLeaveCheck","saveResult","handleSave","toolMode","success","message","error","_saverRef$current2","map","r","validateReviews","saveReviews","errorIds","review","errors","push","length","Object","keys","errMsg","k","join","description","Error","warn","isTypeValid","type","Array","isArray","isPositionValid","position","isTimeValid","time","result","name","snapshot","setCurrentPlayBackRate","rate","playbackRate","pauseVideo","paused","seekVideo","targetTime","getResult","find","ctrlKey","window","disableAdvertisementHotKeys","keyCode","preventDefault","stopPropagation","target","tagName","toUpperCase","fullScreen","enableSVG","disableSVG","blur","addAdvertisementName","advertisementNameCopy","Promise","resolve","unshift","label","then","handleResultsChange","newResult","elem","isFullscreen","request","toggle","focusItemInRightSide","cardContainer","getElementsByClassName","cards","cTop","bottom","cBottom","getBoundingClientRect","eTop","eBottom","scrollBy","createElement","Fragment","leaveCheck","data","save","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","className","onClick","style","visibility","currentPlayBackRate","projectId","flowId","jobId","taskId","recordId","saveContent","issueTypes","issue_types","canvas"],"sources":["/Users/qzheng/Documents/webroot/annotation_tools/src/components/advertisement-annotation/index.jsx"],"sourcesContent":["import React, { forwardRef, useEffect, useImperativeHandle, useRef, useState } from 'react';\nimport screenfull from 'screenfull';\nimport { Base64 } from 'js-base64';\nimport { notification } from 'antd';\nimport AnnotationForm, { FPS } from './AnnotationForm';\nimport AnnotationCanvas, { getDeltaTime } from './AnnotationCanvas';\nimport AnnotationResults from './AnnotationResults';\nimport AutoSaver from '../common/AutoSaver';\nimport { randomColor, simpleClone } from './util';\nimport Fullscreen from '../common/icons/Fullscreen';\nimport Save from '../common/icons/Save';\nimport { isPreview, isReviewEditable, isAnnotationReadonly } from '../../utils/tool-mode';\nimport { setLocale } from './locale';\n\nnotification.config({ top: 60, getContainer: () => document.getElementById('root') });\n\nconst useStateCb = function (init) {\n  const cbRef = useRef();\n  const [value, setValue] = useState(init);\n\n  useEffect(() => {\n    if (cbRef.current) cbRef.current(value);\n  }, [value]);\n\n  function setValueCb(val, cb) {\n    cbRef.current = cb;\n    setValue(val);\n  }\n\n  return { value, setValueCb };\n};\n\nconst AdvertisementAnnotationApp = forwardRef((props, ref) => {\n  const [duration, setDuration] = useState();\n  const [currentIndex, setCurrentIndex] = useState();\n  const { value: results, setValueCb: setResults } = useStateCb([]);\n  const { value: advertisementName, setValueCb: setAdvertisementName } = useStateCb([]);\n  const [currentMode, setCurrentMode] = useState('edit');\n  const [currentTime, setCurrentTime] = useState(10);\n  const [playBackRate, setPlayBackRate] = useState(1);\n  const [advertisementType, setAdvertisementType] = useState([]);\n  const canvasRef = useRef();\n  const advertisementNameMap = useRef(new Map());\n  const saverRef = useRef();\n\n  let clk = null;\n  const toolName = 'advertisement-annotation';\n\n  useImperativeHandle(ref, () => ({\n    onSubmit,\n    submitReviews,\n    getReviews: submitReviews,\n  }));\n\n  const playVideo = (function (record) {\n    const { current } = canvasRef;\n    if (current && current.video) {\n      current.video.play();\n      if (!record) return;\n      if (record.start != null) current.video.currentTime = record.start;\n      else current.video.currentTime = 0;\n      if (clk) clearInterval(clk);\n      clk = setInterval(() => {\n        if ((record.start || 0) > currentTime || (record.end || duration) <= currentTime) {\n          current.video.pause();\n          clearInterval(clk);\n        }\n      }, 1000 / FPS);\n    }\n  });\n\n  useEffect(() => {\n    const event = (e) => handleKeyDown(e);\n    document.addEventListener('keydown', event);\n    return () => {\n      document.removeEventListener('keydown', event);\n    };\n  }, [currentTime]);\n\n  useEffect(() => {\n    setLocale(props.locale);\n    initData();\n  }, []);\n\n  const initData = async () => {\n    try {\n      const res = await props.jobProxy.loadResult();\n      const newResults = res?.results || [];\n      const labelConfigString = Base64.decode(props.label_config);\n      const labelConfig = JSON.parse(labelConfigString);\n      const reviewRes = await props.jobProxy.loadReviews();\n      const reviews = reviewRes?.reviews || [];\n      reviews.forEach(({ key, qaState, qaReason, qaComment }) => {\n        const index = newResults.findIndex((i) => i.key === key);\n        if (index >= 0) {\n          newResults[index] = {\n            ...newResults[index],\n            qaState,\n            qaReason,\n            qaComment,\n          };\n        }\n      });\n      setResults(newResults);\n\n      // TODO: label config validation\n      advertisementNameMap.current = new Map();\n      setAdvertisementName(labelConfig.advertisementName);\n      setAdvertisementType(labelConfig.advertisementType);\n      labelConfig.advertisementName.forEach((item) => {\n        advertisementNameMap.current.set(item.value, item.color);\n      });\n    } catch (e) {\n      console.log(e);\n    };\n\n    setInterval(() => {\n      const { current } = canvasRef;\n      if (!current?.video) return;\n      const timeNow = parseFloat(current.video.currentTime.toFixed(3));\n      setCurrentTime(timeNow);\n      if (duration == null) setDuration(current.video.duration);\n    }, 1000 / FPS);\n  };\n\n  const onSubmit = (isSubmit = true) => {\n    validateResults(results, isSubmit);\n    saverRef.current?.disableLeaveCheck();\n    return props.jobProxy.saveResult({\n      results,\n      // advertisementName,\n      // advertisementType,\n    }, isSubmit);\n  };\n\n  const handleSave = async () => {\n    if (isPreview(props.jobProxy.toolMode)) {\n      return;\n    }\n\n    try {\n      if (!isAnnotationReadonly(props.jobProxy.toolMode)) {\n        await onSubmit(false);\n      }\n      if (isReviewEditable(props.jobProxy.toolMode)) {\n        await submitReviews(false);\n      }\n      notification.success({ message: '保存成功' });\n    } catch (e) {\n      notification.error({ message: '保存失败' });\n    }\n  };\n\n  const submitReviews = (isSubmit = true) => {\n    const reviews = results.map((r) => ({\n      key: r.key,\n      qaState: r.qaState,\n      qaReason: r.qaReason,\n      qaComment: r.qaComment,\n    }));\n    validateReviews(reviews, isSubmit);\n    saverRef.current?.disableLeaveCheck();\n    return props.jobProxy.saveReviews({ reviews }, isSubmit);\n  };\n\n  const validateReviews = (reviews, isSubmit) => {\n    const errorIds = {};\n    reviews.forEach((review) => {\n      const errors = [];\n      if (review.qaState === 'rejected' && review.qaReason === null) {\n        errors.push('驳回原因');\n      }\n      if (errors.length > 0) {\n        errorIds[review.key] = errors;\n      }\n    });\n    if (Object.keys(errorIds).length > 0) {\n      const errMsg = Object.keys(errorIds).map((k) => `ID: ${k} 缺: ${errorIds[k].join(', ')}`).join('; ');\n      if (isSubmit) {\n        notification.error({ message: '质检未完善', description: errMsg });\n        throw new Error(`请补全质检信息再提交 ID: ${Object.keys(errorIds)}`);\n      } else {\n        notification.warn({ message: '质检未完善', description: errMsg });\n      }\n    }\n  };\n\n  const validateResults = (res, isSubmit = false) => {\n    const isTypeValid = (type) => Array.isArray(type) && type.length > 0;\n\n    const isPositionValid = (position) => Array.isArray(position) && position.length > 0;\n\n    const isTimeValid = (time) => time !== null && time >= 0;\n\n    const errorIds = {};\n    res.forEach((result) => {\n      const errors = [];\n      if (!result.name) {\n        errors.push('识别结果');\n      }\n      if (!isTimeValid(result.start)) {\n        errors.push('开始时间');\n      }\n      if (!isTimeValid(result.end)) {\n        errors.push('结束时间');\n      }\n      if (!isTypeValid(result.type)) {\n        errors.push('广告形式');\n      }\n      if (!isPositionValid(result.position)) {\n        errors.push('标记框位置');\n      }\n      if (!result.snapshot) {\n        errors.push('缺少截图，请手动点击生成');\n      }\n      if (errors.length > 0) {\n        errorIds[result.key] = errors;\n      }\n    });\n    if (Object.keys(errorIds).length > 0) {\n      const errMsg = Object.keys(errorIds).map((k) => `ID: ${k} 缺: ${errorIds[k].join(', ')}`).join('; ');\n      if (isSubmit) {\n        notification.error({ message: '属性不全', description: errMsg });\n        throw new Error(`请补全属性值再提交 ID: ${Object.keys(errorIds)}`);\n      } else {\n        notification.warn({ message: '属性不全', description: errMsg });\n      }\n    }\n  };\n\n  const setCurrentPlayBackRate = (function (rate) {\n    const { current } = canvasRef;\n    if (current && current.video) {\n      current.video.playbackRate = rate;\n      setPlayBackRate(rate);\n    }\n  });\n\n  function pauseVideo() {\n    const { current } = canvasRef;\n    if (current && current.video && !current.video.paused) current.video.pause();\n  }\n\n  function seekVideo(targetTime = 0) {\n    const { current } = canvasRef;\n    if (current && current.video &&\n        targetTime >= 0 && targetTime <= duration) {\n      current.video.currentTime = targetTime;\n    }\n  }\n\n  function getResult(index) {\n    return results.find((r) => r.key === index);\n  }\n\n  const handleKeyDown = (e) => {\n    const { current } = canvasRef;\n    const { ctrlKey } = e;\n    // except return key\n    if (window.disableAdvertisementHotKeys && e.keyCode !== 13) {\n      return;\n    }\n    switch (e.keyCode) {\n      case 32:\n        e.preventDefault();\n        e.stopPropagation();\n        if (currentMode !== 'edit') break;\n        if (current.video.paused) playVideo();\n        else pauseVideo();\n        break;\n      case 70:\n        e.preventDefault();\n        if (e.target.tagName.toUpperCase() === 'INPUT') break;\n        if (!ctrlKey) break;\n        // eslint-disable-next-line no-case-declarations\n        fullScreen();\n        break;\n      case 37: // left arrow\n        if (e.target.tagName.toUpperCase() === 'INPUT') break;\n        if (current && current.video) current.video.currentTime = currentTime - 1;\n        break;\n      case 39: // right arrow\n        if (e.target.tagName.toUpperCase() === 'INPUT') break;\n        if (current && current.video) current.video.currentTime = currentTime + 1;\n        break;\n      case 73:\n        if (e.target.tagName.toUpperCase() === 'INPUT') break;\n        e.preventDefault();\n        if (currentMode === 'edit') {\n          if (currentIndex == null) return;\n          const item = getResult(currentIndex);\n          if (item.start != null && item.start > currentTime + getDeltaTime(playBackRate)) break;\n          if (item.end != null && item.end < currentTime - getDeltaTime(playBackRate)) break;\n          pauseVideo();\n          enableSVG(currentIndex);\n        } else {\n          disableSVG();\n        }\n        break;\n      case 13: // enter\n        if (e.target.tagName.toUpperCase() === 'INPUT') {\n          e.preventDefault();\n          e.target.blur();\n        }\n        break;\n      default:\n        break;\n    }\n    return false;\n  };\n\n  const addAdvertisementName = (function (name) {\n    const advertisementNameCopy = simpleClone(advertisementName);\n    return new Promise((resolve) => {\n      const color = randomColor();\n      advertisementNameCopy.unshift({ value: name, label: name, color });\n      advertisementNameMap.current.set(name, color);\n      setAdvertisementName(advertisementNameCopy, () => {\n        resolve('updateAdvertisementName');\n      });\n    }).then(() => {\n      // onSubmit();\n    });\n  });\n\n  const handleResultsChange = (function (newResult) {\n    return new Promise((resolve) => {\n      setResults(newResult, () => {\n        resolve('updateResult');\n      });\n    }).then(() => {\n      // onSubmit();\n    });\n  });\n\n  const enableSVG = (function (index) {\n    setCurrentIndex(index);\n    setCurrentMode('paint');\n  });\n\n  const disableSVG = (function () {\n    setCurrentMode('edit');\n  });\n\n  // const setSelectedIndex = (function (index) {\n  //   if (index >= 0 && index < results.length) setCurrentIndex(index);\n  //   else setCurrentIndex(null);\n  // });\n\n  const fullScreen = () => {\n    const elem = document.getElementById('root');\n    if (screenfull && !screenfull.isFullscreen) screenfull.request(elem);\n    else if (screenfull && screenfull.isFullscreen) screenfull.toggle();\n  };\n\n  const focusItemInRightSide = (key) => {\n    const cardContainer = document.getElementsByClassName('annotation-form-container');\n    const cards = document.getElementsByClassName(`annotation-form-card-${key}`);\n    if (cardContainer.length > 0 && cards.length > 0) {\n      const { top: cTop, bottom: cBottom } = cardContainer[0].getBoundingClientRect();\n      const { top: eTop, bottom: eBottom } = cards[0].getBoundingClientRect();\n      if (eTop < cTop || eTop > cBottom) {\n        cardContainer[0].scrollBy({ top: eTop - cTop });\n      }\n    }\n  };\n\n  return (\n    <>\n      <AutoSaver\n        ref={saverRef}\n        leaveCheck\n        data={results}\n        save={handleSave}\n      />\n      <div className=\"advertisement-annotation-app-topbar\">\n        Appen Ads Annotation Tool\n        <div className=\"advertisement-annotation-app-topbar-btn\" onClick={handleSave}>\n          <Save />\n        </div>\n        <div className=\"advertisement-annotation-app-topbar-btn\" onClick={fullScreen}>\n          <Fullscreen />\n        </div>\n        {/* <Fullscreen style={{ float: 'right', marginTop: '10px' }}/> */}\n      </div>\n      <div className=\"advertisement-annotation-app-container\">\n        <div className=\"paint-mode-mask\" style={{ visibility: currentMode === 'edit' ? 'hidden' : 'visible' }} />\n        <div className=\"vertical-wrapper\">\n          <AnnotationCanvas\n            ref={canvasRef}\n            currentTime={currentTime}\n            currentIndex={currentIndex}\n            currentMode={currentMode}\n            results={results}\n            video={props.video}\n            advertisementName={advertisementName}\n            currentPlayBackRate={playBackRate}\n            setCurrentIndex={setCurrentIndex}\n            toolMode={props.jobProxy.toolMode}\n            projectId={props.jobProxy.projectId}\n            flowId={props.jobProxy.flowId}\n            jobId={props.jobProxy.jobId}\n            taskId={props.jobProxy.taskId}\n            recordId={props.jobProxy.recordId}\n            advertisementNameMap={advertisementNameMap.current}\n            handleResultsChange={handleResultsChange}\n            focusItemInRightSide={focusItemInRightSide}\n            saveContent={props.saveContent}\n          />\n          <AnnotationResults\n            results={results}\n            issueTypes={props.issue_types}\n            playVideo={playVideo}\n            advertisementName={advertisementName}\n            advertisementType={advertisementType}\n            advertisementNameMap={advertisementNameMap.current}\n            setCurrentIndex={setCurrentIndex}\n            currentIndex={currentIndex}\n            toolMode={props.jobProxy.toolMode}\n            canvas={canvasRef.current}\n            handleResultsChange={handleResultsChange}\n            focusItemInRightSide={focusItemInRightSide}\n          />\n        </div>\n        <AnnotationForm\n          canvas={canvasRef.current}\n          duration={duration}\n          currentTime={currentTime}\n          currentMode={currentMode}\n          currentIndex={currentIndex}\n          toolMode={props.jobProxy.toolMode}\n          advertisementName={advertisementName}\n          advertisementType={advertisementType}\n          advertisementNameMap={advertisementNameMap.current}\n          currentPlayBackRate={playBackRate}\n          results={results}\n          handleResultsChange={handleResultsChange}\n          setCurrentPlayBackRate={setCurrentPlayBackRate}\n          enableSVG={enableSVG}\n          disableSVG={disableSVG}\n          setCurrentIndex={setCurrentIndex}\n          addAdvertisementName={addAdvertisementName}\n          onSubmit={onSubmit}\n        />\n      </div>\n    </>\n  );\n});\n\nexport default AdvertisementAnnotationApp;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}