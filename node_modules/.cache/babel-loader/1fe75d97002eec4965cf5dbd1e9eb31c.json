{"ast":null,"code":"export let Tool=/*#__PURE__*/function(Tool){Tool[\"RECTANGLE\"]=\"rectangle\";Tool[\"POLYGON\"]=\"polygon\";Tool[\"LINE\"]=\"line\";Tool[\"DOT\"]=\"dot\";return Tool;}({});export let ReviewMode=/*#__PURE__*/function(ReviewMode){ReviewMode[\"LABELING\"]=\"labeling\";ReviewMode[\"REVIEW\"]=\"review\";return ReviewMode;}({});export let ReviewResult=/*#__PURE__*/function(ReviewResult){ReviewResult[\"APPROVE\"]=\"approve\";ReviewResult[\"REJECT\"]=\"reject\";ReviewResult[\"SUSPEND\"]=\"suspend\";return ReviewResult;}({});","map":{"version":3,"names":["Tool","ReviewMode","ReviewResult"],"sources":["/Users/qzheng/Documents/webroot/annotation_tools/src/components/video-tracking2/types.ts"],"sourcesContent":["import { Application } from 'pixi.js';\nimport { Field, Condition, Effect, Rule, FieldControlType, FieldOption } from '@appen-china/easy-form/es/types';\nimport { ShapeType, ShapeData } from '../common/shapes/types';\nimport JobProxy from '../../libs/JobProxy';\n\nexport enum Tool {\n  RECTANGLE = 'rectangle',\n  POLYGON = 'polygon',\n  LINE = 'line',\n  DOT = 'dot',\n}\n\nexport interface Payload {\n  locale?: string;\n  issue_types?: string;\n  ontology: Ontology[];\n  base_url?: string;\n  frames?: string | string[];\n  frame_config?: string;\n  is_fill?: string | boolean;\n  fill_opacity?: string | number;\n  show_vertex?: string | boolean;\n  show_vertex_order?: string | boolean;\n  measurement_box?: string;\n  rotatable?: string | boolean;\n  auto_snap_point?: string | boolean;\n  app: Application;\n  jobProxy: JobProxy;\n}\n\nexport interface Ontology {\n  class_name: string;\n  display_name?: string;\n  display_color?: string;\n  label_config_dynamic?: string;\n  children?: {\n    name: string;\n    display_name?: string;\n    display_color?: string;\n    count?: number | null;\n    label_config?: string;\n    label_config_point?: string;\n    // legacy tool config\n    type?: string;\n    // current tool config\n    tools?: ({\n      type: string;\n    })[];\n  }[];\n}\n\nexport interface Category {\n  className: string;\n  displayName: string;\n  displayColor: string;\n  labelConfigDynamic?: LabelConfig;\n  children: CategoryItem[];\n}\n\nexport interface CategoryItem {\n  name: string;\n  displayName: string;\n  displayColor: string;\n  count?: number;\n  labelConfig?: LabelConfig;\n  pointLabelConfig?: LabelConfig;\n  tools: ToolItem[];\n}\n\nexport interface ToolItem {\n  type: Tool;\n}\n\nexport interface LabelConfig {\n  fields: Field[];\n  conditions?: Condition[];\n  effects?: Effect[];\n  rules?: Rule[];\n}\n\nexport interface FieldConfig {\n  name: string;\n  type: FieldControlType;\n  label?: string;\n  options?: FieldOption[];\n}\n\nexport interface Instance {\n  id: string;\n  category: string;\n  categoryName?: string;\n  categoryColor?: string;\n  number: number;\n  attributes?: any;\n  dynamicAttributes?: InstanceDynamicAttributes[];\n  children: InstanceItem[];\n}\n\nexport interface InstanceDynamicAttributes {\n  camera: string;\n  frames: DynamicAttributes[];\n}\n\nexport interface DynamicAttributes {\n  frameIndex: number;\n  attributes?: any;\n}\n\nexport interface InstanceItem {\n  id: string;\n  name: string;\n  number: number;\n  cameras: CameraData[];\n}\n\nexport interface CameraData {\n  camera: string;\n  frames: FrameData[];\n}\n\nexport interface FrameData {\n  frameIndex: number;\n  isKeyFrame: boolean;\n  shapeType: ShapeType;\n  shape: ShapeData;\n  order?: number;\n  attributes?: any;\n}\n\nexport enum ReviewMode {\n  LABELING = 'labeling',\n  REVIEW = 'review',\n}\n\nexport enum ReviewResult {\n  APPROVE = 'approve',\n  REJECT = 'reject',\n  SUSPEND = 'suspend',\n}\n\nexport interface Summary {\n  ids: string[]\n  category: string;\n  shape?: Tool;\n  count: number;\n  distinctCount: number;\n}\n\nexport interface Element {\n  id: string;\n  shape?: Tool;\n  frame: number;\n  category: string;\n  label?: { [key: string]: string };\n}\n\nexport interface Statistic {\n  elements: Element[];\n  categories: string[];\n  shapes: Set<any>;\n  summary: { [key: string]: Summary };\n  frameCount: number;\n  validFrames: Set<any>;\n  annotatedFrames: Set<any>;\n  instanceCount: number;\n  distinctInstanceCount: number;\n}\n\nexport interface Review {\n  id: string;\n  camera: string;\n  frameIndex: number;\n  result: ReviewResult;\n  type?: string[];\n  comment?: string;\n  instanceId?: string; // related instance\n  instanceItemId?: string; // related instance item\n  position: {\n    x: number;\n    y: number;\n  };\n}\n\nexport interface FrameAttributes {\n  frameIndex: number;\n  imageUrl?: string;\n  imageWidth?: number;\n  imageHeight?: number;\n  valid: boolean;\n  originValid?: boolean;\n  rotation: number;\n  attributes?: any;\n}\n\nexport interface CameraFrameAttributes {\n  camera: string;\n  frames: FrameAttributes[];\n}\n"],"mappings":"AAKA,UAAY,CAAAA,IAAI,uBAAJA,IAAI,EAAJA,IAAI,0BAAJA,IAAI,sBAAJA,IAAI,gBAAJA,IAAI,oBAAJ,CAAAA,IAAI,OA4HhB,UAAY,CAAAC,UAAU,uBAAVA,UAAU,EAAVA,UAAU,wBAAVA,UAAU,0BAAV,CAAAA,UAAU,OAKtB,UAAY,CAAAC,YAAY,uBAAZA,YAAY,EAAZA,YAAY,sBAAZA,YAAY,oBAAZA,YAAY,4BAAZ,CAAAA,YAAY","ignoreList":[]},"metadata":{},"sourceType":"module"}