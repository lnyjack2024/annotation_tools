{"ast":null,"code":"var _jsxFileName = \"/Users/qzheng/Documents/webroot/annotation_tools/src/components/video-tracking2/components/review/ReviewModal.tsx\";\nimport React, { useState, useEffect, useRef } from 'react';\nimport { observer } from 'mobx-react';\nimport cx from 'classnames';\nimport { Select, Form } from 'antd';\nimport { ImageTextField } from '@appen-china/easy-form';\nimport store from '../../store/RootStore';\nimport i18n from '../../locales';\nimport { ReviewResult } from '../../types';\nimport './ReviewModal.scss';\nexport function getReviewRelatedInstanceInfo(review) {\n  const {\n    instanceId,\n    instanceItemId\n  } = review;\n  let infoStr;\n  let instance;\n  let instanceItem;\n  if (instanceId) {\n    // has related instance\n    instance = store.instance.getInstanceById(instanceId);\n    if (instance) {\n      if (instanceItemId) {\n        // has related instance item\n        instanceItem = instance.items[instanceItemId];\n        if (instanceItem) {\n          infoStr = instanceItem.label;\n        } else {\n          infoStr = `${instance.label}-${i18n.translate('REVIEW_NO_ITEM')}`;\n        }\n      } else {\n        infoStr = instance.label;\n      }\n    } else {\n      infoStr = i18n.translate('REVIEW_NO_INSTANCE');\n    }\n  } else {\n    infoStr = i18n.translate('REVIEW_NO_RELATED');\n  }\n  return {\n    infoStr,\n    instance,\n    instanceItem\n  };\n}\nconst reviewModalWidth = 388;\nconst reviewModalHeightSmall = 140;\nconst reviewModalHeightLarge = 306;\nconst ReviewModal = observer(() => {\n  const [typeError, setTypeError] = useState(false);\n  const downPoint = useRef(null);\n  const downPosition = useRef(null);\n  const dropdownVisible = useRef(false);\n  const {\n    reviewModalVisible\n  } = store.config;\n  const {\n    reviewLayer,\n    reviewLayerOffset,\n    selectedAnchor,\n    editingReview,\n    reviewResultTypes\n  } = store.review;\n  useEffect(() => {\n    setTypeError(false);\n  }, [editingReview, editingReview === null || editingReview === void 0 ? void 0 : editingReview.type, editingReview === null || editingReview === void 0 ? void 0 : editingReview.result]);\n  const handleDelete = () => {\n    if (editingReview && selectedAnchor) {\n      store.review.deleteReview(editingReview, selectedAnchor);\n      store.review.unselectReview();\n      store.config.setReviewModalVisible(false);\n    }\n  };\n  const handleSave = () => {\n    if (editingReview) {\n      if (editingReview.result === ReviewResult.REJECT && (!editingReview.type || editingReview.type.length <= 0)) {\n        setTypeError(true);\n        return;\n      }\n      store.review.updateReview(editingReview);\n      store.review.unselectReview();\n      store.config.setReviewModalVisible(false);\n    }\n  };\n  if (!reviewModalVisible || !reviewLayer || !selectedAnchor || !editingReview) {\n    return null;\n  }\n  const {\n    x,\n    y\n  } = reviewLayer.toGlobal({\n    x: editingReview.x,\n    y: editingReview.y\n  });\n  const left = x + reviewLayerOffset.x;\n  const top = y + reviewLayerOffset.y;\n  let modalLeft = left + 32;\n  let modalTop = top - 32;\n  const {\n    clientWidth,\n    clientHeight\n  } = document.body;\n  if (modalLeft + reviewModalWidth > clientWidth) {\n    modalLeft = left - reviewModalWidth - 32;\n  }\n  const modalHeight = editingReview.result === ReviewResult.APPROVE ? reviewModalHeightSmall : reviewModalHeightLarge;\n  if (modalTop + modalHeight > clientHeight) {\n    modalTop = top - modalHeight;\n  }\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"review-modal-mask\",\n    onMouseMove: e => {\n      if (downPosition.current && downPoint.current && reviewLayer) {\n        const offsetX = e.clientX - downPosition.current.x;\n        const offsetY = e.clientY - downPosition.current.y;\n        const {\n          x: px,\n          y: py\n        } = reviewLayer.toLocal({\n          x: downPoint.current.x + offsetX,\n          y: downPoint.current.y + offsetY\n        });\n        selectedAnchor.setPosition(px, py);\n        store.review.updateReviewInfo(editingReview, {\n          x: px,\n          y: py\n        });\n      }\n    },\n    onMouseUp: () => {\n      downPosition.current = null;\n      downPoint.current = null;\n    },\n    onMouseDown: () => {\n      if (!dropdownVisible.current) {\n        handleSave();\n      }\n    },\n    onContextMenu: e => e.preventDefault(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"review-anchor-ghost\",\n    style: {\n      left: left - 16,\n      top: top - 30\n    },\n    onMouseDown: e => {\n      e.stopPropagation();\n      downPosition.current = {\n        x: e.clientX,\n        y: e.clientY\n      };\n      downPoint.current = {\n        x,\n        y\n      };\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"review-modal\",\n    style: {\n      width: reviewModalWidth,\n      left: modalLeft,\n      top: modalTop\n    },\n    onMouseDown: e => e.stopPropagation(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"review-modal-title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 9\n    }\n  }, i18n.translate('REVIEW_MODAL_LABEL')), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"review-modal-content\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"review-info\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 11\n    }\n  }, `[${getReviewRelatedInstanceInfo(editingReview).infoStr}]`, `[${i18n.translate('FRAME_ATTRIBUTES_FRAME', {\n    values: {\n      frame: store.frame.currentFrame + 1\n    }\n  })}]`), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"review-result\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 11\n    }\n  }, reviewResultTypes.map(type => /*#__PURE__*/React.createElement(\"div\", {\n    key: type,\n    className: cx('review-btn', {\n      [type]: true,\n      active: editingReview.result === type\n    }),\n    onClick: () => store.review.updateReviewResult(editingReview, type, selectedAnchor),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 15\n    }\n  }, i18n.translate(`REVIEW_${type.toUpperCase()}`)))), editingReview.result !== ReviewResult.APPROVE && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Form.Item, {\n    required: editingReview.result === ReviewResult.REJECT,\n    labelCol: {\n      span: 24\n    },\n    label: i18n.translate('REVIEW_REASON_LABEL'),\n    validateStatus: typeError ? 'error' : '',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(Select, {\n    mode: \"multiple\",\n    size: \"small\",\n    value: editingReview.type,\n    onChange: type => store.review.updateReviewInfo(editingReview, {\n      type\n    }),\n    onDropdownVisibleChange: open => {\n      dropdownVisible.current = open;\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 17\n    }\n  }, store.review.issueTypes.map(item => /*#__PURE__*/React.createElement(Select.Option, {\n    value: item,\n    key: item,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 21\n    }\n  }, item)))), /*#__PURE__*/React.createElement(ImageTextField, {\n    style: {\n      height: 84\n    },\n    uploader: store.saveFile,\n    value: editingReview.comment,\n    onChange: comment => store.review.updateReviewInfo(editingReview, {\n      comment\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 177,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"review-action\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 185,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"review-btn\",\n    onClick: handleDelete,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 186,\n      columnNumber: 13\n    }\n  }, i18n.translate('COMMON_DELETE')), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"review-btn save\",\n    onClick: handleSave,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 192,\n      columnNumber: 13\n    }\n  }, i18n.translate('COMMON_SAVE'))))));\n});\nexport default ReviewModal;","map":{"version":3,"names":["React","useState","useEffect","useRef","observer","cx","Select","Form","ImageTextField","store","i18n","ReviewResult","getReviewRelatedInstanceInfo","review","instanceId","instanceItemId","infoStr","instance","instanceItem","getInstanceById","items","label","translate","reviewModalWidth","reviewModalHeightSmall","reviewModalHeightLarge","ReviewModal","typeError","setTypeError","downPoint","downPosition","dropdownVisible","reviewModalVisible","config","reviewLayer","reviewLayerOffset","selectedAnchor","editingReview","reviewResultTypes","type","result","handleDelete","deleteReview","unselectReview","setReviewModalVisible","handleSave","REJECT","length","updateReview","x","y","toGlobal","left","top","modalLeft","modalTop","clientWidth","clientHeight","document","body","modalHeight","APPROVE","createElement","className","onMouseMove","e","current","offsetX","clientX","offsetY","clientY","px","py","toLocal","setPosition","updateReviewInfo","onMouseUp","onMouseDown","onContextMenu","preventDefault","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","style","stopPropagation","width","values","frame","currentFrame","map","key","active","onClick","updateReviewResult","toUpperCase","Fragment","Item","required","labelCol","span","validateStatus","mode","size","value","onChange","onDropdownVisibleChange","open","issueTypes","item","Option","height","uploader","saveFile","comment"],"sources":["/Users/qzheng/Documents/webroot/annotation_tools/src/components/video-tracking2/components/review/ReviewModal.tsx"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\nimport { observer } from 'mobx-react';\nimport cx from 'classnames';\nimport { Select, Form } from 'antd';\nimport { ImageTextField } from '@appen-china/easy-form';\nimport ReviewItem from '../../model/ReviewItem';\nimport store from '../../store/RootStore';\nimport i18n from '../../locales';\nimport { ReviewResult } from '../../types';\nimport './ReviewModal.scss';\n\nexport function getReviewRelatedInstanceInfo(review: ReviewItem) {\n  const { instanceId, instanceItemId } = review;\n  let infoStr;\n  let instance;\n  let instanceItem;\n  if (instanceId) {\n    // has related instance\n    instance = store.instance.getInstanceById(instanceId);\n    if (instance) {\n      if (instanceItemId) {\n        // has related instance item\n        instanceItem = instance.items[instanceItemId];\n        if (instanceItem) {\n          infoStr = instanceItem.label;\n        } else {\n          infoStr = `${instance.label}-${i18n.translate('REVIEW_NO_ITEM')}`;\n        }\n      } else {\n        infoStr = instance.label;\n      }\n    } else {\n      infoStr = i18n.translate('REVIEW_NO_INSTANCE');\n    }\n  } else {\n    infoStr = i18n.translate('REVIEW_NO_RELATED');\n  }\n  return { infoStr, instance, instanceItem };\n}\n\nconst reviewModalWidth = 388;\nconst reviewModalHeightSmall = 140;\nconst reviewModalHeightLarge = 306;\n\nconst ReviewModal = observer(() => {\n  const [typeError, setTypeError] = useState(false);\n  const downPoint = useRef<{ x: number; y: number } | null>(null);\n  const downPosition = useRef<{ x: number; y: number } | null>(null);\n  const dropdownVisible = useRef(false);\n\n  const { reviewModalVisible } = store.config;\n  const { reviewLayer, reviewLayerOffset, selectedAnchor, editingReview, reviewResultTypes } = store.review;\n\n  useEffect(() => {\n    setTypeError(false);\n  }, [editingReview, editingReview?.type, editingReview?.result]);\n\n  const handleDelete = () => {\n    if (editingReview && selectedAnchor) {\n      store.review.deleteReview(editingReview, selectedAnchor);\n      store.review.unselectReview();\n      store.config.setReviewModalVisible(false);\n    }\n  };\n\n  const handleSave = () => {\n    if (editingReview) {\n      if (editingReview.result === ReviewResult.REJECT && (!editingReview.type || editingReview.type.length <= 0)) {\n        setTypeError(true);\n        return;\n      }\n      store.review.updateReview(editingReview);\n      store.review.unselectReview();\n      store.config.setReviewModalVisible(false);\n    }\n  };\n\n  if (!reviewModalVisible || !reviewLayer || !selectedAnchor || !editingReview) {\n    return null;\n  }\n\n  const { x, y } = reviewLayer.toGlobal({ x: editingReview.x, y: editingReview.y });\n  const left = x + reviewLayerOffset.x;\n  const top = y + reviewLayerOffset.y;\n\n  let modalLeft = left + 32;\n  let modalTop = top - 32;\n  const { clientWidth, clientHeight } = document.body;\n  if (modalLeft + reviewModalWidth > clientWidth) {\n    modalLeft = left - reviewModalWidth - 32;\n  }\n  const modalHeight = editingReview.result === ReviewResult.APPROVE ? reviewModalHeightSmall : reviewModalHeightLarge;\n  if (modalTop + modalHeight > clientHeight) {\n    modalTop = top - modalHeight;\n  }\n  return (\n    <div\n      className=\"review-modal-mask\"\n      onMouseMove={(e) => {\n        if (downPosition.current && downPoint.current && reviewLayer) {\n          const offsetX = e.clientX - downPosition.current.x;\n          const offsetY = e.clientY - downPosition.current.y;\n          const { x: px, y: py } = reviewLayer.toLocal({ x: downPoint.current.x + offsetX, y: downPoint.current.y + offsetY });\n          selectedAnchor.setPosition(px, py);\n          store.review.updateReviewInfo(editingReview, { x: px, y: py });\n        }\n      }}\n      onMouseUp={() => {\n        downPosition.current = null;\n        downPoint.current = null;\n      }}\n      onMouseDown={() => {\n        if (!dropdownVisible.current) {\n          handleSave();\n        }\n      }}\n      onContextMenu={(e) => e.preventDefault()}\n    >\n      <div\n        className=\"review-anchor-ghost\"\n        style={{ left: left - 16, top: top - 30 }}\n        onMouseDown={(e) => {\n          e.stopPropagation();\n          downPosition.current = { x: e.clientX, y: e.clientY };\n          downPoint.current = { x, y };\n        }}\n      />\n      <div\n        className=\"review-modal\"\n        style={{ width: reviewModalWidth, left: modalLeft, top: modalTop }}\n        onMouseDown={(e) => e.stopPropagation()}\n      >\n        <div className=\"review-modal-title\">\n          {i18n.translate('REVIEW_MODAL_LABEL')}\n        </div>\n        <div className=\"review-modal-content\">\n          <div className=\"review-info\">\n            {`[${getReviewRelatedInstanceInfo(editingReview).infoStr}]`}\n            {`[${i18n.translate('FRAME_ATTRIBUTES_FRAME', { values: { frame: store.frame.currentFrame + 1 } })}]`}\n          </div>\n          <div className=\"review-result\">\n            {reviewResultTypes.map((type) => (\n              <div\n                key={type}\n                className={cx('review-btn', {\n                  [type]: true,\n                  active: editingReview.result === type,\n                })}\n                onClick={() => store.review.updateReviewResult(editingReview, type, selectedAnchor)}\n              >\n                {i18n.translate(`REVIEW_${type.toUpperCase()}`)}\n              </div>\n            ))}\n          </div>\n          {editingReview.result !== ReviewResult.APPROVE && (\n            <>\n              <Form.Item\n                required={editingReview.result === ReviewResult.REJECT}\n                labelCol={{ span: 24 }}\n                label={i18n.translate('REVIEW_REASON_LABEL')}\n                validateStatus={typeError ? 'error' : ''}\n              >\n                <Select\n                  mode=\"multiple\"\n                  size=\"small\"\n                  value={editingReview.type}\n                  onChange={(type) => store.review.updateReviewInfo(editingReview, { type })}\n                  onDropdownVisibleChange={(open) => {\n                    dropdownVisible.current = open;\n                  }}\n                >\n                  {store.review.issueTypes.map((item) => (\n                    <Select.Option value={item} key={item}>{item}</Select.Option>\n                  ))}\n                </Select>\n              </Form.Item>\n              <ImageTextField\n                style={{ height: 84 }}\n                uploader={store.saveFile}\n                value={editingReview.comment}\n                onChange={(comment) => store.review.updateReviewInfo(editingReview, { comment })}\n              />\n            </>\n          )}\n          <div className=\"review-action\">\n            <div\n              className=\"review-btn\"\n              onClick={handleDelete}\n            >\n              {i18n.translate('COMMON_DELETE')}\n            </div>\n            <div\n              className=\"review-btn save\"\n              onClick={handleSave}\n            >\n              {i18n.translate('COMMON_SAVE')}\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n});\n\nexport default ReviewModal;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}