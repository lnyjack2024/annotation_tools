{"ast":null,"code":"import Mousetrap from 'mousetrap';\nimport { ReviewResult } from './types';\nimport store from './store/RootStore';\nexport default function bindKeyboardEvents(ctx) {\n  // default keyboard events\n  Mousetrap.bind('f', () => {\n    ctx.handleScreenFull();\n    return false;\n  });\n  Mousetrap.bind(['options+del', 'alt+del', 'options+backspace', 'alt+backspace'], () => {\n    if (store.instance.selectedInstance && store.review.drawMode) {\n      store.instance.deleteInstance(store.instance.selectedInstance.id);\n    }\n    return false;\n  });\n  Mousetrap.bind(['ctrl+s', 'command+s'], () => {\n    ctx.handleSave();\n    return false;\n  });\n  Mousetrap.bind(['ctrl+z', 'command+z'], () => {\n    ctx.handleUndo();\n    return false;\n  });\n  Mousetrap.bind(['ctrl+y', 'command+y'], () => {\n    ctx.handleRedo();\n    return false;\n  });\n  Mousetrap.bind(['ctrl+r', 'command+r'], e => {\n    window.location.reload();\n    return false;\n  });\n  Mousetrap.bind(['ctrl+i', 'command+i'], () => {\n    store.setting.setZoom(store.setting.zoom + 1);\n    return false;\n  });\n  Mousetrap.bind(['ctrl+o', 'command+o'], () => {\n    store.setting.setZoom(store.setting.zoom - 1);\n    return false;\n  });\n  const list1 = Array(9).fill(1).map((n, i) => `ctrl+${n + i}`);\n  Mousetrap.bind([...list1], e => {\n    const num = Number(e.key);\n    if (!Number.isNaN(num)) {\n      ctx.addInstance(num);\n    }\n    return false;\n  });\n  Mousetrap.bind('1', () => {\n    store.review.shortcutAction(ReviewResult.APPROVE);\n    return false;\n  });\n  Mousetrap.bind('2', () => {\n    store.review.shortcutAction(ReviewResult.REJECT);\n    return false;\n  });\n  Mousetrap.bind('3', () => {\n    store.review.shortcutAction(ReviewResult.SUSPEND);\n    return false;\n  });\n  Mousetrap.bind('ctrl+w', () => {\n    store.setting.setSideBarVisible(!store.setting.sideBarVisible);\n    return false;\n  });\n  Mousetrap.bind('enter', () => {\n    ctx.handleEnter();\n    return false;\n  });\n  Mousetrap.bind('space', () => {\n    store.analyse.handlePlay();\n    return false;\n  });\n  return () => {\n    Mousetrap.unbind('f');\n    Mousetrap.unbind(['options+del', 'alt+del', 'options+backspace', 'alt+backspace']);\n    Mousetrap.unbind(['ctrl+s', 'command+s']);\n    Mousetrap.unbind(['ctrl+z', 'command+z']);\n    Mousetrap.unbind(['ctrl+y', 'command+y']);\n    Mousetrap.unbind('enter');\n    Mousetrap.unbind(['ctrl+r', 'command+r']);\n    Mousetrap.unbind(['ctrl+i', 'command+i']);\n    Mousetrap.unbind(['ctrl+o', 'command+o']);\n    Mousetrap.unbind([...list1]);\n    Mousetrap.unbind('1');\n    Mousetrap.unbind('2');\n    Mousetrap.unbind('3');\n    Mousetrap.unbind('ctrl+w');\n    Mousetrap.unbind('space');\n  };\n}","map":{"version":3,"names":["Mousetrap","ReviewResult","store","bindKeyboardEvents","ctx","bind","handleScreenFull","instance","selectedInstance","review","drawMode","deleteInstance","id","handleSave","handleUndo","handleRedo","e","window","location","reload","setting","setZoom","zoom","list1","Array","fill","map","n","i","num","Number","key","isNaN","addInstance","shortcutAction","APPROVE","REJECT","SUSPEND","setSideBarVisible","sideBarVisible","handleEnter","analyse","handlePlay","unbind"],"sources":["/Users/qzheng/Documents/webroot/annotation_tools/src/components/phonetic-transcription/keyboard-events.ts"],"sourcesContent":["import Mousetrap from 'mousetrap';\nimport { SpeechAnalysis } from './index';\nimport { ReviewResult } from './types';\nimport store from './store/RootStore';\n\nexport default function bindKeyboardEvents(ctx: SpeechAnalysis) {\n  // default keyboard events\n  Mousetrap.bind('f', () => {\n    ctx.handleScreenFull();\n    return false;\n  });\n  Mousetrap.bind(['options+del', 'alt+del', 'options+backspace', 'alt+backspace'], () => {\n    if (\n      store.instance.selectedInstance &&\n      store.review.drawMode\n    ) {\n      store.instance.deleteInstance(store.instance.selectedInstance.id);\n    }\n    return false;\n  });\n  Mousetrap.bind(['ctrl+s', 'command+s'], () => {\n    ctx.handleSave();\n    return false;\n  });\n  Mousetrap.bind(['ctrl+z', 'command+z'], () => {\n    ctx.handleUndo();\n    return false;\n  });\n  Mousetrap.bind(['ctrl+y', 'command+y'], () => {\n    ctx.handleRedo();\n    return false;\n  });\n\n  Mousetrap.bind(['ctrl+r', 'command+r'], (e) => {\n    window.location.reload();\n    return false;\n  });\n\n  Mousetrap.bind(['ctrl+i', 'command+i'], () => {\n    store.setting.setZoom(store.setting.zoom + 1);\n    return false;\n  });\n\n  Mousetrap.bind(['ctrl+o', 'command+o'], () => {\n    store.setting.setZoom(store.setting.zoom - 1);\n    return false;\n  });\n\n  const list1: string[] = Array(9).fill(1).map((n, i) => `ctrl+${n + i}`);\n  Mousetrap.bind([...list1], (e) => {\n    const num = Number(e.key);\n    if (!Number.isNaN(num)) {\n      ctx.addInstance(num);\n    }\n    return false;\n  });\n\n  Mousetrap.bind('1', () => {\n    store.review.shortcutAction(ReviewResult.APPROVE);\n    return false;\n  });\n\n  Mousetrap.bind('2', () => {\n    store.review.shortcutAction(ReviewResult.REJECT);\n    return false;\n  });\n\n  Mousetrap.bind('3', () => {\n    store.review.shortcutAction(ReviewResult.SUSPEND);\n    return false;\n  });\n\n  Mousetrap.bind('ctrl+w', () => {\n    store.setting.setSideBarVisible(!store.setting.sideBarVisible);\n    return false;\n  });\n\n  Mousetrap.bind('enter', () => {\n    ctx.handleEnter();\n    return false;\n  });\n\n  Mousetrap.bind('space', () => {\n    store.analyse.handlePlay();\n    return false;\n  });\n\n  return () => {\n    Mousetrap.unbind('f');\n    Mousetrap.unbind(['options+del', 'alt+del', 'options+backspace', 'alt+backspace']);\n    Mousetrap.unbind(['ctrl+s', 'command+s']);\n    Mousetrap.unbind(['ctrl+z', 'command+z']);\n    Mousetrap.unbind(['ctrl+y', 'command+y']);\n    Mousetrap.unbind('enter');\n    Mousetrap.unbind(['ctrl+r', 'command+r']);\n    Mousetrap.unbind(['ctrl+i', 'command+i']);\n    Mousetrap.unbind(['ctrl+o', 'command+o']);\n    Mousetrap.unbind([...list1]);\n    Mousetrap.unbind('1');\n    Mousetrap.unbind('2');\n    Mousetrap.unbind('3');\n    Mousetrap.unbind('ctrl+w');\n    Mousetrap.unbind('space');\n  };\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}