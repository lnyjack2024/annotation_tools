{"ast":null,"code":"import React,{useCallback}from'react';import{observer}from'mobx-react';import hexToRgba from'hex-to-rgba';import{CaretDownOutlined}from'@ant-design/icons';import SidebarInstance from'./SidebarInstance';import store from'../../store/RootStore';const SidebarCategory=observer(_ref=>{let{category,collapsed,onCollapseChange}=_ref;const selectCategory=useCallback(()=>{store.ontology.selectCategory(category.className);},[]);const collapse=e=>{e.stopPropagation();onCollapseChange(!collapsed);};const{className,displayName,displayColor}=category;const isSelected=store.ontology.selectedCategoryName===className;const instances=store.instance.categoryInstancesMap[className];const isEmpty=!instances||instances.length<=0;return/*#__PURE__*/React.createElement(\"div\",{className:\"sidebar-category\"},/*#__PURE__*/React.createElement(\"div\",{className:\"sidebar-category-title\",style:{backgroundColor:isSelected?hexToRgba(displayColor||'#FFFFFF',0.2):'#3D424D'},onClick:selectCategory},/*#__PURE__*/React.createElement(\"span\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"sidebar-category-title__dot\",style:{backgroundColor:displayColor}}),/*#__PURE__*/React.createElement(\"div\",{style:{flex:1}},displayName)),/*#__PURE__*/React.createElement(\"span\",null,!isEmpty&&/*#__PURE__*/React.createElement(\"span\",{className:\"sidebar-category-title__count\"},instances.length),/*#__PURE__*/React.createElement(\"span\",{className:\"sidebar-category-action\"},/*#__PURE__*/React.createElement(CaretDownOutlined,{className:\"sidebar-category-icon\",style:{transform:collapsed?'rotate(-90deg)':'',transition:'transform 0.2s'},onClick:collapse})))),!collapsed&&!isEmpty&&/*#__PURE__*/React.createElement(\"div\",{className:\"sidebar-category-content\"},instances.map(instance=>/*#__PURE__*/React.createElement(SidebarInstance,{key:instance.id,instance:instance}))));});export default SidebarCategory;","map":{"version":3,"names":["React","useCallback","observer","hexToRgba","CaretDownOutlined","SidebarInstance","store","SidebarCategory","_ref","category","collapsed","onCollapseChange","selectCategory","ontology","className","collapse","e","stopPropagation","displayName","displayColor","isSelected","selectedCategoryName","instances","instance","categoryInstancesMap","isEmpty","length","createElement","style","backgroundColor","onClick","flex","transform","transition","map","key","id"],"sources":["/Users/qzheng/Documents/webroot/annotation_tools/src/components/video-tracking2/components/sidebar/SidebarCategory.tsx"],"sourcesContent":["import React, { useCallback } from 'react';\nimport { observer } from 'mobx-react';\nimport hexToRgba from 'hex-to-rgba';\nimport { CaretDownOutlined } from '@ant-design/icons';\nimport SidebarInstance from './SidebarInstance';\nimport store from '../../store/RootStore';\nimport { Category } from '../../types';\n\ninterface SidebarCategoryProps {\n  category: Category;\n  collapsed: boolean;\n  onCollapseChange: (collapsed: boolean) => void;\n}\n\nconst SidebarCategory = observer(({ category, collapsed, onCollapseChange }: SidebarCategoryProps) => {\n  const selectCategory = useCallback(() => {\n    store.ontology.selectCategory(category.className);\n  }, []);\n\n  const collapse = (e: React.MouseEvent) => {\n    e.stopPropagation();\n    onCollapseChange(!collapsed);\n  };\n\n  const { className, displayName, displayColor } = category;\n  const isSelected = store.ontology.selectedCategoryName === className;\n  const instances = store.instance.categoryInstancesMap[className];\n  const isEmpty = !instances || instances.length <= 0;\n  return (\n    <div className=\"sidebar-category\">\n      <div\n        className=\"sidebar-category-title\"\n        style={{\n          backgroundColor: isSelected ? hexToRgba(displayColor || '#FFFFFF', 0.2) : '#3D424D',\n        }}\n        onClick={selectCategory}\n      >\n        <span>\n          <div\n            className=\"sidebar-category-title__dot\"\n            style={{ backgroundColor: displayColor }}\n          />\n          <div style={{ flex: 1 }}>\n            {displayName}\n          </div>\n        </span>\n        <span>\n          {!isEmpty && (\n            <span className=\"sidebar-category-title__count\">\n              {instances.length}\n            </span>\n          )}\n          <span className=\"sidebar-category-action\">\n            <CaretDownOutlined\n              className=\"sidebar-category-icon\"\n              style={{\n                transform: collapsed ? 'rotate(-90deg)' : '',\n                transition: 'transform 0.2s',\n              }}\n              onClick={collapse}\n            />\n          </span>\n        </span>\n      </div>\n      {!collapsed && !isEmpty && (\n        <div\n          className=\"sidebar-category-content\"\n        >\n          {instances.map((instance) => (\n            <SidebarInstance key={instance.id} instance={instance} />\n          ))}\n        </div>\n      )}\n    </div>\n  );\n});\n\nexport default SidebarCategory;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,WAAW,KAAQ,OAAO,CAC1C,OAASC,QAAQ,KAAQ,YAAY,CACrC,MAAO,CAAAC,SAAS,KAAM,aAAa,CACnC,OAASC,iBAAiB,KAAQ,mBAAmB,CACrD,MAAO,CAAAC,eAAe,KAAM,mBAAmB,CAC/C,MAAO,CAAAC,KAAK,KAAM,uBAAuB,CASzC,KAAM,CAAAC,eAAe,CAAGL,QAAQ,CAACM,IAAA,EAAqE,IAApE,CAAEC,QAAQ,CAAEC,SAAS,CAAEC,gBAAuC,CAAC,CAAAH,IAAA,CAC/F,KAAM,CAAAI,cAAc,CAAGX,WAAW,CAAC,IAAM,CACvCK,KAAK,CAACO,QAAQ,CAACD,cAAc,CAACH,QAAQ,CAACK,SAAS,CAAC,CACnD,CAAC,CAAE,EAAE,CAAC,CAEN,KAAM,CAAAC,QAAQ,CAAIC,CAAmB,EAAK,CACxCA,CAAC,CAACC,eAAe,CAAC,CAAC,CACnBN,gBAAgB,CAAC,CAACD,SAAS,CAAC,CAC9B,CAAC,CAED,KAAM,CAAEI,SAAS,CAAEI,WAAW,CAAEC,YAAa,CAAC,CAAGV,QAAQ,CACzD,KAAM,CAAAW,UAAU,CAAGd,KAAK,CAACO,QAAQ,CAACQ,oBAAoB,GAAKP,SAAS,CACpE,KAAM,CAAAQ,SAAS,CAAGhB,KAAK,CAACiB,QAAQ,CAACC,oBAAoB,CAACV,SAAS,CAAC,CAChE,KAAM,CAAAW,OAAO,CAAG,CAACH,SAAS,EAAIA,SAAS,CAACI,MAAM,EAAI,CAAC,CACnD,mBACE1B,KAAA,CAAA2B,aAAA,QAAKb,SAAS,CAAC,kBAAkB,eAC/Bd,KAAA,CAAA2B,aAAA,QACEb,SAAS,CAAC,wBAAwB,CAClCc,KAAK,CAAE,CACLC,eAAe,CAAET,UAAU,CAAGjB,SAAS,CAACgB,YAAY,EAAI,SAAS,CAAE,GAAG,CAAC,CAAG,SAC5E,CAAE,CACFW,OAAO,CAAElB,cAAe,eAExBZ,KAAA,CAAA2B,aAAA,0BACE3B,KAAA,CAAA2B,aAAA,QACEb,SAAS,CAAC,6BAA6B,CACvCc,KAAK,CAAE,CAAEC,eAAe,CAAEV,YAAa,CAAE,CAC1C,CAAC,cACFnB,KAAA,CAAA2B,aAAA,QAAKC,KAAK,CAAE,CAAEG,IAAI,CAAE,CAAE,CAAE,EACrBb,WACE,CACD,CAAC,cACPlB,KAAA,CAAA2B,aAAA,aACG,CAACF,OAAO,eACPzB,KAAA,CAAA2B,aAAA,SAAMb,SAAS,CAAC,+BAA+B,EAC5CQ,SAAS,CAACI,MACP,CACP,cACD1B,KAAA,CAAA2B,aAAA,SAAMb,SAAS,CAAC,yBAAyB,eACvCd,KAAA,CAAA2B,aAAA,CAACvB,iBAAiB,EAChBU,SAAS,CAAC,uBAAuB,CACjCc,KAAK,CAAE,CACLI,SAAS,CAAEtB,SAAS,CAAG,gBAAgB,CAAG,EAAE,CAC5CuB,UAAU,CAAE,gBACd,CAAE,CACFH,OAAO,CAAEf,QAAS,CACnB,CACG,CACF,CACH,CAAC,CACL,CAACL,SAAS,EAAI,CAACe,OAAO,eACrBzB,KAAA,CAAA2B,aAAA,QACEb,SAAS,CAAC,0BAA0B,EAEnCQ,SAAS,CAACY,GAAG,CAAEX,QAAQ,eACtBvB,KAAA,CAAA2B,aAAA,CAACtB,eAAe,EAAC8B,GAAG,CAAEZ,QAAQ,CAACa,EAAG,CAACb,QAAQ,CAAEA,QAAS,CAAE,CACzD,CACE,CAEJ,CAAC,CAEV,CAAC,CAAC,CAEF,cAAe,CAAAhB,eAAe","ignoreList":[]},"metadata":{},"sourceType":"module"}