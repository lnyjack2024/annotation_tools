{"ast":null,"code":"/* eslint-disable @typescript-eslint/no-explicit-any */import React,{useState,useEffect,useRef}from'react';import{connectToParent}from'penpal';import{useActivityDispatcher}from'use-activity-dispatcher';import{checkRunningMode}from'../utils';import{RunningMode,SubmitChannel,SubmitChannelPayload}from'../types';import{ToolMode,isLabel,isQA}from'../utils/tool-mode';import JobProxy from'../libs/JobProxy';;const isCallableFunc=func=>func&&({}.toString.call(func)==='[object Function]'||{}.toString.call(func)==='[object AsyncFunction]');const withConnect=_ref=>{let{type,methods={},samplePayload}=_ref;return WrappedComponent=>()=>{useActivityDispatcher();const tool=useRef();const mode=checkRunningMode();const[payload,setPayload]=useState(null);// functions that parent provides\nconst saveContent=useRef(()=>{});const loadContent=useRef(()=>{});const renderComplete=useRef(()=>{});const onShortcutsClick=useRef(()=>{});// job proxy\nconst jobProxy=useRef();useEffect(()=>{if(mode===RunningMode.IFRAME){// set up iframe connection when the app is running in an iframe\nconst connection=connectToParent({methods:{onSubmit:async()=>{const func=methods.onSubmit||'onSubmit';if(isCallableFunc(tool.current[func])){const values=await tool.current[func]();// make sure onSubmit returns a string\n// consume this value in each tool itself or its custom tag in mashup\nreturn typeof values==='string'?values:JSON.stringify(values);}return'';},cleanData:()=>{const func=methods.cleanData||'cleanData';if(isCallableFunc(tool.current[func])){tool.current[func]();}},isModified:()=>{const func=methods.isModified||'isModified';if(isCallableFunc(tool.current[func])){return tool.current[func]();}// return null if this method not provided\nreturn null;},getStatistics:()=>{const func=methods.getStatistics||'getStatistics';if(isCallableFunc(tool.current[func])){return tool.current[func]();}return undefined;},getReviews:()=>{// eslint-disable-next-line no-console\nconsole.log('in get reviews');const func=methods.getReviews||'getReviews';if(isCallableFunc(tool.current[func])){return tool.current[func]();}return undefined;},submitReviews:()=>{// eslint-disable-next-line no-console\nconsole.log('in submit reviews');const func=methods.submitReviews||'submitReviews';if(isCallableFunc(tool.current[func])){return tool.current[func]();}return undefined;}}});saveContent.current=function(){for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}return new Promise((resolve,reject)=>{connection.promise.then(parent=>parent.saveContent(...args)).then(url=>{resolve(url);}).catch(e=>{reject(e);});});};loadContent.current=function(){for(var _len2=arguments.length,args=new Array(_len2),_key2=0;_key2<_len2;_key2++){args[_key2]=arguments[_key2];}return new Promise((resolve,reject)=>{connection.promise.then(parent=>parent.loadContent(...args)).then(data=>{resolve(data);}).catch(e=>{reject(e);});});};renderComplete.current=()=>connection.promise.then(parent=>parent.renderComplete());// get payload from parent\nconnection.promise.then(parent=>parent.getPayload()).then(p=>{initJobProxy(p);setPayload(p);});onShortcutsClick.current=function(){for(var _len3=arguments.length,args=new Array(_len3),_key3=0;_key3<_len3;_key3++){args[_key3]=arguments[_key3];}return connection.promise.then(parent=>parent.onShortcutsClick(...args));};window.addEventListener('keydown',initShortcutsEvent);}if(mode===RunningMode.STANDALONE){// get sample payload\ninitJobProxy(samplePayload);setPayload(samplePayload);}return()=>{window.removeEventListener('keydown',initShortcutsEvent);};},[type,mode]);// short\nconst initShortcutsEvent=e=>{if(e.shiftKey&&e.ctrlKey&&jobProxy.current){let name;let key;const{toolMode}=jobProxy.current;if(Object.values(SubmitChannelPayload).indexOf(e.key)>=0){key=e.key;}if(isLabel(toolMode)){name=SubmitChannel.Label;}else if(isQA(toolMode)){name=SubmitChannel.Qa;}else if(toolMode===ToolMode.AUDIT){name=SubmitChannel.Audit;};if(name&&key){e.preventDefault();onShortcutsClick.current(name,key);}}};const initJobProxy=p=>{jobProxy.current=new JobProxy({locale:p.locale,toolName:type,toolMode:p.tool_mode||p.mode,projectId:p.project_id,flowId:p.flow_id,jobId:p.job_id,taskId:p.task_id,recordId:p.record_id,reviewUrl:p._reviews,reviewFrom:p.review_from,flowData:p.flowData,templateConfig:p,saveContent:saveContent.current,loadContent:loadContent.current});};return payload&&/*#__PURE__*/React.createElement(WrappedComponent,Object.assign({ref:tool,saveContent:saveContent.current,loadContent:loadContent.current,renderComplete:renderComplete.current,jobProxy:jobProxy.current},payload));};};export default withConnect;","map":{"version":3,"names":["React","useState","useEffect","useRef","connectToParent","useActivityDispatcher","checkRunningMode","RunningMode","SubmitChannel","SubmitChannelPayload","ToolMode","isLabel","isQA","JobProxy","isCallableFunc","func","toString","call","withConnect","_ref","type","methods","samplePayload","WrappedComponent","tool","mode","payload","setPayload","saveContent","loadContent","renderComplete","onShortcutsClick","jobProxy","IFRAME","connection","onSubmit","current","values","JSON","stringify","cleanData","isModified","getStatistics","undefined","getReviews","console","log","submitReviews","_len","arguments","length","args","Array","_key","Promise","resolve","reject","promise","then","parent","url","catch","e","_len2","_key2","data","getPayload","p","initJobProxy","_len3","_key3","window","addEventListener","initShortcutsEvent","STANDALONE","removeEventListener","shiftKey","ctrlKey","name","key","toolMode","Object","indexOf","Label","Qa","AUDIT","Audit","preventDefault","locale","toolName","tool_mode","projectId","project_id","flowId","flow_id","jobId","job_id","taskId","task_id","recordId","record_id","reviewUrl","_reviews","reviewFrom","review_from","flowData","templateConfig","createElement","assign","ref"],"sources":["/Users/qzheng/Documents/webroot/annotation_tools/src/components/withConnect.tsx"],"sourcesContent":["/* eslint-disable @typescript-eslint/no-explicit-any */\nimport React, { useState, useEffect, useRef } from 'react';\nimport { connectToParent } from 'penpal';\nimport { useActivityDispatcher } from 'use-activity-dispatcher';\nimport { checkRunningMode } from '../utils';\nimport { AnnotationType, RunningMode, SubmitChannel, SubmitChannelPayload } from '../types';\nimport { ToolMode, isLabel, isQA } from '../utils/tool-mode';\nimport JobProxy from '../libs/JobProxy';\n\ninterface ConnectProps {\n  type: AnnotationType; // annotation tool type\n  methods?: { // methods connected to the iframe and tool function names map\n    [name: string]: string;\n  },\n  samplePayload: any; // sample payload to render each tool when not running in an iframe\n};\n\ninterface Payload {\n  locale?: string;\n  tool_mode?: string;\n  mode?: string; // some tool, it pass tool_mode, others mode\n  project_id?: string;\n  flow_id?: string;\n  job_id?: string;\n  task_id?: string;\n  record_id?: string;\n  _reviews?: string;\n  review_from?: any;\n  flowData?: any;\n}\n\nconst isCallableFunc = (func: unknown) => func && (\n  {}.toString.call(func) === '[object Function]' ||\n  {}.toString.call(func) === '[object AsyncFunction]'\n);\n\nconst withConnect = ({ type, methods = {}, samplePayload }: ConnectProps) => (WrappedComponent: any) => () => {\n  useActivityDispatcher();\n  const tool = useRef<any>();\n  const mode = checkRunningMode();\n  const [payload, setPayload] = useState<Payload | null>(null);\n  // functions that parent provides\n  const saveContent = useRef<any>(() => {});\n  const loadContent = useRef<any>(() => {});\n  const renderComplete = useRef<any>(() => {});\n  const onShortcutsClick = useRef<any>(() => {});\n  // job proxy\n  const jobProxy = useRef<JobProxy>();\n\n  useEffect(() => {\n    if (mode === RunningMode.IFRAME) {\n      // set up iframe connection when the app is running in an iframe\n      const connection = connectToParent({\n        methods: {\n          onSubmit: async () => {\n            const func = methods.onSubmit || 'onSubmit';\n            if (isCallableFunc(tool.current[func])) {\n              const values = await tool.current[func]();\n              // make sure onSubmit returns a string\n              // consume this value in each tool itself or its custom tag in mashup\n              return typeof values === 'string' ? values : JSON.stringify(values);\n            }\n            return '';\n          },\n          cleanData: () => {\n            const func = methods.cleanData || 'cleanData';\n            if (isCallableFunc(tool.current[func])) {\n              tool.current[func]();\n            }\n          },\n          isModified: () => {\n            const func = methods.isModified || 'isModified';\n            if (isCallableFunc(tool.current[func])) {\n              return tool.current[func]();\n            }\n            // return null if this method not provided\n            return null;\n          },\n          getStatistics: () => {\n            const func = methods.getStatistics || 'getStatistics';\n            if (isCallableFunc(tool.current[func])) {\n              return tool.current[func]();\n            }\n            return undefined;\n          },\n          getReviews: () => {\n            // eslint-disable-next-line no-console\n            console.log('in get reviews');\n            const func = methods.getReviews || 'getReviews';\n            if (isCallableFunc(tool.current[func])) {\n              return tool.current[func]();\n            }\n            return undefined;\n          },\n          submitReviews: () => {\n            // eslint-disable-next-line no-console\n            console.log('in submit reviews');\n            const func = methods.submitReviews || 'submitReviews';\n            if (isCallableFunc(tool.current[func])) {\n              return tool.current[func]();\n            }\n            return undefined;\n          },\n        },\n      });\n\n      saveContent.current = (...args: any) => new Promise((resolve, reject) => {\n        connection.promise\n          .then((parent: any) => parent.saveContent(...args))\n          .then((url: string) => {\n            resolve(url);\n          })\n          .catch((e: any) => {\n            reject(e);\n          });\n      });\n\n      loadContent.current = (...args: any) => new Promise((resolve, reject) => {\n        connection.promise\n          .then((parent: any) => parent.loadContent(...args))\n          .then((data: any) => {\n            resolve(data);\n          })\n          .catch((e: any) => {\n            reject(e);\n          });\n      });\n\n      renderComplete.current = () => connection.promise.then((parent: any) => parent.renderComplete());\n\n      // get payload from parent\n      connection.promise\n        .then((parent: any) => parent.getPayload())\n        .then((p: any) => {\n          initJobProxy(p);\n          setPayload(p);\n        });\n\n      onShortcutsClick.current = (...args: any) => connection.promise.then((parent: any) => parent.onShortcutsClick(...args));\n\n      window.addEventListener('keydown', initShortcutsEvent);\n    }\n\n    if (mode === RunningMode.STANDALONE) {\n      // get sample payload\n      initJobProxy(samplePayload);\n      setPayload(samplePayload);\n    }\n\n    return () => {\n      window.removeEventListener('keydown', initShortcutsEvent);\n    };\n  }, [type, mode]);\n\n  // short\n  const initShortcutsEvent = (e: KeyboardEvent) => {\n    if (e.shiftKey && e.ctrlKey && jobProxy.current) {\n      let name: undefined | SubmitChannel;\n      let key: undefined | string;\n      const { toolMode } = jobProxy.current;\n      if (Object.values(SubmitChannelPayload).indexOf(e.key as any) >= 0) {\n        key = e.key;\n      }\n      if (isLabel(toolMode)) {\n        name = SubmitChannel.Label;\n      } else if (isQA(toolMode)) {\n        name = SubmitChannel.Qa;\n      } else if (toolMode === ToolMode.AUDIT) {\n        name = SubmitChannel.Audit;\n      };\n\n      if (name && key) {\n        e.preventDefault();\n        onShortcutsClick.current(name, key);\n      }\n    }\n  };\n\n  const initJobProxy = (p: Payload) => {\n    jobProxy.current = new JobProxy({\n      locale: p.locale,\n      toolName: type,\n      toolMode: p.tool_mode || p.mode,\n      projectId: p.project_id,\n      flowId: p.flow_id,\n      jobId: p.job_id,\n      taskId: p.task_id,\n      recordId: p.record_id,\n      reviewUrl: p._reviews,\n      reviewFrom: p.review_from,\n      flowData: p.flowData,\n      templateConfig: p,\n      saveContent: saveContent.current,\n      loadContent: loadContent.current,\n    });\n  };\n\n  return payload && (\n    <WrappedComponent\n      ref={tool}\n      saveContent={saveContent.current}\n      loadContent={loadContent.current}\n      renderComplete={renderComplete.current}\n      jobProxy={jobProxy.current}\n      {...payload}\n    />\n  );\n};\n\nexport default withConnect;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}