{"ast":null,"code":"var _jsxFileName = \"/Users/qzheng/Documents/webroot/annotation_tools/src/components/common/latex/HighlightHelper.tsx\";\nimport React, { useEffect, useImperativeHandle, useRef, forwardRef } from 'react';\nfunction textareaToDiv(text) {\n  return text.replace(/\\n$/g, '_65a5ba9e52a3761bd68eb531e9794ae12c1d34c167f071a6b239c855b5cf57b2').replace(/\\n/g, '_dafd41284316e72de3a0b07bd1262cd142151708353024244238eec3699e22ae').replace(/\\s/g, '_e613de3e0d3b707ade3d6a289abbab35c67d4476dc12211865d70a493d7e144c').replace(/(\\+|-|\\*|\\/|=|>|<|!|\\^|\\(|\\)|%)/g, '<span style=\"color: #08979C;\" class=\"hl\">$1</span>').replace(/(\\\\{2})/g, '<span style=\"color: #F5A623;\" class=\"hl\">$1</span>').replace(/(\\\\[a-zA-Z]+)/g, '<span style=\"color: #4A90E2;\" class=\"hl\">$1</span>').replace(/<span style=\"color: #4A90E2;\" class=\"hl\">(\\\\begin|\\\\end)<\\/span>/g, '<span style=\"color: #F5A623;\" class=\"hl\">$1</span>').replace(/([{}])/g, '<span style=\"color: #5E8D36;\" class=\"hl\">$1</span>').replace(/_dafd41284316e72de3a0b07bd1262cd142151708353024244238eec3699e22ae/g, '<br>').replace(/_e613de3e0d3b707ade3d6a289abbab35c67d4476dc12211865d70a493d7e144c/g, '&nbsp;').replace(/_65a5ba9e52a3761bd68eb531e9794ae12c1d34c167f071a6b239c855b5cf57b2/g, '<br><span style=\"color: rgba(0,0,0,0);\">_</span>');\n}\nconst HighlightHelper = forwardRef(({\n  text = '',\n  style\n}, ref) => {\n  const dom = useRef(null);\n  useEffect(() => {\n    if (dom.current) {\n      dom.current.innerHTML = textareaToDiv(text);\n    }\n  }, [text]);\n  useImperativeHandle(ref, () => ({\n    syncScroll: (x, y) => {\n      var _dom$current;\n      (_dom$current = dom.current) === null || _dom$current === void 0 ? void 0 : _dom$current.scrollTo(x, y);\n    }\n  }));\n  return /*#__PURE__*/React.createElement(\"div\", {\n    ref: dom,\n    style: style,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 5\n    }\n  });\n});\nexport default HighlightHelper;","map":{"version":3,"names":["React","useEffect","useImperativeHandle","useRef","forwardRef","textareaToDiv","text","replace","HighlightHelper","style","ref","dom","current","innerHTML","syncScroll","x","y","_dom$current","scrollTo","createElement","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber"],"sources":["/Users/qzheng/Documents/webroot/annotation_tools/src/components/common/latex/HighlightHelper.tsx"],"sourcesContent":["import React, { useEffect, useImperativeHandle, useRef, forwardRef } from 'react';\n\nfunction textareaToDiv(text: string) {\n  return text\n    .replace(/\\n$/g, '_65a5ba9e52a3761bd68eb531e9794ae12c1d34c167f071a6b239c855b5cf57b2')\n    .replace(/\\n/g, '_dafd41284316e72de3a0b07bd1262cd142151708353024244238eec3699e22ae')\n    .replace(/\\s/g, '_e613de3e0d3b707ade3d6a289abbab35c67d4476dc12211865d70a493d7e144c')\n    .replace(/(\\+|-|\\*|\\/|=|>|<|!|\\^|\\(|\\)|%)/g, '<span style=\"color: #08979C;\" class=\"hl\">$1</span>')\n    .replace(/(\\\\{2})/g, '<span style=\"color: #F5A623;\" class=\"hl\">$1</span>')\n    .replace(/(\\\\[a-zA-Z]+)/g, '<span style=\"color: #4A90E2;\" class=\"hl\">$1</span>')\n    .replace(/<span style=\"color: #4A90E2;\" class=\"hl\">(\\\\begin|\\\\end)<\\/span>/g, '<span style=\"color: #F5A623;\" class=\"hl\">$1</span>')\n    .replace(/([{}])/g, '<span style=\"color: #5E8D36;\" class=\"hl\">$1</span>')\n    .replace(/_dafd41284316e72de3a0b07bd1262cd142151708353024244238eec3699e22ae/g, '<br>')\n    .replace(/_e613de3e0d3b707ade3d6a289abbab35c67d4476dc12211865d70a493d7e144c/g, '&nbsp;')\n    .replace(/_65a5ba9e52a3761bd68eb531e9794ae12c1d34c167f071a6b239c855b5cf57b2/g, '<br><span style=\"color: rgba(0,0,0,0);\">_</span>');\n}\n\ninterface HighlightHelperProps {\n  text?: string;\n  style?: React.CSSProperties;\n}\n\nexport interface HighlightHelperHandle {\n  syncScroll: (x: number, y: number) => void;\n}\n\nconst HighlightHelper = forwardRef<HighlightHelperHandle, HighlightHelperProps>(({ text = '', style }, ref: any) => {\n  const dom = useRef<HTMLDivElement>(null);\n\n  useEffect(() => {\n    if (dom.current) {\n      dom.current.innerHTML = textareaToDiv(text);\n    }\n  }, [text]);\n\n  useImperativeHandle(ref, () => ({\n    syncScroll: (x: number, y: number) => {\n      dom.current?.scrollTo(x, y);\n    },\n  }));\n\n  return (\n    <div\n      ref={dom}\n      style={style}\n    />\n  );\n});\n\nexport default HighlightHelper;\n"],"mappings":";AAAA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,mBAAmB,EAAEC,MAAM,EAAEC,UAAU,QAAQ,OAAO;AAEjF,SAASC,aAAaA,CAACC,IAAY,EAAE;EACnC,OAAOA,IAAI,CACRC,OAAO,CAAC,MAAM,EAAE,mEAAmE,CAAC,CACpFA,OAAO,CAAC,KAAK,EAAE,mEAAmE,CAAC,CACnFA,OAAO,CAAC,KAAK,EAAE,mEAAmE,CAAC,CACnFA,OAAO,CAAC,kCAAkC,EAAE,oDAAoD,CAAC,CACjGA,OAAO,CAAC,UAAU,EAAE,oDAAoD,CAAC,CACzEA,OAAO,CAAC,gBAAgB,EAAE,oDAAoD,CAAC,CAC/EA,OAAO,CAAC,mEAAmE,EAAE,oDAAoD,CAAC,CAClIA,OAAO,CAAC,SAAS,EAAE,oDAAoD,CAAC,CACxEA,OAAO,CAAC,oEAAoE,EAAE,MAAM,CAAC,CACrFA,OAAO,CAAC,oEAAoE,EAAE,QAAQ,CAAC,CACvFA,OAAO,CAAC,oEAAoE,EAAE,kDAAkD,CAAC;AACtI;AAWA,MAAMC,eAAe,GAAGJ,UAAU,CAA8C,CAAC;EAAEE,IAAI,GAAG,EAAE;EAAEG;AAAM,CAAC,EAAEC,GAAQ,KAAK;EAClH,MAAMC,GAAG,GAAGR,MAAM,CAAiB,IAAI,CAAC;EAExCF,SAAS,CAAC,MAAM;IACd,IAAIU,GAAG,CAACC,OAAO,EAAE;MACfD,GAAG,CAACC,OAAO,CAACC,SAAS,GAAGR,aAAa,CAACC,IAAI,CAAC;IAC7C;EACF,CAAC,EAAE,CAACA,IAAI,CAAC,CAAC;EAEVJ,mBAAmB,CAACQ,GAAG,EAAE,OAAO;IAC9BI,UAAU,EAAEA,CAACC,CAAS,EAAEC,CAAS,KAAK;MAAA,IAAAC,YAAA;MACpC,CAAAA,YAAA,GAAAN,GAAG,CAACC,OAAO,cAAAK,YAAA,uBAAXA,YAAA,CAAaC,QAAQ,CAACH,CAAC,EAAEC,CAAC,CAAC;IAC7B;EACF,CAAC,CAAC,CAAC;EAEH,oBACEhB,KAAA,CAAAmB,aAAA;IACET,GAAG,EAAEC,GAAI;IACTF,KAAK,EAAEA,KAAM;IAAAW,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,CACd,CAAC;AAEN,CAAC,CAAC;AAEF,eAAejB,eAAe","ignoreList":[]},"metadata":{},"sourceType":"module"}