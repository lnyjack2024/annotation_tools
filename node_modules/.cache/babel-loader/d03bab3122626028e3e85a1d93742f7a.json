{"ast":null,"code":"import Mousetrap from 'mousetrap';\nimport { ReviewResult } from './types';\nimport store from './store/RootStore';\nexport default function bindKeyboardEvents(ctx) {\n  // default keyboard events\n  Mousetrap.bind('f', () => {\n    ctx.handleScreenFull();\n    return false;\n  });\n  Mousetrap.bind(['options+del', 'alt+del', 'options+backspace', 'alt+backspace'], () => {\n    if (store.instance.selectedInstance) {\n      store.instance.deleteInstance(store.instance.selectedInstance.id);\n    }\n    return false;\n  });\n  Mousetrap.bind(['ctrl+s', 'command+s'], () => {\n    ctx.handleSave();\n    return false;\n  });\n  Mousetrap.bind(['ctrl+z', 'command+z'], () => {\n    ctx.handleUndo();\n    return false;\n  });\n  Mousetrap.bind(['ctrl+y', 'command+y'], () => {\n    ctx.handleRedo();\n    return false;\n  });\n  Mousetrap.bind('space', () => {\n    store.waveform.handlePlay();\n    return false;\n  });\n  Mousetrap.bind(['ctrl+r', 'command+r'], e => {\n    window.location.reload();\n    return false;\n  });\n  Mousetrap.bind(['ctrl+i', 'command+i'], () => {\n    store.setting.setZoom(store.setting.zoom + 1);\n    return false;\n  });\n  Mousetrap.bind(['ctrl+o', 'command+o'], () => {\n    store.setting.setZoom(store.setting.zoom - 1);\n    return false;\n  });\n  Mousetrap.bind('1', () => {\n    store.review.shortcutAction(ReviewResult.APPROVE);\n    return false;\n  });\n  Mousetrap.bind('2', () => {\n    if (store.review.auditionRegion) {\n      store.review.auditionToReview();\n    } else {\n      store.review.shortcutAction(ReviewResult.REJECT);\n    }\n    return false;\n  });\n  Mousetrap.bind('3', () => {\n    store.review.shortcutAction(ReviewResult.SUSPEND);\n    return false;\n  });\n  Mousetrap.bind('ctrl+w', () => {\n    store.setting.setIsSolo(!store.setting.isSolo);\n    return false;\n  });\n  return () => {\n    Mousetrap.unbind('f');\n    Mousetrap.unbind(['options+del', 'alt+del', 'options+backspace', 'alt+backspace']);\n    Mousetrap.unbind(['ctrl+s', 'command+s']);\n    Mousetrap.unbind(['ctrl+z', 'command+z']);\n    Mousetrap.unbind(['ctrl+y', 'command+y']);\n    Mousetrap.unbind('space');\n    Mousetrap.unbind(['ctrl+r', 'command+r']);\n    Mousetrap.unbind(['ctrl+i', 'command+i']);\n    Mousetrap.unbind(['ctrl+o', 'command+o']);\n    Mousetrap.unbind('1');\n    Mousetrap.unbind('2');\n    Mousetrap.unbind('3');\n    Mousetrap.unbind('ctrl+w');\n  };\n}","map":{"version":3,"names":["Mousetrap","ReviewResult","store","bindKeyboardEvents","ctx","bind","handleScreenFull","instance","selectedInstance","deleteInstance","id","handleSave","handleUndo","handleRedo","waveform","handlePlay","e","window","location","reload","setting","setZoom","zoom","review","shortcutAction","APPROVE","auditionRegion","auditionToReview","REJECT","SUSPEND","setIsSolo","isSolo","unbind"],"sources":["/Users/qzheng/Documents/webroot/annotation_tools/src/components/multi-channel/keyboard-events.ts"],"sourcesContent":["import Mousetrap from 'mousetrap';\nimport { MultiChannel } from './index';\nimport { ReviewResult } from './types';\nimport store from './store/RootStore';\n\nexport default function bindKeyboardEvents(ctx: MultiChannel) {\n  // default keyboard events\n  Mousetrap.bind('f', () => {\n    ctx.handleScreenFull();\n    return false;\n  });\n  Mousetrap.bind(['options+del', 'alt+del', 'options+backspace', 'alt+backspace'], () => {\n    if (store.instance.selectedInstance) {\n      store.instance.deleteInstance(store.instance.selectedInstance.id);\n    }\n    return false;\n  });\n  Mousetrap.bind(['ctrl+s', 'command+s'], () => {\n    ctx.handleSave();\n    return false;\n  });\n  Mousetrap.bind(['ctrl+z', 'command+z'], () => {\n    ctx.handleUndo();\n    return false;\n  });\n  Mousetrap.bind(['ctrl+y', 'command+y'], () => {\n    ctx.handleRedo();\n    return false;\n  });\n  Mousetrap.bind('space', () => {\n    store.waveform.handlePlay();\n    return false;\n  });\n\n  Mousetrap.bind(['ctrl+r', 'command+r'], (e) => {\n    window.location.reload();\n    return false;\n  });\n\n  Mousetrap.bind(['ctrl+i', 'command+i'], () => {\n    store.setting.setZoom(store.setting.zoom + 1);\n    return false;\n  });\n\n  Mousetrap.bind(['ctrl+o', 'command+o'], () => {\n    store.setting.setZoom(store.setting.zoom - 1);\n    return false;\n  });\n\n  Mousetrap.bind('1', () => {\n    store.review.shortcutAction(ReviewResult.APPROVE);\n    return false;\n  });\n\n  Mousetrap.bind('2', () => {\n    if (store.review.auditionRegion) {\n      store.review.auditionToReview();\n    } else {\n      store.review.shortcutAction(ReviewResult.REJECT);\n    }\n    return false;\n  });\n\n  Mousetrap.bind('3', () => {\n    store.review.shortcutAction(ReviewResult.SUSPEND);\n    return false;\n  });\n\n  Mousetrap.bind('ctrl+w', () => {\n    store.setting.setIsSolo(!store.setting.isSolo);\n    return false;\n  });\n\n  return () => {\n    Mousetrap.unbind('f');\n    Mousetrap.unbind(['options+del', 'alt+del', 'options+backspace', 'alt+backspace']);\n    Mousetrap.unbind(['ctrl+s', 'command+s']);\n    Mousetrap.unbind(['ctrl+z', 'command+z']);\n    Mousetrap.unbind(['ctrl+y', 'command+y']);\n    Mousetrap.unbind('space');\n    Mousetrap.unbind(['ctrl+r', 'command+r']);\n    Mousetrap.unbind(['ctrl+i', 'command+i']);\n    Mousetrap.unbind(['ctrl+o', 'command+o']);\n    Mousetrap.unbind('1');\n    Mousetrap.unbind('2');\n    Mousetrap.unbind('3');\n    Mousetrap.unbind('ctrl+w');\n  };\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}