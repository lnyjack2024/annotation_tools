{"ast":null,"code":"import React,{useState}from'react';import{observer}from'mobx-react';import cx from'classnames';import{Up,Pencil}from'../../../common/icons';import FrameAttributes from'./FrameAttributes';import store from'../../store/RootStore';import i18n from'../../locales';const CameraAttributes=observer(()=>{const[collapsed,setCollapsed]=useState(false);const{currentFrame,isSingleCamera,cameraNames,frameConfig,attributes}=store.frame;let valid=true;for(let index=0;index<cameraNames.length;index+=1){var _attributes$item,_attributes$item$curr;const item=cameraNames[index];const itemValid=((_attributes$item=attributes[item])===null||_attributes$item===void 0?void 0:(_attributes$item$curr=_attributes$item[currentFrame])===null||_attributes$item$curr===void 0?void 0:_attributes$item$curr.originValid)!==false;if(!itemValid){valid=false;break;}}if(!frameConfig&&valid){return null;}return/*#__PURE__*/React.createElement(\"div\",{className:cx('collapse-panel',{collapsed})},/*#__PURE__*/React.createElement(\"div\",{className:\"collapse-panel-title space-between\",onClick:()=>setCollapsed(!collapsed)},/*#__PURE__*/React.createElement(\"span\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"collapse-panel-collapse-icon\"},/*#__PURE__*/React.createElement(Up,null)),i18n.translate('CAMERA_ATTRIBUTES',{values:{frame:currentFrame+1}})),/*#__PURE__*/React.createElement(\"span\",null,isSingleCamera&&!store.readonly&&frameConfig&&/*#__PURE__*/React.createElement(\"div\",{className:\"collapse-panel-icon\",onClick:e=>{e.stopPropagation();store.config.setFrameAttributesModalVisible(true);}},/*#__PURE__*/React.createElement(Pencil,null)))),/*#__PURE__*/React.createElement(\"div\",{className:\"collapse-panel-content\",style:{paddingBottom:0}},cameraNames.map((cameraName,index)=>/*#__PURE__*/React.createElement(FrameAttributes,{key:cameraName,camera:cameraName,cameraIndex:index}))));});export default CameraAttributes;","map":{"version":3,"names":["React","useState","observer","cx","Up","Pencil","FrameAttributes","store","i18n","CameraAttributes","collapsed","setCollapsed","currentFrame","isSingleCamera","cameraNames","frameConfig","attributes","frame","valid","index","length","_attributes$item","_attributes$item$curr","item","itemValid","originValid","createElement","className","onClick","translate","values","readonly","e","stopPropagation","config","setFrameAttributesModalVisible","style","paddingBottom","map","cameraName","key","camera","cameraIndex"],"sources":["/Users/qzheng/Documents/webroot/annotation_tools/src/components/video-tracking2/components/attributes/CameraAttributes.tsx"],"sourcesContent":["import React, { useState } from 'react';\nimport { observer } from 'mobx-react';\nimport cx from 'classnames';\nimport { Up, Pencil } from '../../../common/icons';\nimport FrameAttributes from './FrameAttributes';\nimport store from '../../store/RootStore';\nimport i18n from '../../locales';\n\nconst CameraAttributes = observer(() => {\n  const [collapsed, setCollapsed] = useState(false);\n\n  const { currentFrame, isSingleCamera, cameraNames, frameConfig, attributes } = store.frame;\n  let valid = true;\n\n  for (let index = 0; index < cameraNames.length; index += 1) {\n    const item = cameraNames[index];\n    const itemValid = attributes[item]?.[currentFrame]?.originValid !== false;\n    if (!itemValid) {\n      valid = false;\n      break;\n    }\n  }\n  if (!frameConfig && valid) {\n    return null;\n  }\n\n  return (\n    <div\n      className={cx('collapse-panel', {\n        collapsed,\n      })}\n    >\n      <div\n        className=\"collapse-panel-title space-between\"\n        onClick={() => setCollapsed(!collapsed)}\n      >\n        <span>\n          <div className=\"collapse-panel-collapse-icon\">\n            <Up />\n          </div>\n          {i18n.translate('CAMERA_ATTRIBUTES', { values: { frame: currentFrame + 1 } })}\n        </span>\n        <span>\n          {isSingleCamera && !store.readonly && frameConfig && (\n            <div\n              className=\"collapse-panel-icon\"\n              onClick={(e) => {\n                e.stopPropagation();\n                store.config.setFrameAttributesModalVisible(true);\n              }}\n            >\n              <Pencil />\n            </div>\n          )}\n        </span>\n      </div>\n      <div\n        className=\"collapse-panel-content\"\n        style={{ paddingBottom: 0 }}\n      >\n        {cameraNames.map((cameraName, index) => (\n          <FrameAttributes\n            key={cameraName}\n            camera={cameraName}\n            cameraIndex={index}\n          />\n        ))}\n      </div>\n    </div>\n  );\n});\n\nexport default CameraAttributes;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,OAASC,QAAQ,KAAQ,YAAY,CACrC,MAAO,CAAAC,EAAE,KAAM,YAAY,CAC3B,OAASC,EAAE,CAAEC,MAAM,KAAQ,uBAAuB,CAClD,MAAO,CAAAC,eAAe,KAAM,mBAAmB,CAC/C,MAAO,CAAAC,KAAK,KAAM,uBAAuB,CACzC,MAAO,CAAAC,IAAI,KAAM,eAAe,CAEhC,KAAM,CAAAC,gBAAgB,CAAGP,QAAQ,CAAC,IAAM,CACtC,KAAM,CAACQ,SAAS,CAAEC,YAAY,CAAC,CAAGV,QAAQ,CAAC,KAAK,CAAC,CAEjD,KAAM,CAAEW,YAAY,CAAEC,cAAc,CAAEC,WAAW,CAAEC,WAAW,CAAEC,UAAW,CAAC,CAAGT,KAAK,CAACU,KAAK,CAC1F,GAAI,CAAAC,KAAK,CAAG,IAAI,CAEhB,IAAK,GAAI,CAAAC,KAAK,CAAG,CAAC,CAAEA,KAAK,CAAGL,WAAW,CAACM,MAAM,CAAED,KAAK,EAAI,CAAC,CAAE,KAAAE,gBAAA,CAAAC,qBAAA,CAC1D,KAAM,CAAAC,IAAI,CAAGT,WAAW,CAACK,KAAK,CAAC,CAC/B,KAAM,CAAAK,SAAS,CAAG,EAAAH,gBAAA,CAAAL,UAAU,CAACO,IAAI,CAAC,UAAAF,gBAAA,kBAAAC,qBAAA,CAAhBD,gBAAA,CAAmBT,YAAY,CAAC,UAAAU,qBAAA,iBAAhCA,qBAAA,CAAkCG,WAAW,IAAK,KAAK,CACzE,GAAI,CAACD,SAAS,CAAE,CACdN,KAAK,CAAG,KAAK,CACb,MACF,CACF,CACA,GAAI,CAACH,WAAW,EAAIG,KAAK,CAAE,CACzB,MAAO,KAAI,CACb,CAEA,mBACElB,KAAA,CAAA0B,aAAA,QACEC,SAAS,CAAExB,EAAE,CAAC,gBAAgB,CAAE,CAC9BO,SACF,CAAC,CAAE,eAEHV,KAAA,CAAA0B,aAAA,QACEC,SAAS,CAAC,oCAAoC,CAC9CC,OAAO,CAAEA,CAAA,GAAMjB,YAAY,CAAC,CAACD,SAAS,CAAE,eAExCV,KAAA,CAAA0B,aAAA,0BACE1B,KAAA,CAAA0B,aAAA,QAAKC,SAAS,CAAC,8BAA8B,eAC3C3B,KAAA,CAAA0B,aAAA,CAACtB,EAAE,KAAE,CACF,CAAC,CACLI,IAAI,CAACqB,SAAS,CAAC,mBAAmB,CAAE,CAAEC,MAAM,CAAE,CAAEb,KAAK,CAAEL,YAAY,CAAG,CAAE,CAAE,CAAC,CACxE,CAAC,cACPZ,KAAA,CAAA0B,aAAA,aACGb,cAAc,EAAI,CAACN,KAAK,CAACwB,QAAQ,EAAIhB,WAAW,eAC/Cf,KAAA,CAAA0B,aAAA,QACEC,SAAS,CAAC,qBAAqB,CAC/BC,OAAO,CAAGI,CAAC,EAAK,CACdA,CAAC,CAACC,eAAe,CAAC,CAAC,CACnB1B,KAAK,CAAC2B,MAAM,CAACC,8BAA8B,CAAC,IAAI,CAAC,CACnD,CAAE,eAEFnC,KAAA,CAAA0B,aAAA,CAACrB,MAAM,KAAE,CACN,CAEH,CACH,CAAC,cACNL,KAAA,CAAA0B,aAAA,QACEC,SAAS,CAAC,wBAAwB,CAClCS,KAAK,CAAE,CAAEC,aAAa,CAAE,CAAE,CAAE,EAE3BvB,WAAW,CAACwB,GAAG,CAAC,CAACC,UAAU,CAAEpB,KAAK,gBACjCnB,KAAA,CAAA0B,aAAA,CAACpB,eAAe,EACdkC,GAAG,CAAED,UAAW,CAChBE,MAAM,CAAEF,UAAW,CACnBG,WAAW,CAAEvB,KAAM,CACpB,CACF,CACE,CACF,CAAC,CAEV,CAAC,CAAC,CAEF,cAAe,CAAAV,gBAAgB","ignoreList":[]},"metadata":{},"sourceType":"module"}