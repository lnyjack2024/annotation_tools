{"ast":null,"code":"import OntologyStore from './OntologyStore';\nimport UndoStore from './UndoStore';\nimport SettingsStore from './SettingsStore';\nimport ReviewsStore from './ReviewsStore';\nimport ShapeStore from './ShapeStore';\nimport HandleStore from './HandleStore';\n/**\n * root store\n * @class\n */\nclass RootStore {\n  constructor() {\n    this.ontology = void 0;\n    this.undo = void 0;\n    this.review = void 0;\n    this.setting = void 0;\n    this.shape = void 0;\n    this.handle = void 0;\n    this.ontology = new OntologyStore(this);\n    this.undo = new UndoStore(this);\n    this.review = new ReviewsStore(this);\n    this.setting = new SettingsStore(this);\n    this.shape = new ShapeStore(this);\n    this.handle = new HandleStore(this);\n  }\n  async init(payload) {\n    this.ontology.setOntology(payload.ontology);\n    this.setting.initPayload(payload);\n    this.review.init(payload.jobProxy.toolMode, payload.issue_types);\n\n    // const reviews = await payload.jobProxy.loadReviews();\n    this.review.setInitialData([{\n      \"id\": \"dce5ff5b-83e1-42fc-a47b-16f900f43b7a\",\n      \"number\": 1,\n      \"frameIndex\": 0,\n      \"data\": {\n        \"position\": {\n          \"x\": 179.0334602740618,\n          \"y\": 420.3538707138036\n        }\n      },\n      \"result\": \"reject\",\n      \"comment\": \"22333\",\n      \"label\": \"Missed\"\n    }, {\n      \"id\": \"c50ebed8-a217-4ea3-8fdc-eeade9209767\",\n      \"number\": 2,\n      \"frameIndex\": 0,\n      \"data\": {\n        \"position\": {\n          \"x\": 152.1024965009928,\n          \"y\": 474.92113204701286\n        }\n      },\n      \"result\": \"reject\",\n      \"comment\": \"遗漏\",\n      \"label\": \"Missed\"\n    }]);\n  }\n}\nconst rootStore = new RootStore();\nexport default rootStore;","map":{"version":3,"names":["OntologyStore","UndoStore","SettingsStore","ReviewsStore","ShapeStore","HandleStore","RootStore","constructor","ontology","undo","review","setting","shape","handle","init","payload","setOntology","initPayload","jobProxy","toolMode","issue_types","setInitialData","rootStore"],"sources":["/Users/qzheng/Documents/webroot/annotation_tools/src/components/keypoint/store/RootStore.ts"],"sourcesContent":["import OntologyStore from './OntologyStore';\nimport UndoStore from './UndoStore';\nimport SettingsStore from './SettingsStore';\nimport ReviewsStore from './ReviewsStore';\nimport ShapeStore from './ShapeStore';\nimport HandleStore from './HandleStore';\nimport { Payload } from '../types';\n\n/**\n * root store\n * @class\n */\nclass RootStore {\n  ontology: OntologyStore;\n\n  undo: UndoStore;\n\n  review: ReviewsStore;\n\n  setting: SettingsStore;\n\n  shape: ShapeStore;\n\n  handle: HandleStore;\n\n  constructor() {\n    this.ontology = new OntologyStore(this);\n    this.undo = new UndoStore(this);\n    this.review = new ReviewsStore(this);\n    this.setting = new SettingsStore(this);\n    this.shape = new ShapeStore(this);\n    this.handle = new HandleStore(this);\n  }\n\n  async init(payload: Payload) {\n    this.ontology.setOntology(payload.ontology);\n    this.setting.initPayload(payload);\n    this.review.init(payload.jobProxy.toolMode, payload.issue_types);\n\n    // const reviews = await payload.jobProxy.loadReviews();\n    this.review.setInitialData([\n    {\n        \"id\": \"dce5ff5b-83e1-42fc-a47b-16f900f43b7a\",\n        \"number\": 1,\n        \"frameIndex\": 0,\n        \"data\": {\n            \"position\": {\n                \"x\": 179.0334602740618,\n                \"y\": 420.3538707138036\n            }\n        },\n        \"result\": \"reject\",\n        \"comment\": \"22333\",\n        \"label\": \"Missed\"\n    },\n    {\n        \"id\": \"c50ebed8-a217-4ea3-8fdc-eeade9209767\",\n        \"number\": 2,\n        \"frameIndex\": 0,\n        \"data\": {\n            \"position\": {\n                \"x\": 152.1024965009928,\n                \"y\": 474.92113204701286\n            }\n        },\n        \"result\": \"reject\",\n        \"comment\": \"遗漏\",\n        \"label\": \"Missed\"\n    }\n]);\n  }\n}\nconst rootStore = new RootStore();\n\nexport type RootStoreType = typeof rootStore;\n\nexport default rootStore;\n"],"mappings":"AAAA,OAAOA,aAAa,MAAM,iBAAiB;AAC3C,OAAOC,SAAS,MAAM,aAAa;AACnC,OAAOC,aAAa,MAAM,iBAAiB;AAC3C,OAAOC,YAAY,MAAM,gBAAgB;AACzC,OAAOC,UAAU,MAAM,cAAc;AACrC,OAAOC,WAAW,MAAM,eAAe;AAGvC;AACA;AACA;AACA;AACA,MAAMC,SAAS,CAAC;EAadC,WAAWA,CAAA,EAAG;IAAA,KAZdC,QAAQ;IAAA,KAERC,IAAI;IAAA,KAEJC,MAAM;IAAA,KAENC,OAAO;IAAA,KAEPC,KAAK;IAAA,KAELC,MAAM;IAGJ,IAAI,CAACL,QAAQ,GAAG,IAAIR,aAAa,CAAC,IAAI,CAAC;IACvC,IAAI,CAACS,IAAI,GAAG,IAAIR,SAAS,CAAC,IAAI,CAAC;IAC/B,IAAI,CAACS,MAAM,GAAG,IAAIP,YAAY,CAAC,IAAI,CAAC;IACpC,IAAI,CAACQ,OAAO,GAAG,IAAIT,aAAa,CAAC,IAAI,CAAC;IACtC,IAAI,CAACU,KAAK,GAAG,IAAIR,UAAU,CAAC,IAAI,CAAC;IACjC,IAAI,CAACS,MAAM,GAAG,IAAIR,WAAW,CAAC,IAAI,CAAC;EACrC;EAEA,MAAMS,IAAIA,CAACC,OAAgB,EAAE;IAC3B,IAAI,CAACP,QAAQ,CAACQ,WAAW,CAACD,OAAO,CAACP,QAAQ,CAAC;IAC3C,IAAI,CAACG,OAAO,CAACM,WAAW,CAACF,OAAO,CAAC;IACjC,IAAI,CAACL,MAAM,CAACI,IAAI,CAACC,OAAO,CAACG,QAAQ,CAACC,QAAQ,EAAEJ,OAAO,CAACK,WAAW,CAAC;;IAEhE;IACA,IAAI,CAACV,MAAM,CAACW,cAAc,CAAC,CAC3B;MACI,IAAI,EAAE,sCAAsC;MAC5C,QAAQ,EAAE,CAAC;MACX,YAAY,EAAE,CAAC;MACf,MAAM,EAAE;QACJ,UAAU,EAAE;UACR,GAAG,EAAE,iBAAiB;UACtB,GAAG,EAAE;QACT;MACJ,CAAC;MACD,QAAQ,EAAE,QAAQ;MAClB,SAAS,EAAE,OAAO;MAClB,OAAO,EAAE;IACb,CAAC,EACD;MACI,IAAI,EAAE,sCAAsC;MAC5C,QAAQ,EAAE,CAAC;MACX,YAAY,EAAE,CAAC;MACf,MAAM,EAAE;QACJ,UAAU,EAAE;UACR,GAAG,EAAE,iBAAiB;UACtB,GAAG,EAAE;QACT;MACJ,CAAC;MACD,QAAQ,EAAE,QAAQ;MAClB,SAAS,EAAE,IAAI;MACf,OAAO,EAAE;IACb,CAAC,CACJ,CAAC;EACA;AACF;AACA,MAAMC,SAAS,GAAG,IAAIhB,SAAS,CAAC,CAAC;AAIjC,eAAegB,SAAS","ignoreList":[]},"metadata":{},"sourceType":"module"}