{"ast":null,"code":"var _jsxFileName = \"/Users/qzheng/Documents/webroot/annotation_tools/src/components/common/sidebar/ShapeLabel.tsx\";\nimport React, { useState } from 'react';\nimport { PlusCircleOutlined, CheckCircleOutlined } from '@ant-design/icons';\nimport cx from 'classnames';\nimport ShapeMenu from './ShapeMenu';\nimport './ShapeLabel.scss';\nconst ShapeLabel = ({\n  id,\n  label,\n  hidden,\n  selected,\n  approved,\n  suspending,\n  rejected,\n  menuItems,\n  onClick,\n  onAddClick,\n  onReviewClick\n}) => {\n  const [hovered, setHovered] = useState(false);\n  const [menuVisible, setMenuVisible] = useState(false);\n  const [menuPosition, setMenuPosition] = useState({\n    x: -1,\n    y: -1\n  });\n  return /*#__PURE__*/React.createElement(\"div\", {\n    id: id,\n    className: cx('shape-label', {\n      'shape-label--hidden': hidden,\n      'shape-label--selected': selected,\n      'shape-label--approved': !hidden && approved,\n      'shape-label--suspending': !hidden && suspending,\n      'shape-label--rejected': !hidden && rejected\n    }),\n    onMouseDown: onClick,\n    onMouseEnter: () => setHovered(true),\n    onMouseLeave: () => setHovered(false),\n    onContextMenu: e => {\n      e.preventDefault();\n      if (!hidden) {\n        const {\n          top,\n          right,\n          height\n        } = e.currentTarget.getBoundingClientRect();\n        setMenuPosition({\n          x: right + 8,\n          y: top + height / 2\n        });\n        setMenuVisible(true);\n      }\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 5\n    }\n  }, label, hidden && hovered && onAddClick && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"shape-icon\",\n    onClick: onAddClick,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(PlusCircleOutlined, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 11\n    }\n  })), !hidden && onReviewClick && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"shape-icon\",\n    onClick: onReviewClick,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(CheckCircleOutlined, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 11\n    }\n  })), menuItems && menuItems.length > 0 && menuVisible && /*#__PURE__*/React.createElement(ShapeMenu, {\n    position: menuPosition,\n    items: menuItems,\n    onClose: () => setMenuVisible(false),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 9\n    }\n  }));\n};\nexport default ShapeLabel;","map":{"version":3,"names":["React","useState","PlusCircleOutlined","CheckCircleOutlined","cx","ShapeMenu","ShapeLabel","id","label","hidden","selected","approved","suspending","rejected","menuItems","onClick","onAddClick","onReviewClick","hovered","setHovered","menuVisible","setMenuVisible","menuPosition","setMenuPosition","x","y","createElement","className","onMouseDown","onMouseEnter","onMouseLeave","onContextMenu","e","preventDefault","top","right","height","currentTarget","getBoundingClientRect","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","length","position","items","onClose"],"sources":["/Users/qzheng/Documents/webroot/annotation_tools/src/components/common/sidebar/ShapeLabel.tsx"],"sourcesContent":["import React, { useState } from 'react';\nimport { PlusCircleOutlined, CheckCircleOutlined } from '@ant-design/icons';\nimport cx from 'classnames';\nimport ShapeMenu from './ShapeMenu';\nimport './ShapeLabel.scss';\n\ninterface ShapeLabelProps {\n  id?: string;\n  label: string;\n  hidden?: boolean;\n  selected?: boolean;\n  approved?: boolean;\n  suspending?: boolean;\n  rejected?: boolean;\n  menuItems?: { label: string; disabled?: boolean; onClick: () => void }[][];\n  onClick?: (e: React.MouseEvent) => void;\n  onAddClick?: (e: React.MouseEvent) => void;\n  onReviewClick?: (e: React.MouseEvent) => void;\n}\n\nconst ShapeLabel = ({\n  id,\n  label,\n  hidden,\n  selected,\n  approved,\n  suspending,\n  rejected,\n  menuItems,\n  onClick,\n  onAddClick,\n  onReviewClick,\n}: ShapeLabelProps) => {\n  const [hovered, setHovered] = useState(false);\n  const [menuVisible, setMenuVisible] = useState(false);\n  const [menuPosition, setMenuPosition] = useState({ x: -1, y: -1 });\n\n  return (\n    <div\n      id={id}\n      className={cx('shape-label', {\n        'shape-label--hidden': hidden,\n        'shape-label--selected': selected,\n        'shape-label--approved': !hidden && approved,\n        'shape-label--suspending': !hidden && suspending,\n        'shape-label--rejected': !hidden && rejected,\n      })}\n      onMouseDown={onClick}\n      onMouseEnter={() => setHovered(true)}\n      onMouseLeave={() => setHovered(false)}\n      onContextMenu={(e) => {\n        e.preventDefault();\n        if (!hidden) {\n          const { top, right, height } = e.currentTarget.getBoundingClientRect();\n          setMenuPosition({ x: right + 8, y: top + height / 2 });\n          setMenuVisible(true);\n        }\n      }}\n    >\n      {label}\n      {hidden && hovered && onAddClick && (\n        <div className=\"shape-icon\" onClick={onAddClick}>\n          <PlusCircleOutlined />\n        </div>\n      )}\n      {!hidden && onReviewClick && (\n        <div className=\"shape-icon\" onClick={onReviewClick}>\n          <CheckCircleOutlined />\n        </div>\n      )}\n      {menuItems && menuItems.length > 0 && menuVisible && (\n        <ShapeMenu position={menuPosition} items={menuItems} onClose={() => setMenuVisible(false)} />\n      )}\n    </div>\n  );\n};\n\nexport default ShapeLabel;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}