{"ast":null,"code":"var _jsxFileName = \"/Users/qzheng/Documents/webroot/annotation_tools/src/components/video-tracking2/components/review/ReviewModal.tsx\";\nimport React, { useState, useEffect, useRef } from 'react';\nimport { observer } from 'mobx-react';\nimport cx from 'classnames';\nimport { ImageTextField } from '@appen-china/easy-form';\nimport { UpOutlined, DownOutlined } from '@ant-design/icons';\nimport store from '../../store/RootStore';\nimport i18n from '../../locales';\nimport { ReviewResult, ViewMode } from '../../types';\nimport { SIDEBAR_WIDTH, TOOLBAR_HEIGHT } from '../../constants';\nimport FramesApply from '../attributes/FramesApply';\nimport { QuestionCircleFilled, Warning } from '../../../common/icons';\nimport './ReviewModal.scss';\nexport function getReviewRelatedInstanceInfo(review) {\n  const {\n    instanceId,\n    instanceItemId\n  } = review;\n  let infoStr;\n  let instance;\n  let instanceItem;\n  if (instanceId) {\n    // has related instance\n    instance = store.instance.getInstanceById(instanceId);\n    if (instance) {\n      if (instanceItemId) {\n        // has related instance item\n        instanceItem = instance.items[instanceItemId];\n        if (instanceItem) {\n          infoStr = instanceItem.label;\n        } else {\n          infoStr = `${instance.label}-${i18n.translate('REVIEW_NO_ITEM')}`;\n        }\n      } else {\n        infoStr = instance.label;\n      }\n    } else {\n      infoStr = i18n.translate('REVIEW_NO_INSTANCE');\n    }\n  } else {\n    infoStr = i18n.translate('REVIEW_NO_RELATED');\n  }\n  return {\n    infoStr,\n    instance,\n    instanceItem\n  };\n}\nconst reviewModalWidth = 360;\nconst reviewModalHeight = 522;\nconst ReviewModal = observer(() => {\n  const [orderedTypes, setOrderedTypes] = useState([]);\n  const [typeCollapsed, setTypeCollapsed] = useState(true);\n  const [typeError, setTypeError] = useState(false);\n  const downPoint = useRef(null);\n  const downPosition = useRef(null);\n  const copyToFrames = useRef([]);\n  const framesApplyRef = useRef(null);\n  const {\n    reviewModalVisible\n  } = store.config;\n  const {\n    reviewLayerOffset,\n    selectedAnchor,\n    editingReview,\n    reviewResultTypes,\n    issueTypes\n  } = store.review;\n  useEffect(() => {\n    // 重新打开弹窗时，重置collapse状态\n    setTypeCollapsed(issueTypes.length > 8);\n  }, [reviewModalVisible]);\n  useEffect(() => {\n    // review变化时，更新状态\n    const {\n      type = []\n    } = editingReview !== null && editingReview !== void 0 ? editingReview : {};\n    const types = [...type];\n    issueTypes.forEach(t => {\n      if (types.indexOf(t) < 0) {\n        types.push(t);\n      }\n    });\n    setOrderedTypes(types);\n    setTypeError(false);\n    copyToFrames.current = [];\n  }, [editingReview, editingReview === null || editingReview === void 0 ? void 0 : editingReview.type, editingReview === null || editingReview === void 0 ? void 0 : editingReview.result]);\n  const handleDelete = () => {\n    if (editingReview && selectedAnchor) {\n      store.review.deleteReview(editingReview, selectedAnchor);\n      store.review.unselectReview();\n      store.config.setReviewModalVisible(false);\n    }\n  };\n  const handleSave = () => {\n    if (editingReview) {\n      if (editingReview.result === ReviewResult.REJECT && (!editingReview.type || editingReview.type.length <= 0)) {\n        setTypeError(true);\n        return;\n      }\n      store.review.updateReview(editingReview, copyToFrames.current);\n      store.review.unselectReview();\n      store.config.setReviewModalVisible(false);\n    }\n  };\n  const isGridView = store.config.viewMode === ViewMode.GRID;\n  const reviewLayer = isGridView ? selectedAnchor === null || selectedAnchor === void 0 ? void 0 : selectedAnchor.container : store.review.reviewLayer;\n  if (!reviewModalVisible || !reviewLayer || !selectedAnchor || !editingReview) {\n    return null;\n  }\n  const {\n    x,\n    y\n  } = reviewLayer.toGlobal({\n    x: editingReview.x,\n    y: editingReview.y\n  });\n  let left = x + reviewLayerOffset.x;\n  let top = y + reviewLayerOffset.y;\n  if (store.config.viewMode === ViewMode.GRID) {\n    left = x + SIDEBAR_WIDTH + 4;\n    top = y + TOOLBAR_HEIGHT + 48 + 4;\n  }\n  let modalLeft = left + 32;\n  let modalTop = top - 32;\n  const {\n    clientWidth,\n    clientHeight\n  } = document.body;\n  if (modalLeft + reviewModalWidth > clientWidth) {\n    modalLeft = left - reviewModalWidth - 32;\n  }\n  if (modalTop + reviewModalHeight > clientHeight) {\n    modalTop = clientHeight - reviewModalHeight;\n  }\n  const {\n    infoStr,\n    instanceItem\n  } = getReviewRelatedInstanceInfo(editingReview);\n  const shapeRelates = editingReview.instanceId && editingReview.instanceItemId;\n  const shapeExists = (instanceItem === null || instanceItem === void 0 ? void 0 : instanceItem.frameStatus[editingReview.frameIndex]) !== undefined;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"review-modal-mask\",\n    onMouseMove: e => {\n      if (downPosition.current && downPoint.current && reviewLayer) {\n        const offsetX = e.clientX - downPosition.current.x;\n        const offsetY = e.clientY - downPosition.current.y;\n        const {\n          x: px,\n          y: py\n        } = reviewLayer.toLocal({\n          x: downPoint.current.x + offsetX,\n          y: downPoint.current.y + offsetY\n        });\n        selectedAnchor.setPosition(px, py);\n        store.review.updateReviewInfo(editingReview, {\n          x: px,\n          y: py\n        });\n      }\n    },\n    onMouseUp: () => {\n      downPosition.current = null;\n      downPoint.current = null;\n    },\n    onMouseDown: () => {\n      var _framesApplyRef$curre;\n      if (!(framesApplyRef === null || framesApplyRef === void 0 ? void 0 : (_framesApplyRef$curre = framesApplyRef.current) === null || _framesApplyRef$curre === void 0 ? void 0 : _framesApplyRef$curre.visible)) {\n        handleSave();\n      }\n    },\n    onContextMenu: e => e.preventDefault(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"review-anchor-ghost\",\n    style: {\n      left: left - 16,\n      top: top - 30\n    },\n    onMouseDown: e => {\n      e.stopPropagation();\n      downPosition.current = {\n        x: e.clientX,\n        y: e.clientY\n      };\n      downPoint.current = {\n        x,\n        y\n      };\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"review-modal\",\n    style: {\n      width: reviewModalWidth,\n      left: modalLeft,\n      top: modalTop\n    },\n    onMouseDown: e => {\n      var _framesApplyRef$curre2;\n      if (!(framesApplyRef === null || framesApplyRef === void 0 ? void 0 : (_framesApplyRef$curre2 = framesApplyRef.current) === null || _framesApplyRef$curre2 === void 0 ? void 0 : _framesApplyRef$curre2.visible)) {\n        e.stopPropagation();\n      }\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"review-modal-title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 9\n    }\n  }, i18n.translate('REVIEW_MODAL_LABEL')), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"review-modal-content scroller\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 169,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"review-info\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 170,\n      columnNumber: 11\n    }\n  }, !shapeRelates && /*#__PURE__*/React.createElement(QuestionCircleFilled, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 31\n    }\n  }), `[${infoStr}]`, `[${i18n.translate('FRAME_ATTRIBUTES_FRAME', {\n    values: {\n      frame: store.frame.currentFrame + 1\n    }\n  })}]`), shapeRelates && !shapeExists && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"review-info\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Warning, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 177,\n      columnNumber: 15\n    }\n  }), i18n.translate('REVIEW_NO_SHAPE')), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"review-result\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 181,\n      columnNumber: 11\n    }\n  }, reviewResultTypes.map(type => /*#__PURE__*/React.createElement(\"div\", {\n    key: type,\n    className: cx('review-btn', {\n      [type]: true,\n      active: editingReview.result === type\n    }),\n    onClick: () => store.review.updateReviewResult(editingReview, type, selectedAnchor),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 183,\n      columnNumber: 15\n    }\n  }, i18n.translate(`REVIEW_${type.toUpperCase()}`)))), editingReview.result !== ReviewResult.APPROVE && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 197,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    style: {\n      color: '#D45058'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 198,\n      columnNumber: 17\n    }\n  }, \"*\"), /*#__PURE__*/React.createElement(\"span\", {\n    style: {\n      color: '#FFFFFFE5'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 199,\n      columnNumber: 17\n    }\n  }, i18n.translate('REVIEW_REASON_LABEL'))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"review-modal-issues\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 201,\n      columnNumber: 15\n    }\n  }, (typeCollapsed ? orderedTypes.slice(0, 8) : orderedTypes).map(item => {\n    var _editingReview$type;\n    const index = ((_editingReview$type = editingReview.type) !== null && _editingReview$type !== void 0 ? _editingReview$type : []).indexOf(item);\n    return /*#__PURE__*/React.createElement(\"div\", {\n      key: item,\n      className: cx('review-modal-issues-item', {\n        active: index >= 0\n      }),\n      onClick: () => {\n        var _editingReview$type2;\n        const newTypes = [...((_editingReview$type2 = editingReview.type) !== null && _editingReview$type2 !== void 0 ? _editingReview$type2 : [])];\n        if (index >= 0) {\n          newTypes.splice(index, 1);\n        } else {\n          newTypes.push(item);\n        }\n        store.review.updateReviewInfo(editingReview, {\n          type: newTypes\n        });\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 205,\n        columnNumber: 21\n      }\n    }, item);\n  }), orderedTypes.length > 8 && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"review-modal-issues-more\",\n    onClick: () => setTypeCollapsed(!typeCollapsed),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 225,\n      columnNumber: 19\n    }\n  }, typeCollapsed ? /*#__PURE__*/React.createElement(DownOutlined, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 229,\n      columnNumber: 38\n    }\n  }) : /*#__PURE__*/React.createElement(UpOutlined, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 229,\n      columnNumber: 57\n    }\n  }))), typeError && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"review-modal-error\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 234,\n      columnNumber: 17\n    }\n  }, i18n.translate('REVIEW_REASON_LABEL'))), /*#__PURE__*/React.createElement(ImageTextField, {\n    style: {\n      height: 84\n    },\n    uploader: store.saveFile,\n    value: editingReview.comment,\n    onChange: comment => store.review.updateReviewInfo(editingReview, {\n      comment\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 240,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"review-modal-divider\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 246,\n      columnNumber: 11\n    }\n  }), store.frame.frameCount > 1 && /*#__PURE__*/React.createElement(FramesApply, {\n    ref: framesApplyRef,\n    disabled: !shapeExists,\n    text: i18n.translate('COPY_FRAMES_TO'),\n    onChange: appliedFramesIndex => {\n      copyToFrames.current = appliedFramesIndex;\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 248,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"review-action\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 257,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"review-btn\",\n    onClick: handleDelete,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 258,\n      columnNumber: 13\n    }\n  }, i18n.translate('COMMON_DELETE')), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"review-btn save\",\n    onClick: handleSave,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 264,\n      columnNumber: 13\n    }\n  }, i18n.translate('COMMON_SAVE'))))));\n});\nexport default ReviewModal;","map":{"version":3,"names":["React","useState","useEffect","useRef","observer","cx","ImageTextField","UpOutlined","DownOutlined","store","i18n","ReviewResult","ViewMode","SIDEBAR_WIDTH","TOOLBAR_HEIGHT","FramesApply","QuestionCircleFilled","Warning","getReviewRelatedInstanceInfo","review","instanceId","instanceItemId","infoStr","instance","instanceItem","getInstanceById","items","label","translate","reviewModalWidth","reviewModalHeight","ReviewModal","orderedTypes","setOrderedTypes","typeCollapsed","setTypeCollapsed","typeError","setTypeError","downPoint","downPosition","copyToFrames","framesApplyRef","reviewModalVisible","config","reviewLayerOffset","selectedAnchor","editingReview","reviewResultTypes","issueTypes","length","type","types","forEach","t","indexOf","push","current","result","handleDelete","deleteReview","unselectReview","setReviewModalVisible","handleSave","REJECT","updateReview","isGridView","viewMode","GRID","reviewLayer","container","x","y","toGlobal","left","top","modalLeft","modalTop","clientWidth","clientHeight","document","body","shapeRelates","shapeExists","frameStatus","frameIndex","undefined","createElement","className","onMouseMove","e","offsetX","clientX","offsetY","clientY","px","py","toLocal","setPosition","updateReviewInfo","onMouseUp","onMouseDown","_framesApplyRef$curre","visible","onContextMenu","preventDefault","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","style","stopPropagation","width","_framesApplyRef$curre2","values","frame","currentFrame","map","key","active","onClick","updateReviewResult","toUpperCase","APPROVE","Fragment","color","slice","item","_editingReview$type","index","_editingReview$type2","newTypes","splice","height","uploader","saveFile","value","comment","onChange","frameCount","ref","disabled","text","appliedFramesIndex"],"sources":["/Users/qzheng/Documents/webroot/annotation_tools/src/components/video-tracking2/components/review/ReviewModal.tsx"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\nimport { observer } from 'mobx-react';\nimport cx from 'classnames';\nimport { ImageTextField } from '@appen-china/easy-form';\nimport { UpOutlined, DownOutlined } from '@ant-design/icons';\nimport ReviewItem from '../../model/ReviewItem';\nimport store from '../../store/RootStore';\nimport i18n from '../../locales';\nimport { ReviewResult, ViewMode } from '../../types';\nimport { SIDEBAR_WIDTH, TOOLBAR_HEIGHT } from '../../constants';\nimport FramesApply, { FramesApplyHandle } from '../attributes/FramesApply';\nimport { QuestionCircleFilled, Warning } from '../../../common/icons';\nimport './ReviewModal.scss';\n\nexport function getReviewRelatedInstanceInfo(review: ReviewItem) {\n  const { instanceId, instanceItemId } = review;\n  let infoStr;\n  let instance;\n  let instanceItem;\n  if (instanceId) {\n    // has related instance\n    instance = store.instance.getInstanceById(instanceId);\n    if (instance) {\n      if (instanceItemId) {\n        // has related instance item\n        instanceItem = instance.items[instanceItemId];\n        if (instanceItem) {\n          infoStr = instanceItem.label;\n        } else {\n          infoStr = `${instance.label}-${i18n.translate('REVIEW_NO_ITEM')}`;\n        }\n      } else {\n        infoStr = instance.label;\n      }\n    } else {\n      infoStr = i18n.translate('REVIEW_NO_INSTANCE');\n    }\n  } else {\n    infoStr = i18n.translate('REVIEW_NO_RELATED');\n  }\n  return { infoStr, instance, instanceItem };\n}\n\nconst reviewModalWidth = 360;\nconst reviewModalHeight = 522;\n\nconst ReviewModal = observer(() => {\n  const [orderedTypes, setOrderedTypes] = useState<string[]>([]);\n  const [typeCollapsed, setTypeCollapsed] = useState(true);\n  const [typeError, setTypeError] = useState(false);\n  const downPoint = useRef<{ x: number; y: number } | null>(null);\n  const downPosition = useRef<{ x: number; y: number } | null>(null);\n  const copyToFrames = useRef<number[]>([]);\n  const framesApplyRef = useRef<FramesApplyHandle>(null);\n\n  const { reviewModalVisible } = store.config;\n  const { reviewLayerOffset, selectedAnchor, editingReview, reviewResultTypes, issueTypes } = store.review;\n\n  useEffect(() => {\n    // 重新打开弹窗时，重置collapse状态\n    setTypeCollapsed(issueTypes.length > 8);\n  }, [reviewModalVisible]);\n\n  useEffect(() => {\n    // review变化时，更新状态\n    const { type = [] } = editingReview ?? {};\n    const types = [...type];\n    issueTypes.forEach((t) => {\n      if (types.indexOf(t) < 0) {\n        types.push(t);\n      }\n    });\n    setOrderedTypes(types);\n    setTypeError(false);\n    copyToFrames.current = [];\n  }, [editingReview, editingReview?.type, editingReview?.result]);\n\n  const handleDelete = () => {\n    if (editingReview && selectedAnchor) {\n      store.review.deleteReview(editingReview, selectedAnchor);\n      store.review.unselectReview();\n      store.config.setReviewModalVisible(false);\n    }\n  };\n\n  const handleSave = () => {\n    if (editingReview) {\n      if (editingReview.result === ReviewResult.REJECT && (!editingReview.type || editingReview.type.length <= 0)) {\n        setTypeError(true);\n        return;\n      }\n      store.review.updateReview(editingReview, copyToFrames.current);\n      store.review.unselectReview();\n      store.config.setReviewModalVisible(false);\n    }\n  };\n\n  const isGridView = store.config.viewMode === ViewMode.GRID;\n  const reviewLayer = isGridView ? selectedAnchor?.container : store.review.reviewLayer;\n  if (!reviewModalVisible || !reviewLayer || !selectedAnchor || !editingReview) {\n    return null;\n  }\n\n  const { x, y } = reviewLayer.toGlobal({ x: editingReview.x, y: editingReview.y });\n  let left = x + reviewLayerOffset.x;\n  let top = y + reviewLayerOffset.y;\n  if (store.config.viewMode === ViewMode.GRID) {\n    left = x + SIDEBAR_WIDTH + 4;\n    top = y + TOOLBAR_HEIGHT + 48 + 4;\n  }\n\n  let modalLeft = left + 32;\n  let modalTop = top - 32;\n  const { clientWidth, clientHeight } = document.body;\n  if (modalLeft + reviewModalWidth > clientWidth) {\n    modalLeft = left - reviewModalWidth - 32;\n  }\n  if (modalTop + reviewModalHeight > clientHeight) {\n    modalTop = clientHeight - reviewModalHeight;\n  }\n\n  const { infoStr, instanceItem } = getReviewRelatedInstanceInfo(editingReview);\n  const shapeRelates = editingReview.instanceId && editingReview.instanceItemId;\n  const shapeExists = instanceItem?.frameStatus[editingReview.frameIndex] !== undefined;\n  return (\n    <div\n      className=\"review-modal-mask\"\n      onMouseMove={(e) => {\n        if (downPosition.current && downPoint.current && reviewLayer) {\n          const offsetX = e.clientX - downPosition.current.x;\n          const offsetY = e.clientY - downPosition.current.y;\n          const { x: px, y: py } = reviewLayer.toLocal({ x: downPoint.current.x + offsetX, y: downPoint.current.y + offsetY });\n          selectedAnchor.setPosition(px, py);\n          store.review.updateReviewInfo(editingReview, { x: px, y: py });\n        }\n      }}\n      onMouseUp={() => {\n        downPosition.current = null;\n        downPoint.current = null;\n      }}\n      onMouseDown={() => {\n        if (!framesApplyRef?.current?.visible) {\n          handleSave();\n        }\n      }}\n      onContextMenu={(e) => e.preventDefault()}\n    >\n      <div\n        className=\"review-anchor-ghost\"\n        style={{ left: left - 16, top: top - 30 }}\n        onMouseDown={(e) => {\n          e.stopPropagation();\n          downPosition.current = { x: e.clientX, y: e.clientY };\n          downPoint.current = { x, y };\n        }}\n      />\n      <div\n        className=\"review-modal\"\n        style={{ width: reviewModalWidth, left: modalLeft, top: modalTop }}\n        onMouseDown={(e) => {\n          if (!framesApplyRef?.current?.visible) {\n            e.stopPropagation();\n          }\n        }}\n      >\n        <div className=\"review-modal-title\">\n          {i18n.translate('REVIEW_MODAL_LABEL')}\n        </div>\n        <div className=\"review-modal-content scroller\">\n          <div className=\"review-info\">\n            {!shapeRelates && <QuestionCircleFilled />}\n            {`[${infoStr}]`}\n            {`[${i18n.translate('FRAME_ATTRIBUTES_FRAME', { values: { frame: store.frame.currentFrame + 1 } })}]`}\n          </div>\n          {shapeRelates && !shapeExists && (\n            <div className=\"review-info\">\n              <Warning />\n              {i18n.translate('REVIEW_NO_SHAPE')}\n            </div>\n          )}\n          <div className=\"review-result\">\n            {reviewResultTypes.map((type) => (\n              <div\n                key={type}\n                className={cx('review-btn', {\n                  [type]: true,\n                  active: editingReview.result === type,\n                })}\n                onClick={() => store.review.updateReviewResult(editingReview, type, selectedAnchor)}\n              >\n                {i18n.translate(`REVIEW_${type.toUpperCase()}`)}\n              </div>\n            ))}\n          </div>\n          {editingReview.result !== ReviewResult.APPROVE && (\n            <>\n              <div>\n                <span style={{ color: '#D45058' }}>*</span>\n                <span style={{ color: '#FFFFFFE5' }}>{i18n.translate('REVIEW_REASON_LABEL')}</span>\n              </div>\n              <div className=\"review-modal-issues\">\n                {(typeCollapsed ? orderedTypes.slice(0, 8) : orderedTypes).map((item) => {\n                  const index = (editingReview.type ?? []).indexOf(item);\n                  return (\n                    <div\n                      key={item}\n                      className={cx('review-modal-issues-item', {\n                        active: index >= 0,\n                      })}\n                      onClick={() => {\n                        const newTypes = [...editingReview.type ?? []];\n                        if (index >= 0) {\n                          newTypes.splice(index, 1);\n                        } else {\n                          newTypes.push(item);\n                        }\n                        store.review.updateReviewInfo(editingReview, { type: newTypes });\n                      }}\n                    >\n                      {item}\n                    </div>\n                  );\n                })}\n                {orderedTypes.length > 8 && (\n                  <div\n                    className=\"review-modal-issues-more\"\n                    onClick={() => setTypeCollapsed(!typeCollapsed)}\n                  >\n                    {typeCollapsed ? <DownOutlined /> : <UpOutlined />}\n                  </div>\n                )}\n              </div>\n              {typeError && (\n                <div className=\"review-modal-error\">\n                  {i18n.translate('REVIEW_REASON_LABEL')}\n                </div>\n              )}\n            </>\n          )}\n          <ImageTextField\n            style={{ height: 84 }}\n            uploader={store.saveFile}\n            value={editingReview.comment}\n            onChange={(comment) => store.review.updateReviewInfo(editingReview, { comment })}\n          />\n          <div className=\"review-modal-divider\" />\n          {store.frame.frameCount > 1 && (\n            <FramesApply\n              ref={framesApplyRef}\n              disabled={!shapeExists}\n              text={i18n.translate('COPY_FRAMES_TO')}\n              onChange={(appliedFramesIndex: number[]) => {\n                copyToFrames.current = appliedFramesIndex;\n              }}\n            />\n          )}\n          <div className=\"review-action\">\n            <div\n              className=\"review-btn\"\n              onClick={handleDelete}\n            >\n              {i18n.translate('COMMON_DELETE')}\n            </div>\n            <div\n              className=\"review-btn save\"\n              onClick={handleSave}\n            >\n              {i18n.translate('COMMON_SAVE')}\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n});\n\nexport default ReviewModal;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}