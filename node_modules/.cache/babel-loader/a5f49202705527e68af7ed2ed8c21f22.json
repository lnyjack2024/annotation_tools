{"ast":null,"code":"var _jsxFileName = \"/Users/qzheng/Documents/webroot/annotation_tools/src/components/editable-text/components/toolBar/toolGroupItem.jsx\";\nimport React, { useMemo } from 'react';\nimport cx from 'classnames';\nimport { PlusSquareOutlined, MinusSquareOutlined } from '@ant-design/icons';\nimport { observer } from 'mobx-react';\nimport { generateConfigKeyByKeys } from '../../utils/helper';\nimport ToolItem from './toolItem';\nconst ToolGroupItem = observer(({\n  ontologyItem,\n  ontologiesStatusMap,\n  updateOntologiesCollapseStatus,\n  customClassName = '',\n  isChild = false,\n  deep = 1,\n  needBorderLeft = false,\n  isLast = false,\n  ...restProps\n}) => {\n  const isLeaf = useMemo(() => !(ontologyItem.children && ontologyItem.children.length > 0), [ontologyItem]);\n  const isCollapsed = useMemo(() => {\n    var _ontologiesStatusMap$, _ontologiesStatusMap$2;\n    const configKey = generateConfigKeyByKeys(ontologyItem.keys);\n    return (_ontologiesStatusMap$ = (_ontologiesStatusMap$2 = ontologiesStatusMap.get(configKey)) === null || _ontologiesStatusMap$2 === void 0 ? void 0 : _ontologiesStatusMap$2.isCollapse) !== null && _ontologiesStatusMap$ !== void 0 ? _ontologiesStatusMap$ : true;\n  }, [ontologiesStatusMap, ontologyItem]);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: cx('tool-group-item', customClassName),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 17,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"tool-item-wrapper\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 18,\n      columnNumber: 7\n    }\n  }, isChild && /*#__PURE__*/React.createElement(\"div\", {\n    className: cx('connecting-line', {\n      isLast\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 20,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"connecting-line-l\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 21,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"tool-item-content\",\n    style: {\n      marginLeft: isChild ? 6 : 0\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 24,\n      columnNumber: 9\n    }\n  }, !isLeaf && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"indent\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 26,\n      columnNumber: 13\n    }\n  }, isCollapsed ? /*#__PURE__*/React.createElement(\"div\", {\n    onClick: () => {\n      updateOntologiesCollapseStatus(ontologyItem.keys, false);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(PlusSquareOutlined, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 19\n    }\n  })) : /*#__PURE__*/React.createElement(\"div\", {\n    className: cx('indent-expand-icon', {\n      isChild\n    }),\n    onClick: () => {\n      updateOntologiesCollapseStatus(ontologyItem.keys, true);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(MinusSquareOutlined, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 19\n    }\n  }))), isChild && isLeaf && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"indent\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"line\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(ToolItem, Object.assign({\n    ontologyItem: ontologyItem,\n    ontologiesStatusMap: ontologiesStatusMap\n  }, restProps, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 11\n    }\n  })))), !isCollapsed && ontologyItem.children && ontologyItem.children.length > 0 && /*#__PURE__*/React.createElement(\"div\", {\n    className: cx('tool-item-wrapper-children', {\n      'need-border-left': needBorderLeft\n    }),\n    style: {\n      paddingLeft: 6 * Math.min(2, deep)\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 9\n    }\n  }, ontologyItem.children.map((ontologyChild, index) => /*#__PURE__*/React.createElement(ToolGroupItem, Object.assign({\n    isChild: true,\n    isLast: index + 1 === ontologyItem.children.length,\n    customClassName: \"tool-group-item-child\",\n    deep: deep + 1,\n    needBorderLeft: index < ontologyItem.children.length - 1,\n    ontologyItem: ontologyChild,\n    key: generateConfigKeyByKeys(ontologyChild.keys),\n    ontologiesStatusMap: ontologiesStatusMap,\n    updateOntologiesCollapseStatus: updateOntologiesCollapseStatus\n  }, restProps, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 15\n    }\n  })))));\n});\nexport default ToolGroupItem;","map":{"version":3,"names":["React","useMemo","cx","PlusSquareOutlined","MinusSquareOutlined","observer","generateConfigKeyByKeys","ToolItem","ToolGroupItem","ontologyItem","ontologiesStatusMap","updateOntologiesCollapseStatus","customClassName","isChild","deep","needBorderLeft","isLast","restProps","isLeaf","children","length","isCollapsed","_ontologiesStatusMap$","_ontologiesStatusMap$2","configKey","keys","get","isCollapse","createElement","className","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","style","marginLeft","onClick","Object","assign","paddingLeft","Math","min","map","ontologyChild","index","key"],"sources":["/Users/qzheng/Documents/webroot/annotation_tools/src/components/editable-text/components/toolBar/toolGroupItem.jsx"],"sourcesContent":["import React, { useMemo } from 'react';\nimport cx from 'classnames';\nimport { PlusSquareOutlined, MinusSquareOutlined } from '@ant-design/icons';\nimport { observer } from 'mobx-react';\nimport { generateConfigKeyByKeys } from '../../utils/helper';\nimport ToolItem from './toolItem';\n\nconst ToolGroupItem = observer(({ ontologyItem, ontologiesStatusMap, updateOntologiesCollapseStatus, customClassName = '', isChild = false, deep = 1, needBorderLeft = false, isLast = false, ...restProps }) => {\n  const isLeaf = useMemo(() => !(ontologyItem.children && ontologyItem.children.length > 0), [ontologyItem]);\n  const isCollapsed = useMemo(() => {\n    const configKey = generateConfigKeyByKeys(ontologyItem.keys);\n    return ontologiesStatusMap.get(configKey)?.isCollapse ?? true;\n  },\n  [ontologiesStatusMap, ontologyItem]);\n\n  return (\n    <div className={cx('tool-group-item', customClassName)}>\n      <div className=\"tool-item-wrapper\">\n        {isChild && (\n          <div className={cx('connecting-line', { isLast })}>\n            <span className=\"connecting-line-l\" />\n          </div>\n        )}\n        <div className=\"tool-item-content\" style={{ marginLeft: isChild ? 6 : 0 }}>\n          {!isLeaf && (\n            <div className=\"indent\">\n              {isCollapsed ? (\n                <div\n                  onClick={() => {\n                    updateOntologiesCollapseStatus(ontologyItem.keys, false);\n                  }}\n                >\n                  <PlusSquareOutlined />\n                </div>\n              ) : (\n                <div\n                  className={cx('indent-expand-icon', { isChild })}\n                  onClick={() => {\n                    updateOntologiesCollapseStatus(ontologyItem.keys, true);\n                  }}\n                >\n                  <MinusSquareOutlined />\n                </div>\n              )}\n            </div>\n          )}\n\n          {isChild && isLeaf && (\n          <div className=\"indent\">\n            <div className=\"line\" />\n          </div>\n          )}\n          <ToolItem ontologyItem={ontologyItem} ontologiesStatusMap={ontologiesStatusMap} {...restProps} />\n        </div>\n      </div>\n      { !isCollapsed && ontologyItem.children && ontologyItem.children.length > 0 && (\n        <div className={cx('tool-item-wrapper-children', { 'need-border-left': needBorderLeft })} style={{ paddingLeft: 6 * Math.min(2, deep) }}>\n          {\n            ontologyItem.children.map((ontologyChild, index) => (\n              <ToolGroupItem\n                isChild\n                isLast={index + 1 === ontologyItem.children.length}\n                customClassName=\"tool-group-item-child\"\n                deep={deep + 1}\n                needBorderLeft={index < ontologyItem.children.length - 1}\n                ontologyItem={ontologyChild}\n                key={generateConfigKeyByKeys(ontologyChild.keys)}\n                ontologiesStatusMap={ontologiesStatusMap}\n                updateOntologiesCollapseStatus={updateOntologiesCollapseStatus}\n                {...restProps}\n              />\n            ))\n          }\n        </div>\n      )}\n    </div>\n  );\n});\nexport default ToolGroupItem;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}