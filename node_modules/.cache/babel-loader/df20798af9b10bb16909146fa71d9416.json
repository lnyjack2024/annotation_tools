{"ast":null,"code":"import React,{useState,useEffect}from'react';import{observer}from'mobx-react';import{Tooltip,Switch,Slider,Input,Row,Col}from'antd';import{CloseOutlined,RedoOutlined}from'@ant-design/icons';import cx from'classnames';import{Palette}from'../../../common/icons';import store from'../../store/RootStore';import i18n from'../../locales';const DisplaySettings=observer(()=>{const{config,updateConfig}=store.shape;const[visible,setVisible]=useState(false);const[alpha,setAlpha]=useState('');useEffect(()=>{setAlpha(\"\".concat(config.alpha,\"%\"));},[config,config.alpha]);const changeAlpha=()=>{const num=Number(alpha);if(!Number.isNaN(num)&&num>=0&&num<=100&&num!==config.alpha){const int=parseInt(alpha,10);updateConfig({alpha:int});}else{setAlpha(\"\".concat(config.alpha,\"%\"));}};return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Tooltip,{placement:\"bottom\",title:i18n.translate('TOOLBAR_TIP_DISPLAY')},/*#__PURE__*/React.createElement(\"div\",{className:cx('icon-button',{'icon-button--active':visible}),onClick:()=>setVisible(!visible)},/*#__PURE__*/React.createElement(Palette,null))),visible&&/*#__PURE__*/React.createElement(\"div\",{className:\"toolbar-panel display-panel\"},/*#__PURE__*/React.createElement(\"div\",{className:\"title\"},i18n.translate('DISPLAY_TITLE'),/*#__PURE__*/React.createElement(\"div\",{className:\"close\",onClick:()=>setVisible(false)},/*#__PURE__*/React.createElement(CloseOutlined,null))),/*#__PURE__*/React.createElement(\"div\",{className:\"item\",style:{display:'flex',alignItems:'center',justifyContent:'space-between',color:'#FFFFFF'}},i18n.translate('DISPLAY_SHAPE_STYLE'),/*#__PURE__*/React.createElement(\"div\",{className:\"reset\",onClick:store.shape.resetConfig},/*#__PURE__*/React.createElement(RedoOutlined,null))),/*#__PURE__*/React.createElement(\"div\",{className:\"item\",style:{display:'flex',alignItems:'center',justifyContent:'space-between'}},i18n.translate('DISPLAY_CONFIG_FILL'),/*#__PURE__*/React.createElement(Switch,{checked:config.fill,onChange:checked=>updateConfig({fill:checked})})),/*#__PURE__*/React.createElement(\"div\",{className:\"item\"},i18n.translate('DISPLAY_CONFIG_ALPHA'),/*#__PURE__*/React.createElement(Row,{gutter:12,align:\"middle\"},/*#__PURE__*/React.createElement(Col,{span:18},/*#__PURE__*/React.createElement(Slider,{min:0,max:100,disabled:!config.fill,value:config.alpha,onChange:v=>updateConfig({alpha:v})})),/*#__PURE__*/React.createElement(Col,{span:6},/*#__PURE__*/React.createElement(Input,{size:\"small\",value:alpha,onChange:e=>{let{value}=e.target;if(value.substr(value.length-1)==='%'){value=value.substr(0,value.length-1);}if(!value||/^\\d+$/.test(value)){setAlpha(value);}},onFocus:()=>setAlpha(\"\".concat(config.alpha)),onBlur:changeAlpha,onPressEnter:changeAlpha})))),/*#__PURE__*/React.createElement(\"div\",{className:\"divider\"}),/*#__PURE__*/React.createElement(\"div\",{className:\"item\",style:{display:'flex',alignItems:'center',justifyContent:'space-between'}},i18n.translate('DISPLAY_CONFIG_SHOW_VERTEX'),/*#__PURE__*/React.createElement(Switch,{checked:config.showVertex,onChange:checked=>updateConfig({showVertex:checked})})),/*#__PURE__*/React.createElement(\"div\",{className:\"item\",style:{display:'flex',alignItems:'center',justifyContent:'space-between'}},i18n.translate('DISPLAY_CONFIG_SHOW_VERTEX_ORDER'),/*#__PURE__*/React.createElement(Switch,{checked:config.showVertexOrder,onChange:checked=>updateConfig({showVertexOrder:checked})}))));});export default DisplaySettings;","map":{"version":3,"names":["React","useState","useEffect","observer","Tooltip","Switch","Slider","Input","Row","Col","CloseOutlined","RedoOutlined","cx","Palette","store","i18n","DisplaySettings","config","updateConfig","shape","visible","setVisible","alpha","setAlpha","concat","changeAlpha","num","Number","isNaN","int","parseInt","createElement","Fragment","placement","title","translate","className","onClick","style","display","alignItems","justifyContent","color","resetConfig","checked","fill","onChange","gutter","align","span","min","max","disabled","value","v","size","e","target","substr","length","test","onFocus","onBlur","onPressEnter","showVertex","showVertexOrder"],"sources":["/Users/qzheng/Documents/webroot/annotation_tools/src/components/video-tracking2/components/toolbar/DisplaySettings.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { observer } from 'mobx-react';\nimport { Tooltip, Switch, Slider, Input, Row, Col } from 'antd';\nimport { CloseOutlined, RedoOutlined } from '@ant-design/icons';\nimport cx from 'classnames';\nimport { Palette } from '../../../common/icons';\nimport store from '../../store/RootStore';\nimport i18n from '../../locales';\n\nconst DisplaySettings = observer(() => {\n  const { config, updateConfig } = store.shape;\n\n  const [visible, setVisible] = useState(false);\n  const [alpha, setAlpha] = useState('');\n\n  useEffect(() => {\n    setAlpha(`${config.alpha}%`);\n  }, [config, config.alpha]);\n\n  const changeAlpha = () => {\n    const num = Number(alpha);\n    if (!Number.isNaN(num) && num >= 0 && num <= 100 && num !== config.alpha) {\n      const int = parseInt(alpha, 10);\n      updateConfig({ alpha: int });\n    } else {\n      setAlpha(`${config.alpha}%`);\n    }\n  };\n\n  return (\n    <>\n      <Tooltip placement=\"bottom\" title={i18n.translate('TOOLBAR_TIP_DISPLAY')}>\n        <div\n          className={cx('icon-button', {\n            'icon-button--active': visible,\n          })}\n          onClick={() => setVisible(!visible)}\n        >\n          <Palette />\n        </div>\n      </Tooltip>\n      {visible && (\n        <div className=\"toolbar-panel display-panel\">\n          <div className=\"title\">\n            {i18n.translate('DISPLAY_TITLE')}\n            <div className=\"close\" onClick={() => setVisible(false)}>\n              <CloseOutlined />\n            </div>\n          </div>\n          <div className=\"item\" style={{ display: 'flex', alignItems: 'center', justifyContent: 'space-between', color: '#FFFFFF' }}>\n            {i18n.translate('DISPLAY_SHAPE_STYLE')}\n            <div className=\"reset\" onClick={store.shape.resetConfig}>\n              <RedoOutlined />\n            </div>\n          </div>\n          <div className=\"item\" style={{ display: 'flex', alignItems: 'center', justifyContent: 'space-between' }}>\n            {i18n.translate('DISPLAY_CONFIG_FILL')}\n            <Switch\n              checked={config.fill}\n              onChange={(checked) => updateConfig({ fill: checked })}\n            />\n          </div>\n          <div className=\"item\">\n            {i18n.translate('DISPLAY_CONFIG_ALPHA')}\n            <Row gutter={12} align=\"middle\">\n              <Col span={18}>\n                <Slider\n                  min={0}\n                  max={100}\n                  disabled={!config.fill}\n                  value={config.alpha}\n                  onChange={(v: number) => updateConfig({ alpha: v })}\n                />\n              </Col>\n              <Col span={6}>\n                <Input\n                  size=\"small\"\n                  value={alpha}\n                  onChange={(e) => {\n                    let { value } = e.target;\n                    if (value.substr(value.length - 1) === '%') {\n                      value = value.substr(0, value.length - 1);\n                    }\n                    if (!value || /^\\d+$/.test(value)) {\n                      setAlpha(value);\n                    }\n                  }}\n                  onFocus={() => setAlpha(`${config.alpha}`)}\n                  onBlur={changeAlpha}\n                  onPressEnter={changeAlpha}\n                />\n              </Col>\n            </Row>\n          </div>\n          <div className=\"divider\" />\n          <div className=\"item\" style={{ display: 'flex', alignItems: 'center', justifyContent: 'space-between' }}>\n            {i18n.translate('DISPLAY_CONFIG_SHOW_VERTEX')}\n            <Switch\n              checked={config.showVertex}\n              onChange={(checked) => updateConfig({ showVertex: checked })}\n            />\n          </div>\n          <div className=\"item\" style={{ display: 'flex', alignItems: 'center', justifyContent: 'space-between' }}>\n            {i18n.translate('DISPLAY_CONFIG_SHOW_VERTEX_ORDER')}\n            <Switch\n              checked={config.showVertexOrder}\n              onChange={(checked) => updateConfig({ showVertexOrder: checked })}\n            />\n          </div>\n        </div>\n      )}\n    </>\n  );\n});\n\nexport default DisplaySettings;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}