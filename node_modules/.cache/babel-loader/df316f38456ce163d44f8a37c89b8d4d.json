{"ast":null,"code":"export default class Label {\n  set visible(visible) {\n    this.dom.style.display = visible ? '' : 'none';\n  }\n  set zIndex(zIndex) {\n    this.dom.style.zIndex = `${zIndex}`;\n  }\n  set text(text) {\n    this.textContainer.innerText = text;\n  }\n  constructor({\n    id,\n    className,\n    text,\n    transPosition\n  }) {\n    this.dom = void 0;\n    this.textContainer = void 0;\n    this.onPositionChange = void 0;\n    this.transPosition = void 0;\n    this.dom = document.createElement('div');\n    if (id !== undefined) {\n      this.dom.id = id;\n    }\n    if (className !== undefined) {\n      this.dom.className = className;\n    }\n    this.textContainer = document.createElement('span');\n    this.textContainer.innerText = text || '';\n    this.textContainer.className = 'text';\n    this.dom.appendChild(this.textContainer);\n    this.transPosition = transPosition;\n  }\n  addToContainer(container) {\n    container.appendChild(this.dom);\n  }\n  setPosition(position, pivot, rotation) {\n    const p = this.transPosition ? this.transPosition(position) : position;\n    this.dom.style.transform = `translate(${p.x}px, ${p.y}px) rotate(${rotation}rad) translate(0, -100%)`;\n    this.dom.style.transformOrigin = `${pivot.x - position.x}px ${pivot.y - position.y}px`;\n    if (this.onPositionChange) {\n      this.onPositionChange();\n    }\n  }\n  remove() {\n    this.dom.remove();\n  }\n}","map":{"version":3,"names":["Label","visible","dom","style","display","zIndex","text","textContainer","innerText","constructor","id","className","transPosition","onPositionChange","document","createElement","undefined","appendChild","addToContainer","container","setPosition","position","pivot","rotation","p","transform","x","y","transformOrigin","remove"],"sources":["/Users/qzheng/Documents/webroot/annotation_tools/src/components/common/shapes/label/Label.ts"],"sourcesContent":["interface LabelOptions {\n  id?: string;\n  className?: string;\n  text?: string;\n  transPosition?: (p: { x: number; y: number }) => ({ x: number; y: number });\n}\n\nexport default class Label {\n  dom: HTMLDivElement;\n\n  textContainer: HTMLSpanElement;\n\n  onPositionChange?: () => void;\n\n  transPosition?: (p: { x: number; y: number }) => ({ x: number; y: number });\n\n  set visible(visible: boolean) {\n    this.dom.style.display = visible ? '' : 'none';\n  }\n\n  set zIndex(zIndex: number) {\n    this.dom.style.zIndex = `${zIndex}`;\n  }\n\n  set text(text: string) {\n    this.textContainer.innerText = text;\n  }\n\n  constructor({ id, className, text, transPosition }: LabelOptions) {\n    this.dom = document.createElement('div');\n    if (id !== undefined) {\n      this.dom.id = id;\n    }\n    if (className !== undefined) {\n      this.dom.className = className;\n    }\n\n    this.textContainer = document.createElement('span');\n    this.textContainer.innerText = text || '';\n    this.textContainer.className = 'text';\n    this.dom.appendChild(this.textContainer);\n\n    this.transPosition = transPosition;\n  }\n\n  addToContainer(container: Element) {\n    container.appendChild(this.dom);\n  }\n\n  setPosition(position: { x: number; y: number }, pivot: { x: number; y: number }, rotation: number) {\n    const p = this.transPosition ? this.transPosition(position) : position;\n    this.dom.style.transform = `translate(${p.x}px, ${p.y}px) rotate(${rotation}rad) translate(0, -100%)`;\n    this.dom.style.transformOrigin = `${pivot.x - position.x}px ${pivot.y - position.y}px`;\n    if (this.onPositionChange) {\n      this.onPositionChange();\n    }\n  }\n\n  remove() {\n    this.dom.remove();\n  }\n}\n"],"mappings":"AAOA,eAAe,MAAMA,KAAK,CAAC;EASzB,IAAIC,OAAOA,CAACA,OAAgB,EAAE;IAC5B,IAAI,CAACC,GAAG,CAACC,KAAK,CAACC,OAAO,GAAGH,OAAO,GAAG,EAAE,GAAG,MAAM;EAChD;EAEA,IAAII,MAAMA,CAACA,MAAc,EAAE;IACzB,IAAI,CAACH,GAAG,CAACC,KAAK,CAACE,MAAM,GAAI,GAAEA,MAAO,EAAC;EACrC;EAEA,IAAIC,IAAIA,CAACA,IAAY,EAAE;IACrB,IAAI,CAACC,aAAa,CAACC,SAAS,GAAGF,IAAI;EACrC;EAEAG,WAAWA,CAAC;IAAEC,EAAE;IAAEC,SAAS;IAAEL,IAAI;IAAEM;EAA4B,CAAC,EAAE;IAAA,KApBlEV,GAAG;IAAA,KAEHK,aAAa;IAAA,KAEbM,gBAAgB;IAAA,KAEhBD,aAAa;IAeX,IAAI,CAACV,GAAG,GAAGY,QAAQ,CAACC,aAAa,CAAC,KAAK,CAAC;IACxC,IAAIL,EAAE,KAAKM,SAAS,EAAE;MACpB,IAAI,CAACd,GAAG,CAACQ,EAAE,GAAGA,EAAE;IAClB;IACA,IAAIC,SAAS,KAAKK,SAAS,EAAE;MAC3B,IAAI,CAACd,GAAG,CAACS,SAAS,GAAGA,SAAS;IAChC;IAEA,IAAI,CAACJ,aAAa,GAAGO,QAAQ,CAACC,aAAa,CAAC,MAAM,CAAC;IACnD,IAAI,CAACR,aAAa,CAACC,SAAS,GAAGF,IAAI,IAAI,EAAE;IACzC,IAAI,CAACC,aAAa,CAACI,SAAS,GAAG,MAAM;IACrC,IAAI,CAACT,GAAG,CAACe,WAAW,CAAC,IAAI,CAACV,aAAa,CAAC;IAExC,IAAI,CAACK,aAAa,GAAGA,aAAa;EACpC;EAEAM,cAAcA,CAACC,SAAkB,EAAE;IACjCA,SAAS,CAACF,WAAW,CAAC,IAAI,CAACf,GAAG,CAAC;EACjC;EAEAkB,WAAWA,CAACC,QAAkC,EAAEC,KAA+B,EAAEC,QAAgB,EAAE;IACjG,MAAMC,CAAC,GAAG,IAAI,CAACZ,aAAa,GAAG,IAAI,CAACA,aAAa,CAACS,QAAQ,CAAC,GAAGA,QAAQ;IACtE,IAAI,CAACnB,GAAG,CAACC,KAAK,CAACsB,SAAS,GAAI,aAAYD,CAAC,CAACE,CAAE,OAAMF,CAAC,CAACG,CAAE,cAAaJ,QAAS,0BAAyB;IACrG,IAAI,CAACrB,GAAG,CAACC,KAAK,CAACyB,eAAe,GAAI,GAAEN,KAAK,CAACI,CAAC,GAAGL,QAAQ,CAACK,CAAE,MAAKJ,KAAK,CAACK,CAAC,GAAGN,QAAQ,CAACM,CAAE,IAAG;IACtF,IAAI,IAAI,CAACd,gBAAgB,EAAE;MACzB,IAAI,CAACA,gBAAgB,CAAC,CAAC;IACzB;EACF;EAEAgB,MAAMA,CAAA,EAAG;IACP,IAAI,CAAC3B,GAAG,CAAC2B,MAAM,CAAC,CAAC;EACnB;AACF","ignoreList":[]},"metadata":{},"sourceType":"module"}