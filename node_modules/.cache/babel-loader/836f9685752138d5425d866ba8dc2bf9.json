{"ast":null,"code":"export const formatTime=time=>[formatHour(time),formatMinute(time),formatSecond(time),formatMillisecond(time)].join(':');export const randomColor=()=>{const rgb=new Array(3);for(let i=0;i<3;i+=1){rgb[i]=Math.floor(Math.random()*255).toString(16);if(rgb[i].length===1)rgb[i]=\"0\".concat(rgb[i]);}return\"#\".concat(rgb.join(''));};export const parseTime=str=>{const arr=str.split(':');const time=parseInt(arr[0],10)*3600+parseInt(arr[1],10)*60+parseInt(arr[2],10)+parseInt(arr[3],10)/1000;if(Number.isNaN(time))return null;return time;};export const formatHour=time=>{const hour=parseInt(time/3600,10).toString();if(!time&&time!==0)return'--';return hour.padStart(2,'0');};export const formatMinute=time=>{const min=(parseInt(time/60,10)%60).toString();if(!time&&time!==0)return'--';return min.padStart(2,'0');};export const formatSecond=time=>{const sec=parseInt(time%60,10).toString();if(!time&&time!==0)return'--';return sec.padStart(2,'0');};export const formatMillisecond=time=>{const msec=(time-parseInt(time,10)).toFixed(3).split('.').pop();if(msec==='NaN')return'---';return msec;};export const simpleClone=obj=>{try{return JSON.parse(JSON.stringify(obj));}catch(e){return{};}};/**\n *\n * @param {Array} distances [left, top, right, bottom]\n * @param {Number} deviation distance to border\n */export const getResizeAction=(distances,deviation)=>{const action=[];const sortDis=distances.slice().sort((a,b)=>a-b);const firstSmall=distances.indexOf(sortDis[0]);const secondSmall=distances.indexOf(sortDis[1]);if(distances[firstSmall]<=deviation){action.push(firstSmall);}if(action.length&&distances[secondSmall]<=deviation){if(Math.abs(firstSmall-secondSmall)!==2)action.push(secondSmall);}return action;};export const clamp=(num,min,max)=>Math.min(Math.max(min,num),max);export const sortPosition=position=>{const tmp=position.slice();position.forEach((p,i)=>{if(i<2){position[i]=Math.min(p,tmp[i+2]);}else{position[i]=Math.max(p,tmp[i-2]);}});};","map":{"version":3,"names":["formatTime","time","formatHour","formatMinute","formatSecond","formatMillisecond","join","randomColor","rgb","Array","i","Math","floor","random","toString","length","concat","parseTime","str","arr","split","parseInt","Number","isNaN","hour","padStart","min","sec","msec","toFixed","pop","simpleClone","obj","JSON","parse","stringify","e","getResizeAction","distances","deviation","action","sortDis","slice","sort","a","b","firstSmall","indexOf","secondSmall","push","abs","clamp","num","max","sortPosition","position","tmp","forEach","p"],"sources":["/Users/qzheng/Documents/webroot/annotation_tools/src/components/advertisement-annotation/util.js"],"sourcesContent":["export const formatTime = (time) => [formatHour(time), formatMinute(time), formatSecond(time), formatMillisecond(time)].join(':');\n\nexport const randomColor = () => {\n  const rgb = new Array(3);\n  for (let i = 0; i < 3; i += 1) {\n    rgb[i] = Math.floor(Math.random() * 255).toString(16);\n    if (rgb[i].length === 1) rgb[i] = `0${rgb[i]}`;\n  }\n  return `#${rgb.join('')}`;\n};\n\nexport const parseTime = (str) => {\n  const arr = str.split(':');\n  const time = parseInt(arr[0], 10) * 3600 + parseInt(arr[1], 10) * 60 + parseInt(arr[2], 10) + parseInt(arr[3], 10) / 1000;\n  if (Number.isNaN(time)) return null;\n  return time;\n};\n\nexport const formatHour = (time) => {\n  const hour = parseInt(time / 3600, 10).toString();\n  if (!time && time !== 0) return '--';\n  return hour.padStart(2, '0');\n};\n\nexport const formatMinute = (time) => {\n  const min = (parseInt(time / 60, 10) % 60).toString();\n  if (!time && time !== 0) return '--';\n  return min.padStart(2, '0');\n};\n\nexport const formatSecond = (time) => {\n  const sec = parseInt(time % 60, 10).toString();\n  if (!time && time !== 0) return '--';\n  return sec.padStart(2, '0');\n};\n\nexport const formatMillisecond = (time) => {\n  const msec = (time - parseInt(time, 10)).toFixed(3).split('.').pop();\n  if (msec === 'NaN') return '---';\n  return msec;\n};\n\nexport const simpleClone = (obj) => {\n  try {\n    return JSON.parse(JSON.stringify(obj));\n  } catch (e) {\n    return {};\n  }\n};\n\n/**\n *\n * @param {Array} distances [left, top, right, bottom]\n * @param {Number} deviation distance to border\n */\nexport const getResizeAction = (distances, deviation) => {\n  const action = [];\n  const sortDis = distances.slice().sort((a, b) => a - b);\n  const firstSmall = distances.indexOf(sortDis[0]);\n  const secondSmall = distances.indexOf(sortDis[1]);\n  if (distances[firstSmall] <= deviation) {\n    action.push(firstSmall);\n  }\n  if (action.length && distances[secondSmall] <= deviation) {\n    if (Math.abs(firstSmall - secondSmall) !== 2) action.push(secondSmall);\n  }\n  return action;\n};\n\nexport const clamp = (num, min, max) => Math.min(Math.max(min, num), max);\n\nexport const sortPosition = (position) => {\n  const tmp = position.slice();\n  position.forEach((p, i) => {\n    if (i < 2) {\n      position[i] = Math.min(p, tmp[i + 2]);\n    } else {\n      position[i] = Math.max(p, tmp[i - 2]);\n    }\n  });\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}