{"ast":null,"code":"var _jsxFileName = \"/Users/qzheng/Documents/webroot/annotation_tools/src/components/video-tracking2/components/review/ReviewToolSelector.tsx\";\nimport React, { useMemo } from 'react';\nimport { observer } from 'mobx-react';\nimport cx from 'classnames';\nimport Dropdown from '../../../common/dropdown/Dropdown';\nimport { ReviewApprove, ReviewReject, ReviewSuspend } from '../../../common/icons';\nimport store from '../../store/RootStore';\nimport i18n from '../../locales';\nimport { ReviewMode, ReviewResult } from '../../types';\nconst ReviewTool = observer(() => {\n  var _menu$selectedIndex;\n  const types = useMemo(() => store.review.reviewResultTypes.map((type, index) => {\n    let icon = /*#__PURE__*/React.createElement(ReviewApprove, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 12,\n        columnNumber: 16\n      }\n    });\n    let name = i18n.translate('REVIEW_APPROVE');\n    if (type === ReviewResult.REJECT) {\n      icon = /*#__PURE__*/React.createElement(ReviewReject, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 15,\n          columnNumber: 14\n        }\n      });\n      name = i18n.translate('REVIEW_REJECT');\n    } else if (type === ReviewResult.SUSPEND) {\n      icon = /*#__PURE__*/React.createElement(ReviewSuspend, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 18,\n          columnNumber: 14\n        }\n      });\n      name = i18n.translate('REVIEW_SUSPEND');\n    }\n    return {\n      type,\n      hotkey: index + 1,\n      icon,\n      name\n    };\n  }), [store.review.reviewResultTypes]);\n  if (!store.reviewable || store.config.reviewMode !== ReviewMode.REVIEW) {\n    return null;\n  }\n  const selectedIndex = types.findIndex(i => i.type === store.review.selectedReviewResultType);\n  const menu = types.map(({\n    type,\n    hotkey,\n    icon,\n    name\n  }) => ({\n    label: name,\n    value: type,\n    active: type === store.review.selectedReviewResultType,\n    render: () => /*#__PURE__*/React.createElement(\"div\", {\n      className: \"create-tool-tool-item__label\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 34,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"create-tool-tool-item__shortcut\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 9\n      }\n    }, hotkey), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"create-tool-tool-item__icon tool-icon\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 9\n      }\n    }, icon), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"create-tool-tool-item__name\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 9\n      }\n    }, name))\n  }));\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"create-tool\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 5\n    }\n  }, i18n.translate('COMMON_CREATE'), /*#__PURE__*/React.createElement(\"span\", {\n    onClick: () => store.review.setAddMode(true),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Dropdown, {\n    className: cx('create-tool-selector', {\n      active: store.review.addMode\n    }),\n    arrow: true,\n    triggerArea: \"arrow\",\n    menu: menu,\n    onClick: (n, i, item) => store.review.activateReview(item.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 9\n    }\n  }, (_menu$selectedIndex = menu[selectedIndex]) === null || _menu$selectedIndex === void 0 ? void 0 : _menu$selectedIndex.render())));\n});\nexport default ReviewTool;","map":{"version":3,"names":["React","useMemo","observer","cx","Dropdown","ReviewApprove","ReviewReject","ReviewSuspend","store","i18n","ReviewMode","ReviewResult","ReviewTool","_menu$selectedIndex","types","review","reviewResultTypes","map","type","index","icon","createElement","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","name","translate","REJECT","SUSPEND","hotkey","reviewable","config","reviewMode","REVIEW","selectedIndex","findIndex","i","selectedReviewResultType","menu","label","value","active","render","className","onClick","setAddMode","addMode","arrow","triggerArea","n","item","activateReview"],"sources":["/Users/qzheng/Documents/webroot/annotation_tools/src/components/video-tracking2/components/review/ReviewToolSelector.tsx"],"sourcesContent":["import React, { useMemo } from 'react';\nimport { observer } from 'mobx-react';\nimport cx from 'classnames';\nimport Dropdown from '../../../common/dropdown/Dropdown';\nimport { ReviewApprove, ReviewReject, ReviewSuspend } from '../../../common/icons';\nimport store from '../../store/RootStore';\nimport i18n from '../../locales';\nimport { ReviewMode, ReviewResult } from '../../types';\n\nconst ReviewTool = observer(() => {\n  const types = useMemo(() => store.review.reviewResultTypes.map((type, index) => {\n    let icon = <ReviewApprove />;\n    let name = i18n.translate('REVIEW_APPROVE');\n    if (type === ReviewResult.REJECT) {\n      icon = <ReviewReject />;\n      name = i18n.translate('REVIEW_REJECT');\n    } else if (type === ReviewResult.SUSPEND) {\n      icon = <ReviewSuspend />;\n      name = i18n.translate('REVIEW_SUSPEND');\n    }\n    return { type, hotkey: index + 1, icon, name };\n  }), [store.review.reviewResultTypes]);\n\n  if (!store.reviewable || store.config.reviewMode !== ReviewMode.REVIEW) {\n    return null;\n  }\n\n  const selectedIndex = types.findIndex((i) => i.type === store.review.selectedReviewResultType);\n  const menu = types.map(({ type, hotkey, icon, name }) => ({\n    label: name,\n    value: type,\n    active: type === store.review.selectedReviewResultType,\n    render: () => (\n      <div className=\"create-tool-tool-item__label\">\n        <span className=\"create-tool-tool-item__shortcut\">\n          {hotkey}\n        </span>\n        <span className=\"create-tool-tool-item__icon tool-icon\">\n          {icon}\n        </span>\n        <span className=\"create-tool-tool-item__name\">\n          {name}\n        </span>\n      </div>\n    ),\n  }));\n  return (\n    <div className=\"create-tool\">\n      {i18n.translate('COMMON_CREATE')}\n      <span onClick={() => store.review.setAddMode(true)}>\n        <Dropdown\n          className={cx('create-tool-selector', {\n            active: store.review.addMode,\n          })}\n          arrow\n          triggerArea=\"arrow\"\n          menu={menu}\n          onClick={(n, i, item) => store.review.activateReview(item.value)}\n        >\n          {menu[selectedIndex]?.render()}\n        </Dropdown>\n      </span>\n    </div>\n  );\n});\n\nexport default ReviewTool;\n"],"mappings":";AAAA,OAAOA,KAAK,IAAIC,OAAO,QAAQ,OAAO;AACtC,SAASC,QAAQ,QAAQ,YAAY;AACrC,OAAOC,EAAE,MAAM,YAAY;AAC3B,OAAOC,QAAQ,MAAM,mCAAmC;AACxD,SAASC,aAAa,EAAEC,YAAY,EAAEC,aAAa,QAAQ,uBAAuB;AAClF,OAAOC,KAAK,MAAM,uBAAuB;AACzC,OAAOC,IAAI,MAAM,eAAe;AAChC,SAASC,UAAU,EAAEC,YAAY,QAAQ,aAAa;AAEtD,MAAMC,UAAU,GAAGV,QAAQ,CAAC,MAAM;EAAA,IAAAW,mBAAA;EAChC,MAAMC,KAAK,GAAGb,OAAO,CAAC,MAAMO,KAAK,CAACO,MAAM,CAACC,iBAAiB,CAACC,GAAG,CAAC,CAACC,IAAI,EAAEC,KAAK,KAAK;IAC9E,IAAIC,IAAI,gBAAGpB,KAAA,CAAAqB,aAAA,CAAChB,aAAa;MAAAiB,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,CAAE,CAAC;IAC5B,IAAIC,IAAI,GAAGnB,IAAI,CAACoB,SAAS,CAAC,gBAAgB,CAAC;IAC3C,IAAIX,IAAI,KAAKP,YAAY,CAACmB,MAAM,EAAE;MAChCV,IAAI,gBAAGpB,KAAA,CAAAqB,aAAA,CAACf,YAAY;QAAAgB,MAAA;QAAAC,QAAA;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA;MAAA,CAAE,CAAC;MACvBC,IAAI,GAAGnB,IAAI,CAACoB,SAAS,CAAC,eAAe,CAAC;IACxC,CAAC,MAAM,IAAIX,IAAI,KAAKP,YAAY,CAACoB,OAAO,EAAE;MACxCX,IAAI,gBAAGpB,KAAA,CAAAqB,aAAA,CAACd,aAAa;QAAAe,MAAA;QAAAC,QAAA;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA;MAAA,CAAE,CAAC;MACxBC,IAAI,GAAGnB,IAAI,CAACoB,SAAS,CAAC,gBAAgB,CAAC;IACzC;IACA,OAAO;MAAEX,IAAI;MAAEc,MAAM,EAAEb,KAAK,GAAG,CAAC;MAAEC,IAAI;MAAEQ;IAAK,CAAC;EAChD,CAAC,CAAC,EAAE,CAACpB,KAAK,CAACO,MAAM,CAACC,iBAAiB,CAAC,CAAC;EAErC,IAAI,CAACR,KAAK,CAACyB,UAAU,IAAIzB,KAAK,CAAC0B,MAAM,CAACC,UAAU,KAAKzB,UAAU,CAAC0B,MAAM,EAAE;IACtE,OAAO,IAAI;EACb;EAEA,MAAMC,aAAa,GAAGvB,KAAK,CAACwB,SAAS,CAAEC,CAAC,IAAKA,CAAC,CAACrB,IAAI,KAAKV,KAAK,CAACO,MAAM,CAACyB,wBAAwB,CAAC;EAC9F,MAAMC,IAAI,GAAG3B,KAAK,CAACG,GAAG,CAAC,CAAC;IAAEC,IAAI;IAAEc,MAAM;IAAEZ,IAAI;IAAEQ;EAAK,CAAC,MAAM;IACxDc,KAAK,EAAEd,IAAI;IACXe,KAAK,EAAEzB,IAAI;IACX0B,MAAM,EAAE1B,IAAI,KAAKV,KAAK,CAACO,MAAM,CAACyB,wBAAwB;IACtDK,MAAM,EAAEA,CAAA,kBACN7C,KAAA,CAAAqB,aAAA;MAAKyB,SAAS,EAAC,8BAA8B;MAAAxB,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,gBAC3C3B,KAAA,CAAAqB,aAAA;MAAMyB,SAAS,EAAC,iCAAiC;MAAAxB,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,GAC9CK,MACG,CAAC,eACPhC,KAAA,CAAAqB,aAAA;MAAMyB,SAAS,EAAC,uCAAuC;MAAAxB,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,GACpDP,IACG,CAAC,eACPpB,KAAA,CAAAqB,aAAA;MAAMyB,SAAS,EAAC,6BAA6B;MAAAxB,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,GAC1CC,IACG,CACH;EAET,CAAC,CAAC,CAAC;EACH,oBACE5B,KAAA,CAAAqB,aAAA;IAAKyB,SAAS,EAAC,aAAa;IAAAxB,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GACzBlB,IAAI,CAACoB,SAAS,CAAC,eAAe,CAAC,eAChC7B,KAAA,CAAAqB,aAAA;IAAM0B,OAAO,EAAEA,CAAA,KAAMvC,KAAK,CAACO,MAAM,CAACiC,UAAU,CAAC,IAAI,CAAE;IAAA1B,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBACjD3B,KAAA,CAAAqB,aAAA,CAACjB,QAAQ;IACP0C,SAAS,EAAE3C,EAAE,CAAC,sBAAsB,EAAE;MACpCyC,MAAM,EAAEpC,KAAK,CAACO,MAAM,CAACkC;IACvB,CAAC,CAAE;IACHC,KAAK;IACLC,WAAW,EAAC,OAAO;IACnBV,IAAI,EAAEA,IAAK;IACXM,OAAO,EAAEA,CAACK,CAAC,EAAEb,CAAC,EAAEc,IAAI,KAAK7C,KAAK,CAACO,MAAM,CAACuC,cAAc,CAACD,IAAI,CAACV,KAAK,CAAE;IAAArB,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,IAAAd,mBAAA,GAEhE4B,IAAI,CAACJ,aAAa,CAAC,cAAAxB,mBAAA,uBAAnBA,mBAAA,CAAqBgC,MAAM,CAAC,CACrB,CACN,CACH,CAAC;AAEV,CAAC,CAAC;AAEF,eAAejC,UAAU","ignoreList":[]},"metadata":{},"sourceType":"module"}