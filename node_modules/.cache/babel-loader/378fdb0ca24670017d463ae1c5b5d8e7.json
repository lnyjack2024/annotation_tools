{"ast":null,"code":"import { makeAutoObservable, toJS } from 'mobx';\nimport { cloneDeep } from 'lodash';\n/**\n * frame data\n * @class\n */\nexport default class FrameData {\n  constructor({\n    frameIndex,\n    isKeyFrame,\n    shapeType,\n    shape,\n    order,\n    attributes,\n    isOCR,\n    OCRText,\n    isFormula,\n    formulaText\n  }) {\n    /**\n     * frame index\n     * @member\n     */\n    this.frameIndex = void 0;\n    /**\n     * is key frame\n     * @member\n     */\n    this.isKeyFrame = void 0;\n    /**\n     * shape type\n     * @member\n     */\n    this.shapeType = void 0;\n    /**\n     * shape data\n     * @member\n     */\n    this.shape = void 0;\n    /**\n     * shape order\n     * @member\n     */\n    this.order = void 0;\n    /**\n     * shape attributes\n     * @member\n     */\n    this.attributes = void 0;\n    /**\n     * is ocr shape\n     * @member\n     */\n    this.isOCR = void 0;\n    /**\n     * ocr text when is an ocr shape\n     * @member\n     */\n    this.OCRText = void 0;\n    /**\n     * is formula shape\n     * @member\n     */\n    this.isFormula = void 0;\n    /**\n     * formula text when is a formula shape\n     * @member\n     */\n    this.formulaText = void 0;\n    makeAutoObservable(this, {\n      frameIndex: false,\n      shapeType: false,\n      order: false,\n      isOCR: false,\n      isFormula: false\n    }, {\n      autoBind: true\n    });\n    this.frameIndex = frameIndex;\n    this.isKeyFrame = isKeyFrame;\n    this.shapeType = shapeType;\n    this.shape = cloneDeep(shape);\n    this.order = order;\n    this.attributes = cloneDeep(attributes);\n    this.isOCR = isOCR;\n    this.OCRText = OCRText;\n    if (!this.isOCR) {\n      this.isFormula = isFormula;\n      this.formulaText = formulaText;\n    }\n  }\n\n  /**\n   * return structured data\n   */\n  toJSON() {\n    return {\n      frameIndex: this.frameIndex,\n      isKeyFrame: this.isKeyFrame,\n      shapeType: this.shapeType,\n      shape: cloneDeep(this.shape),\n      order: this.order,\n      attributes: cloneDeep(toJS(this.attributes)),\n      isOCR: this.isOCR,\n      OCRText: this.OCRText,\n      isFormula: this.isOCR ? undefined : this.isFormula,\n      formulaText: this.isOCR ? undefined : this.formulaText\n    };\n  }\n}","map":{"version":3,"names":["makeAutoObservable","toJS","cloneDeep","FrameData","constructor","frameIndex","isKeyFrame","shapeType","shape","order","attributes","isOCR","OCRText","isFormula","formulaText","autoBind","toJSON","undefined"],"sources":["/Users/qzheng/Documents/webroot/annotation_tools/src/components/video-tracking2/model/FrameData.ts"],"sourcesContent":["import { makeAutoObservable, toJS } from 'mobx';\nimport { cloneDeep } from 'lodash';\nimport { FrameData as IFrameData } from '../types';\nimport { ShapeData, ShapeType } from '../../common/shapes/types';\n\n/**\n * frame data\n * @class\n */\nexport default class FrameData {\n  /**\n   * frame index\n   * @member\n   */\n  frameIndex: number;\n\n  /**\n   * is key frame\n   * @member\n   */\n  isKeyFrame: boolean;\n\n  /**\n   * shape type\n   * @member\n   */\n  shapeType: ShapeType;\n\n  /**\n   * shape data\n   * @member\n   */\n  shape: ShapeData;\n\n  /**\n   * shape order\n   * @member\n   */\n  order?: number;\n\n  /**\n   * shape attributes\n   * @member\n   */\n  attributes?: any;\n\n  /**\n   * is ocr shape\n   * @member\n   */\n  isOCR?: boolean;\n\n  /**\n   * ocr text when is an ocr shape\n   * @member\n   */\n  OCRText?: string;\n\n  /**\n   * is formula shape\n   * @member\n   */\n  isFormula?: boolean;\n\n  /**\n   * formula text when is a formula shape\n   * @member\n   */\n  formulaText?: string;\n\n  constructor({ frameIndex, isKeyFrame, shapeType, shape, order, attributes, isOCR, OCRText, isFormula, formulaText }: IFrameData) {\n    makeAutoObservable(this, {\n      frameIndex: false,\n      shapeType: false,\n      order: false,\n      isOCR: false,\n      isFormula: false,\n    }, {\n      autoBind: true,\n    });\n\n    this.frameIndex = frameIndex;\n    this.isKeyFrame = isKeyFrame;\n    this.shapeType = shapeType;\n    this.shape = cloneDeep(shape);\n    this.order = order;\n    this.attributes = cloneDeep(attributes);\n    this.isOCR = isOCR;\n    this.OCRText = OCRText;\n    if (!this.isOCR) {\n      this.isFormula = isFormula;\n      this.formulaText = formulaText;\n    }\n  }\n\n  /**\n   * return structured data\n   */\n  toJSON(): IFrameData {\n    return {\n      frameIndex: this.frameIndex,\n      isKeyFrame: this.isKeyFrame,\n      shapeType: this.shapeType,\n      shape: cloneDeep(this.shape),\n      order: this.order,\n      attributes: cloneDeep(toJS(this.attributes)),\n      isOCR: this.isOCR,\n      OCRText: this.OCRText,\n      isFormula: this.isOCR ? undefined : this.isFormula,\n      formulaText: this.isOCR ? undefined : this.formulaText,\n    };\n  }\n}\n"],"mappings":"AAAA,SAASA,kBAAkB,EAAEC,IAAI,QAAQ,MAAM;AAC/C,SAASC,SAAS,QAAQ,QAAQ;AAIlC;AACA;AACA;AACA;AACA,eAAe,MAAMC,SAAS,CAAC;EA6D7BC,WAAWA,CAAC;IAAEC,UAAU;IAAEC,UAAU;IAAEC,SAAS;IAAEC,KAAK;IAAEC,KAAK;IAAEC,UAAU;IAAEC,KAAK;IAAEC,OAAO;IAAEC,SAAS;IAAEC;EAAwB,CAAC,EAAE;IA5DjI;AACF;AACA;AACA;IAHE,KAIAT,UAAU;IAEV;AACF;AACA;AACA;IAHE,KAIAC,UAAU;IAEV;AACF;AACA;AACA;IAHE,KAIAC,SAAS;IAET;AACF;AACA;AACA;IAHE,KAIAC,KAAK;IAEL;AACF;AACA;AACA;IAHE,KAIAC,KAAK;IAEL;AACF;AACA;AACA;IAHE,KAIAC,UAAU;IAEV;AACF;AACA;AACA;IAHE,KAIAC,KAAK;IAEL;AACF;AACA;AACA;IAHE,KAIAC,OAAO;IAEP;AACF;AACA;AACA;IAHE,KAIAC,SAAS;IAET;AACF;AACA;AACA;IAHE,KAIAC,WAAW;IAGTd,kBAAkB,CAAC,IAAI,EAAE;MACvBK,UAAU,EAAE,KAAK;MACjBE,SAAS,EAAE,KAAK;MAChBE,KAAK,EAAE,KAAK;MACZE,KAAK,EAAE,KAAK;MACZE,SAAS,EAAE;IACb,CAAC,EAAE;MACDE,QAAQ,EAAE;IACZ,CAAC,CAAC;IAEF,IAAI,CAACV,UAAU,GAAGA,UAAU;IAC5B,IAAI,CAACC,UAAU,GAAGA,UAAU;IAC5B,IAAI,CAACC,SAAS,GAAGA,SAAS;IAC1B,IAAI,CAACC,KAAK,GAAGN,SAAS,CAACM,KAAK,CAAC;IAC7B,IAAI,CAACC,KAAK,GAAGA,KAAK;IAClB,IAAI,CAACC,UAAU,GAAGR,SAAS,CAACQ,UAAU,CAAC;IACvC,IAAI,CAACC,KAAK,GAAGA,KAAK;IAClB,IAAI,CAACC,OAAO,GAAGA,OAAO;IACtB,IAAI,CAAC,IAAI,CAACD,KAAK,EAAE;MACf,IAAI,CAACE,SAAS,GAAGA,SAAS;MAC1B,IAAI,CAACC,WAAW,GAAGA,WAAW;IAChC;EACF;;EAEA;AACF;AACA;EACEE,MAAMA,CAAA,EAAe;IACnB,OAAO;MACLX,UAAU,EAAE,IAAI,CAACA,UAAU;MAC3BC,UAAU,EAAE,IAAI,CAACA,UAAU;MAC3BC,SAAS,EAAE,IAAI,CAACA,SAAS;MACzBC,KAAK,EAAEN,SAAS,CAAC,IAAI,CAACM,KAAK,CAAC;MAC5BC,KAAK,EAAE,IAAI,CAACA,KAAK;MACjBC,UAAU,EAAER,SAAS,CAACD,IAAI,CAAC,IAAI,CAACS,UAAU,CAAC,CAAC;MAC5CC,KAAK,EAAE,IAAI,CAACA,KAAK;MACjBC,OAAO,EAAE,IAAI,CAACA,OAAO;MACrBC,SAAS,EAAE,IAAI,CAACF,KAAK,GAAGM,SAAS,GAAG,IAAI,CAACJ,SAAS;MAClDC,WAAW,EAAE,IAAI,CAACH,KAAK,GAAGM,SAAS,GAAG,IAAI,CAACH;IAC7C,CAAC;EACH;AACF","ignoreList":[]},"metadata":{},"sourceType":"module"}