{"ast":null,"code":"import { Point } from 'pixi.js';\nimport Shape, { BorderStyle } from './Shape';\nimport { ShapeType } from './types';\nimport ControlPoint from './controls/ControlPoint';\nimport { precise } from './utils';\nimport Cursor from '../Cursor';\nimport { bezierSplit } from '../../../utils/math';\n/**\n * Ellipse shape\n * @class\n */\nexport default class Ellipse extends Shape {\n  /**\n   * get x\n   * @getter\n   */\n  get x() {\n    return this._x || 0;\n  }\n\n  /**\n   * set x\n   * @setter\n   */\n  set x(x) {\n    this._x = x;\n    this.normalize();\n  }\n\n  /**\n   * get y\n   * @getter\n   */\n  get y() {\n    return this._y || 0;\n  }\n\n  /**\n   * set y\n   * @setter\n   */\n  set y(y) {\n    this._y = y;\n    this.normalize();\n  }\n\n  /**\n   * get halfWidth\n   * @getter\n   */\n  get halfWidth() {\n    return this._halfWidth || 0;\n  }\n\n  /**\n   * set halfWidth\n   * @setter\n   */\n  set halfWidth(halfWidth) {\n    this._halfWidth = halfWidth;\n    this.normalize();\n  }\n\n  /**\n   * get height\n   * @getter\n   */\n  get halfHeight() {\n    return this._halfHeight || 0;\n  }\n\n  /**\n   * set halfHeight\n   * @setter\n   */\n  set halfHeight(halfHeight) {\n    this._halfHeight = halfHeight;\n    this.normalize();\n  }\n\n  /**\n   * get position\n   * @getter\n   */\n  get position() {\n    return new Point(this.x, this.y);\n  }\n\n  /**\n   * set position\n   * @setter\n   */\n  set position(point) {\n    if (this._x !== point.x || this._y !== point.y) {\n      this._x = precise(point.x);\n      this._y = precise(point.y);\n      this.drawShape();\n    }\n  }\n\n  /**\n   * shape bounds\n   * @getter\n   */\n  get shapeBounds() {\n    const shapePoints = this.getPoints();\n    const left = Math.min(...shapePoints.map(p => p.x));\n    const right = Math.max(...shapePoints.map(p => p.x));\n    const top = Math.min(...shapePoints.map(p => p.y));\n    const bottom = Math.max(...shapePoints.map(p => p.y));\n    return {\n      left,\n      top,\n      right,\n      bottom\n    };\n  }\n\n  /**\n   * shape area\n   * @getter\n   */\n  get area() {\n    return Math.PI * this.halfWidth * this.halfHeight;\n  }\n  constructor(options) {\n    super(options);\n    this.shapeType = ShapeType.ELLIPSE;\n    /**\n     * center position x\n     * @private\n     */\n    this._x = void 0;\n    /**\n    * center position y\n    * @private\n    */\n    this._y = void 0;\n    /**\n    * half width\n    * @private\n    */\n    this._halfWidth = void 0;\n    /**\n    * half height\n    * @private\n    */\n    this._halfHeight = void 0;\n    const {\n      x,\n      y,\n      halfWidth,\n      halfHeight\n    } = options;\n    if (x !== undefined && y !== undefined && halfWidth !== undefined && halfHeight !== undefined) {\n      this._x = x;\n      this._y = y;\n      this._halfWidth = halfWidth;\n      this._halfHeight = halfHeight;\n      this.normalize();\n    }\n  }\n\n  /**\n   * drag to create\n   */\n  create() {\n    const mouseMove = event => {\n      const point = this._mapScreenToStagePosition(event.clientX, event.clientY);\n      const localPoint = this._mapStageToLocalPosition(point);\n      this._draw(localPoint);\n    };\n    const mouseUp = () => {\n      this.normalize();\n      this._finish();\n      document.removeEventListener('mousemove', mouseMove, false);\n      document.removeEventListener('mouseup', mouseUp, false);\n    };\n    document.addEventListener('mousemove', mouseMove, false);\n    document.addEventListener('mouseup', mouseUp, false);\n    this._finished = false;\n  }\n\n  /**\n   * draw shape\n   */\n  drawShape() {\n    this.instance.clear();\n    this._drawShapeFill();\n    this._drawShapeLine();\n    if (this._finished) {\n      this.drawShapeLabel();\n      this.attachControlPoints();\n    }\n  }\n\n  /**\n   * draw shape fill\n   */\n  _drawShapeFill() {\n    this.instance.beginFill(this.color, this.alpha);\n    this.instance.drawEllipse(this.x, this.y, Math.abs(this.halfWidth), Math.abs(this.halfHeight));\n    this.instance.endFill();\n  }\n\n  /**\n   * draw shape border\n   */\n  _drawShapeLine() {\n    const bezierCurveTo = (x1, y1, x2, y2, x, y) => {\n      if (this.borderStyle === BorderStyle.DASHED) {\n        this.instance.dashBezierCurveTo(x1, y1, x2, y2, x, y);\n      } else {\n        this.instance.bezierCurveTo(x1, y1, x2, y2, x, y);\n      }\n    };\n    const kappa = 0.5522848;\n    const x = this.x - this.halfWidth;\n    const y = this.y - this.halfHeight;\n    const ox = this.halfWidth * kappa; // control point offset horizontal\n    const oy = this.halfHeight * kappa; // control point offset vertical\n    const xe = x + this.halfWidth * 2; // x-end\n    const ye = y + this.halfHeight * 2; // y-end\n    const xm = this.x; // x-middle\n    const ym = this.y; // y-middle\n\n    this.instance.lineStyle(this.borderWidth / this.scale, this.displayBorderColor, this.borderAlpha);\n    this.instance.moveTo(x, ym);\n    bezierCurveTo(x, ym - oy, xm - ox, y, xm, y);\n    bezierCurveTo(xm + ox, y, xe, ym - oy, xe, ym);\n    bezierCurveTo(xe, ym + oy, xm + ox, ye, xm, ye);\n    bezierCurveTo(xm - ox, ye, x, ym + oy, x, ym);\n    this.instance.closePath();\n  }\n\n  /**\n   * draw shape by the position\n   * @private\n   * @param point mouse position\n   */\n  _draw(point) {\n    const p = this._keepPointInBounds(point);\n    if (this._x === undefined || this._y === undefined) {\n      this._x = p.x;\n      this._y = p.y;\n    } else {\n      this._halfWidth = p.x - this._x;\n      this._halfHeight = p.y - this._y;\n    }\n    this._keepInBounds();\n    this.drawShape();\n  }\n\n  /**\n   * keep shap in bounds when creating & resizing\n   */\n  _keepInBounds() {\n    if (this.bounds && this._x !== undefined && this._y !== undefined) {\n      const points = this.getPoints();\n      const left = Math.min(...points.map(i => i.x));\n      const right = Math.max(...points.map(i => i.x));\n      const top = Math.min(...points.map(i => i.y));\n      const bottom = Math.max(...points.map(i => i.y));\n      const {\n        left: bLeft,\n        top: bTop,\n        right: bRight,\n        bottom: bBottom\n      } = this.bounds;\n      if (left < bLeft) {\n        this._halfWidth = this._x;\n      } else if (right > bRight) {\n        this._halfWidth = bRight - this._x;\n      }\n      if (top < bTop) {\n        this._halfHeight = this._y;\n      } else if (bottom > bBottom) {\n        this._halfHeight = bBottom - this._y;\n      }\n    }\n  }\n\n  /**\n   * attach control points\n   */\n  attachControlPoints() {\n    if (!this.editable) {\n      this.removeControls();\n      return;\n    }\n    this.getPoints().forEach((point, index) => {\n      if (this.selected) {\n        // create if never created before\n        if (!this._controls[index]) {\n          this._controls[index] = new ControlPoint({\n            position: point,\n            container: this.controlsContainer,\n            scale: this.scale,\n            color: this.selectedColor,\n            cursor: index % 2 === 0 ? Cursor.EW_RESIZE : Cursor.NS_RESIZE,\n            onPositionChange: (x, y) => this._updateByPointPosition(index, x, y),\n            onFinish: () => this._finishResize()\n          });\n        }\n\n        // update\n        this._controls[index].position = point;\n        this._controls[index].add();\n      } else if (this._controls[index]) {\n        // remove\n        this._controls[index].remove();\n      }\n    });\n  }\n\n  /**\n   * update ellipse x, y, half width, half height by dragging point\n   * @private\n   * @param index point index\n   * @param x new position x\n   * @param y new position y\n   */\n  _updateByPointPosition(index, x, y) {\n    const position = this._keepPointInBounds(new Point(x, y));\n    const points = this.getPoints();\n    const offsetX = position.x - points[index].x;\n    const offsetY = position.y - points[index].y;\n    if (this._x !== undefined && this._y !== undefined && this._halfWidth !== undefined && this._halfHeight !== undefined) {\n      switch (index) {\n        case 0:\n          this._halfWidth -= offsetX;\n          break;\n        case 1:\n          this._halfHeight -= offsetY;\n          break;\n        case 2:\n          this._halfWidth += offsetX;\n          break;\n        case 3:\n          this._halfHeight += offsetY;\n          break;\n        default:\n      }\n      this._keepInBounds();\n      this.drawShape();\n      this._resizing();\n    }\n  }\n\n  /**\n   * when finish resize\n   */\n  _finishResize() {\n    this.resizing = false;\n    this.normalize();\n    this._changed();\n  }\n\n  /**\n   * get shape data\n   */\n  getData() {\n    return {\n      x: this.x,\n      y: this.y,\n      halfWidth: this.halfWidth,\n      halfHeight: this.halfHeight\n    };\n  }\n\n  /**\n   * get geo json\n   */\n  getAreaAsGeoJSON() {\n    const kappa = 0.5522848;\n    const x = this.x - this.halfWidth;\n    const y = this.y - this.halfHeight;\n    const ox = this.halfWidth * kappa; // control point offset horizontal\n    const oy = this.halfHeight * kappa; // control point offset vertical\n    const xe = x + this.halfWidth * 2; // x-end\n    const ye = y + this.halfHeight * 2; // y-end\n    const xm = this.x; // x-middle\n    const ym = this.y; // y-middle\n    const allPoints = [...bezierSplit(x, ym, xm, y, x, ym - oy, xm - ox, y, 4), ...bezierSplit(xm, y, xe, ym, xm + ox, y, xe, ym - oy, 4), ...bezierSplit(xe, ym, xm, ye, xe, ym + oy, xm + ox, ye, 4), ...bezierSplit(xm, ye, x, ym, xm - ox, ye, x, ym + oy, 4)];\n    return [allPoints];\n  }\n\n  /**\n   * get label position\n   */\n  getLabelPosition() {\n    return new Point(this.x, this.y - this.halfHeight);\n  }\n\n  /**\n   * normalize ellipse shape, remove it if necessary\n   */\n  normalize() {\n    if (this._x === undefined || this._y === undefined || !this._halfWidth || !this._halfHeight) {\n      this._remove();\n      return;\n    }\n    if (this._halfWidth < 0) {\n      this._halfWidth = Math.abs(this._halfWidth);\n    }\n    if (this._halfHeight < 0) {\n      this._halfHeight = Math.abs(this._halfHeight);\n    }\n    this._x = precise(this._x);\n    this._y = precise(this._y);\n    this._halfWidth = precise(this._halfWidth);\n    this._halfHeight = precise(this._halfHeight);\n    this.drawShape();\n  }\n\n  /**\n   * get 4 vertex points\n   */\n  getPoints() {\n    return [{\n      x: this.x - this.halfWidth,\n      y: this.y\n    }, {\n      x: this.x,\n      y: this.y - this.halfHeight\n    }, {\n      x: this.x + this.halfWidth,\n      y: this.y\n    }, {\n      x: this.x,\n      y: this.y + this.halfHeight\n    }];\n  }\n}","map":{"version":3,"names":["Point","Shape","BorderStyle","ShapeType","ControlPoint","precise","Cursor","bezierSplit","Ellipse","x","_x","normalize","y","_y","halfWidth","_halfWidth","halfHeight","_halfHeight","position","point","drawShape","shapeBounds","shapePoints","getPoints","left","Math","min","map","p","right","max","top","bottom","area","PI","constructor","options","shapeType","ELLIPSE","undefined","create","mouseMove","event","_mapScreenToStagePosition","clientX","clientY","localPoint","_mapStageToLocalPosition","_draw","mouseUp","_finish","document","removeEventListener","addEventListener","_finished","instance","clear","_drawShapeFill","_drawShapeLine","drawShapeLabel","attachControlPoints","beginFill","color","alpha","drawEllipse","abs","endFill","bezierCurveTo","x1","y1","x2","y2","borderStyle","DASHED","dashBezierCurveTo","kappa","ox","oy","xe","ye","xm","ym","lineStyle","borderWidth","scale","displayBorderColor","borderAlpha","moveTo","closePath","_keepPointInBounds","_keepInBounds","bounds","points","i","bLeft","bTop","bRight","bBottom","editable","removeControls","forEach","index","selected","_controls","container","controlsContainer","selectedColor","cursor","EW_RESIZE","NS_RESIZE","onPositionChange","_updateByPointPosition","onFinish","_finishResize","add","remove","offsetX","offsetY","_resizing","resizing","_changed","getData","getAreaAsGeoJSON","allPoints","getLabelPosition","_remove"],"sources":["/Users/qzheng/Documents/webroot/annotation_tools/src/components/common/shapes/Ellipse.ts"],"sourcesContent":["import { Point } from 'pixi.js';\nimport { Pair } from 'polygon-clipping';\nimport Shape, { ShapeOptions, BorderStyle } from './Shape';\nimport { ShapeType } from './types';\nimport ControlPoint from './controls/ControlPoint';\nimport { precise } from './utils';\nimport Cursor from '../Cursor';\nimport { bezierSplit } from '../../../utils/math';\n\nexport interface EllipseData {\n  x: number;\n  y: number;\n  halfWidth: number;\n  halfHeight: number;\n}\n\nexport interface EllipseOptions extends ShapeOptions {\n  x?: number;\n  y?: number;\n  halfWidth?: number;\n  halfHeight?: number;\n}\n\n/**\n * Ellipse shape\n * @class\n */\nexport default class Ellipse extends Shape<EllipseData> {\n  shapeType = ShapeType.ELLIPSE;\n\n  /**\n   * center position x\n   * @private\n   */\n  private _x: number | undefined;\n\n  /**\n  * center position y\n  * @private\n  */\n  private _y: number | undefined;\n\n  /**\n  * half width\n  * @private\n  */\n  private _halfWidth: number | undefined;\n\n  /**\n  * half height\n  * @private\n  */\n  private _halfHeight: number | undefined;\n\n  /**\n   * get x\n   * @getter\n   */\n  get x() {\n    return this._x || 0;\n  }\n\n  /**\n   * set x\n   * @setter\n   */\n  set x(x: number) {\n    this._x = x;\n    this.normalize();\n  }\n\n  /**\n   * get y\n   * @getter\n   */\n  get y() {\n    return this._y || 0;\n  }\n\n  /**\n   * set y\n   * @setter\n   */\n  set y(y: number) {\n    this._y = y;\n    this.normalize();\n  }\n\n  /**\n   * get halfWidth\n   * @getter\n   */\n  get halfWidth() {\n    return this._halfWidth || 0;\n  }\n\n  /**\n   * set halfWidth\n   * @setter\n   */\n  set halfWidth(halfWidth: number) {\n    this._halfWidth = halfWidth;\n    this.normalize();\n  }\n\n  /**\n   * get height\n   * @getter\n   */\n  get halfHeight() {\n    return this._halfHeight || 0;\n  }\n\n  /**\n   * set halfHeight\n   * @setter\n   */\n  set halfHeight(halfHeight: number) {\n    this._halfHeight = halfHeight;\n    this.normalize();\n  }\n\n  /**\n   * get position\n   * @getter\n   */\n  get position() {\n    return new Point(this.x, this.y);\n  }\n\n  /**\n   * set position\n   * @setter\n   */\n  set position(point: Point) {\n    if (this._x !== point.x || this._y !== point.y) {\n      this._x = precise(point.x);\n      this._y = precise(point.y);\n      this.drawShape();\n    }\n  }\n\n  /**\n   * shape bounds\n   * @getter\n   */\n  get shapeBounds() {\n    const shapePoints = this.getPoints();\n    const left = Math.min(...shapePoints.map((p) => p.x));\n    const right = Math.max(...shapePoints.map((p) => p.x));\n    const top = Math.min(...shapePoints.map((p) => p.y));\n    const bottom = Math.max(...shapePoints.map((p) => p.y));\n    return { left, top, right, bottom };\n  }\n\n  /**\n   * shape area\n   * @getter\n   */\n  get area() {\n    return Math.PI * this.halfWidth * this.halfHeight;\n  }\n\n  constructor(options: EllipseOptions) {\n    super(options);\n\n    const { x, y, halfWidth, halfHeight } = options;\n    if (x !== undefined && y !== undefined && halfWidth !== undefined && halfHeight !== undefined) {\n      this._x = x;\n      this._y = y;\n      this._halfWidth = halfWidth;\n      this._halfHeight = halfHeight;\n      this.normalize();\n    }\n  }\n\n  /**\n   * drag to create\n   */\n  create() {\n    const mouseMove = (event: MouseEvent) => {\n      const point = this._mapScreenToStagePosition(event.clientX, event.clientY);\n      const localPoint = this._mapStageToLocalPosition(point);\n      this._draw(localPoint);\n    };\n    const mouseUp = () => {\n      this.normalize();\n      this._finish();\n\n      document.removeEventListener('mousemove', mouseMove, false);\n      document.removeEventListener('mouseup', mouseUp, false);\n    };\n\n    document.addEventListener('mousemove', mouseMove, false);\n    document.addEventListener('mouseup', mouseUp, false);\n    this._finished = false;\n  }\n\n  /**\n   * draw shape\n   */\n  drawShape() {\n    this.instance.clear();\n    this._drawShapeFill();\n    this._drawShapeLine();\n    if (this._finished) {\n      this.drawShapeLabel();\n      this.attachControlPoints();\n    }\n  }\n\n  /**\n   * draw shape fill\n   */\n  private _drawShapeFill() {\n    this.instance.beginFill(this.color, this.alpha);\n    this.instance.drawEllipse(this.x, this.y, Math.abs(this.halfWidth), Math.abs(this.halfHeight));\n    this.instance.endFill();\n  }\n\n  /**\n   * draw shape border\n   */\n  private _drawShapeLine() {\n    const bezierCurveTo = (x1: number, y1: number, x2: number, y2: number, x: number, y: number) => {\n      if (this.borderStyle === BorderStyle.DASHED) {\n        this.instance.dashBezierCurveTo(x1, y1, x2, y2, x, y);\n      } else {\n        this.instance.bezierCurveTo(x1, y1, x2, y2, x, y);\n      }\n    };\n\n    const kappa = 0.5522848;\n    const x = this.x - this.halfWidth;\n    const y = this.y - this.halfHeight;\n    const ox = this.halfWidth * kappa; // control point offset horizontal\n    const oy = this.halfHeight * kappa; // control point offset vertical\n    const xe = x + this.halfWidth * 2; // x-end\n    const ye = y + this.halfHeight * 2; // y-end\n    const xm = this.x; // x-middle\n    const ym = this.y; // y-middle\n\n    this.instance.lineStyle(this.borderWidth / this.scale, this.displayBorderColor, this.borderAlpha);\n    this.instance.moveTo(x, ym);\n    bezierCurveTo(x, ym - oy, xm - ox, y, xm, y);\n    bezierCurveTo(xm + ox, y, xe, ym - oy, xe, ym);\n    bezierCurveTo(xe, ym + oy, xm + ox, ye, xm, ye);\n    bezierCurveTo(xm - ox, ye, x, ym + oy, x, ym);\n    this.instance.closePath();\n  }\n\n  /**\n   * draw shape by the position\n   * @private\n   * @param point mouse position\n   */\n  private _draw(point: Point) {\n    const p = this._keepPointInBounds(point);\n    if (this._x === undefined || this._y === undefined) {\n      this._x = p.x;\n      this._y = p.y;\n    } else {\n      this._halfWidth = p.x - this._x;\n      this._halfHeight = p.y - this._y;\n    }\n    this._keepInBounds();\n    this.drawShape();\n  }\n\n  /**\n   * keep shap in bounds when creating & resizing\n   */\n  private _keepInBounds() {\n    if (this.bounds && this._x !== undefined && this._y !== undefined) {\n      const points = this.getPoints();\n      const left = Math.min(...points.map((i) => i.x));\n      const right = Math.max(...points.map((i) => i.x));\n      const top = Math.min(...points.map((i) => i.y));\n      const bottom = Math.max(...points.map((i) => i.y));\n      const { left: bLeft, top: bTop, right: bRight, bottom: bBottom } = this.bounds;\n      if (left < bLeft) {\n        this._halfWidth = this._x;\n      } else if (right > bRight) {\n        this._halfWidth = bRight - this._x;\n      }\n      if (top < bTop) {\n        this._halfHeight = this._y;\n      } else if (bottom > bBottom) {\n        this._halfHeight = bBottom - this._y;\n      }\n    }\n  }\n\n  /**\n   * attach control points\n   */\n  attachControlPoints() {\n    if (!this.editable) {\n      this.removeControls();\n      return;\n    }\n\n    this.getPoints().forEach((point, index) => {\n      if (this.selected) {\n        // create if never created before\n        if (!this._controls[index]) {\n          this._controls[index] = new ControlPoint({\n            position: point,\n            container: this.controlsContainer,\n            scale: this.scale,\n            color: this.selectedColor,\n            cursor: index % 2 === 0 ? Cursor.EW_RESIZE : Cursor.NS_RESIZE,\n            onPositionChange: (x, y) => this._updateByPointPosition(index, x, y),\n            onFinish: () => this._finishResize(),\n          });\n        }\n\n        // update\n        this._controls[index].position = point;\n        this._controls[index].add();\n      } else if (this._controls[index]) {\n        // remove\n        this._controls[index].remove();\n      }\n    });\n  }\n\n  /**\n   * update ellipse x, y, half width, half height by dragging point\n   * @private\n   * @param index point index\n   * @param x new position x\n   * @param y new position y\n   */\n  private _updateByPointPosition(index: number, x: number, y: number) {\n    const position = this._keepPointInBounds(new Point(x, y));\n    const points = this.getPoints();\n    const offsetX = position.x - points[index].x;\n    const offsetY = position.y - points[index].y;\n    if (this._x !== undefined && this._y !== undefined && this._halfWidth !== undefined && this._halfHeight !== undefined) {\n      switch (index) {\n        case 0:\n          this._halfWidth -= offsetX;\n          break;\n        case 1:\n          this._halfHeight -= offsetY;\n          break;\n        case 2:\n          this._halfWidth += offsetX;\n          break;\n        case 3:\n          this._halfHeight += offsetY;\n          break;\n        default:\n      }\n      this._keepInBounds();\n      this.drawShape();\n      this._resizing();\n    }\n  }\n\n  /**\n   * when finish resize\n   */\n  private _finishResize() {\n    this.resizing = false;\n    this.normalize();\n    this._changed();\n  }\n\n  /**\n   * get shape data\n   */\n  getData() {\n    return {\n      x: this.x,\n      y: this.y,\n      halfWidth: this.halfWidth,\n      halfHeight: this.halfHeight,\n    };\n  }\n\n  /**\n   * get geo json\n   */\n  getAreaAsGeoJSON() {\n    const kappa = 0.5522848;\n    const x = this.x - this.halfWidth;\n    const y = this.y - this.halfHeight;\n    const ox = this.halfWidth * kappa; // control point offset horizontal\n    const oy = this.halfHeight * kappa; // control point offset vertical\n    const xe = x + this.halfWidth * 2; // x-end\n    const ye = y + this.halfHeight * 2; // y-end\n    const xm = this.x; // x-middle\n    const ym = this.y; // y-middle\n    const allPoints = [\n      ...bezierSplit(x, ym, xm, y, x, ym - oy, xm - ox, y, 4),\n      ...bezierSplit(xm, y, xe, ym, xm + ox, y, xe, ym - oy, 4),\n      ...bezierSplit(xe, ym, xm, ye, xe, ym + oy, xm + ox, ye, 4),\n      ...bezierSplit(xm, ye, x, ym, xm - ox, ye, x, ym + oy, 4),\n    ] as Pair[];\n    return [allPoints];\n  }\n\n  /**\n   * get label position\n   */\n  getLabelPosition() {\n    return new Point(this.x, this.y - this.halfHeight);\n  }\n\n  /**\n   * normalize ellipse shape, remove it if necessary\n   */\n  normalize() {\n    if (this._x === undefined || this._y === undefined || !this._halfWidth || !this._halfHeight) {\n      this._remove();\n      return;\n    }\n\n    if (this._halfWidth < 0) {\n      this._halfWidth = Math.abs(this._halfWidth);\n    }\n    if (this._halfHeight < 0) {\n      this._halfHeight = Math.abs(this._halfHeight);\n    }\n\n    this._x = precise(this._x);\n    this._y = precise(this._y);\n    this._halfWidth = precise(this._halfWidth);\n    this._halfHeight = precise(this._halfHeight);\n\n    this.drawShape();\n  }\n\n  /**\n   * get 4 vertex points\n   */\n  getPoints() {\n    return [\n      { x: this.x - this.halfWidth, y: this.y },\n      { x: this.x, y: this.y - this.halfHeight },\n      { x: this.x + this.halfWidth, y: this.y },\n      { x: this.x, y: this.y + this.halfHeight },\n    ];\n  }\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}