{"ast":null,"code":"var _jsxFileName = \"/Users/qzheng/Documents/webroot/annotation_tools/src/components/common/llm/attributes-config/AttributeValueItem.tsx\";\nimport React from 'react';\nimport { FieldControlType } from '@appen-china/easy-form/es/types';\nimport cx from 'classnames';\nimport { getFieldDisplayLabel, getReferenceImageUrl } from '../../../../utils/form';\nimport './AttributeValueItem.scss';\nconst AttributeValueItem = ({\n  fieldName,\n  fieldsMap,\n  values = {},\n  onValueClick,\n  compact = false\n}) => {\n  const field = (fieldsMap || {})[fieldName];\n  const fieldValue = values[fieldName];\n  const displayValue = getFieldDisplayLabel(fieldValue, field);\n  const referenceImageRender = () => {\n    const referenceImageUrl = getReferenceImageUrl(fieldValue, field, ['value', 'label']);\n    if (referenceImageUrl) {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"ocr-snapshot\",\n        style: {\n          verticalAlign: 'middle',\n          width: 120,\n          height: 120,\n          backgroundImage: `url(${referenceImageUrl})`\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 24,\n          columnNumber: 9\n        }\n      });\n    }\n    return null;\n  };\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: cx('llm-attributes-item', {\n      inline: compact\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 5\n    }\n  }, !compact && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"llm-attributes-item-label\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 9\n    }\n  }, (field === null || field === void 0 ? void 0 : field.label) || (field === null || field === void 0 ? void 0 : field.name) || fieldName, \":\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"llm-attributes-item-value\",\n    onMouseDown: e => {\n      e.stopPropagation();\n      if (onValueClick && (field === null || field === void 0 ? void 0 : field.name)) {\n        onValueClick(field.name);\n      }\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 7\n    }\n  }, (field === null || field === void 0 ? void 0 : field.type) === FieldControlType.IMAGETEXT\n  // eslint-disable-next-line react/no-danger\n  ? /*#__PURE__*/React.createElement(\"div\", {\n    dangerouslySetInnerHTML: {\n      __html: displayValue\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 17\n    }\n  }) : /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 17\n    }\n  }, displayValue), referenceImageRender()), compact && (displayValue || referenceImageRender()) && /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      paddingRight: 8\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 64\n    }\n  }, \";\"));\n};\nexport default AttributeValueItem;","map":{"version":3,"names":["React","FieldControlType","cx","getFieldDisplayLabel","getReferenceImageUrl","AttributeValueItem","fieldName","fieldsMap","values","onValueClick","compact","field","fieldValue","displayValue","referenceImageRender","referenceImageUrl","createElement","className","style","verticalAlign","width","height","backgroundImage","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","inline","label","name","onMouseDown","e","stopPropagation","type","IMAGETEXT","dangerouslySetInnerHTML","__html","paddingRight"],"sources":["/Users/qzheng/Documents/webroot/annotation_tools/src/components/common/llm/attributes-config/AttributeValueItem.tsx"],"sourcesContent":["import React from 'react';\nimport { FieldControlType } from '@appen-china/easy-form/es/types';\nimport cx from 'classnames';\nimport { FieldConfig, getFieldDisplayLabel, getReferenceImageUrl } from '../../../../utils/form';\nimport './AttributeValueItem.scss';\n\ninterface AttributeValueItemProps {\n  fieldName: string;\n  fieldsMap: { [fieldName: string]: FieldConfig };\n  values: any;\n  onValueClick?: (fieldName: string) => void;\n  compact?: boolean;\n}\n\nconst AttributeValueItem = ({ fieldName, fieldsMap, values = {}, onValueClick, compact = false }: AttributeValueItemProps) => {\n  const field = (fieldsMap || {})[fieldName];\n  const fieldValue = values[fieldName];\n  const displayValue = getFieldDisplayLabel(fieldValue, field);\n\n  const referenceImageRender = () => {\n    const referenceImageUrl = getReferenceImageUrl(fieldValue, field, ['value', 'label']);\n    if (referenceImageUrl) {\n      return (\n        <div className=\"ocr-snapshot\" style={{ verticalAlign: 'middle', width: 120, height: 120, backgroundImage: `url(${referenceImageUrl})` }} />\n      );\n    }\n    return null;\n  };\n\n  return (\n    <div className={cx('llm-attributes-item', { inline: compact })}>\n      {!compact && (\n        <div className=\"llm-attributes-item-label\">\n          {field?.label || field?.name || fieldName}\n          :\n        </div>\n      )}\n      <div\n        className=\"llm-attributes-item-value\"\n        onMouseDown={(e) => {\n          e.stopPropagation();\n          if (onValueClick && field?.name) {\n            onValueClick(field.name);\n          }\n        }}\n      >\n        {\n            field?.type === FieldControlType.IMAGETEXT\n              // eslint-disable-next-line react/no-danger\n              ? <div dangerouslySetInnerHTML={{ __html: displayValue }} />\n              : <span>{displayValue}</span>\n        }\n        {referenceImageRender()}\n      </div>\n      {compact && (displayValue || referenceImageRender()) && (<div style={{ paddingRight: 8 }}>;</div>)}\n    </div>\n  );\n};\n\nexport default AttributeValueItem;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}