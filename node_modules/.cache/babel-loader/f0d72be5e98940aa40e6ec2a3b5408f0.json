{"ast":null,"code":"var _jsxFileName = \"/Users/qzheng/Documents/webroot/annotation_tools/src/components/audio-temp/index.js\";\nimport React from 'react';\nimport WaveSurfer from 'wavesurfer.js';\nimport TimelinePlugin from 'wavesurfer.js/dist/plugin/wavesurfer.timeline.min.js';\nimport RegionsPlugin from 'wavesurfer.js/dist/plugin/wavesurfer.regions.min.js';\nimport hexToRgba from 'hex-to-rgba';\nimport { IoMdPlay, IoMdRewind, IoMdFastforward, IoMdPause } from 'react-icons/io';\nimport { InputNumber } from 'antd';\nimport { store } from '../../utils';\nimport './audio.css';\nconst toolName = 'audio-temp';\nconst defaultColor = '#5ceee4';\nconst defaultAlpha = 0.45;\nexport default class AudioAnnotationApp extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      isPlaying: false,\n      isEditing: false,\n      summary: '',\n      category: '',\n      start: '',\n      end: '',\n      note: '',\n      gender: 'female',\n      business: '1',\n      valid: '1',\n      unitId: ''\n    };\n    this.wavesurfer = null;\n    this.workingRegion = null;\n    this.ontologyColors = new Map([...(this.props.ontology && Array.isArray(this.props.ontology) && this.props.ontology.map(i => [i.class_name, i.display_color]))]);\n    this.playPause = e => {\n      e.preventDefault();\n      this.setState({\n        isPlaying: !this.state.isPlaying\n      });\n      this.wavesurfer.playPause();\n    };\n    this.skipBackward = e => {\n      e.preventDefault();\n      this.wavesurfer.skipBackward();\n    };\n    this.skipForward = e => {\n      e.preventDefault();\n      this.wavesurfer.skipForward();\n    };\n    this.showSummary = region => {\n      this.setState({\n        summary: `[${this.roundTime(region.start)} - ${this.roundTime(region.end)}] [${this.parseValid(region.data.valid) || ''}] [${region.data.category || ''}] [${this.parseGender(region.data.gender)}] [${this.parseBusiness(region.data.business)}]: ${region.data.note || ''}`\n      });\n    };\n    this.hideSummary = () => {\n      this.setState({\n        summary: ''\n      });\n    };\n    this.onRegionClick = (region, e) => {\n      e.stopPropagation();\n      // Play on click, loop on shift click\n      e.shiftKey ? region.playLoop() : region.play();\n      this.onRegionEdit(region);\n    };\n    this.onRegionEdit = region => {\n      this.workingRegion = region;\n      this.setState({\n        isEditing: true,\n        category: (region.data || {}).category || '',\n        start: this.roundTime(region.start),\n        //Math.round(region.start * 10) / 10,\n        end: this.roundTime(region.end),\n        // Math.round(region.end * 10) / 10,\n        note: (region.data || {}).note || '',\n        gender: (region.data || {}).gender || 'female',\n        business: (region.data || {}).business || '1',\n        valid: (region.data || {}).valid || '1'\n      });\n\n      // save to region\n      this.workingRegion.update({\n        data: {\n          note: this.state.note,\n          category: this.state.category,\n          gender: this.state.gender,\n          business: this.state.business,\n          valid: this.state.valid\n        }\n      });\n      this.saveRegions();\n    };\n    this.onRegionUpdate = region => {\n      this.saveRegions();\n      if (this.workingRegion) {\n        this.setState({\n          start: this.roundTime(region.start),\n          //Math.round(region.start * 10) / 10,\n          end: this.roundTime(region.end) // Math.round(region.end * 10) / 10,\n        });\n      }\n    };\n    this.handleCategorySelect = (category, e) => {\n      e.preventDefault();\n      this.setState({\n        category: category.class_name\n      });\n\n      // save to region\n      this.workingRegion.update({\n        color: hexToRgba(category.display_color, defaultAlpha),\n        data: {\n          note: this.state.note,\n          category: category.class_name,\n          gender: this.state.gender,\n          business: this.state.business,\n          valid: this.state.valid\n        }\n      });\n      this.saveRegions();\n    };\n    this.handleRegionDelete = e => {\n      e.preventDefault();\n      this.workingRegion.remove();\n      this.workingRegion = null;\n      this.saveRegions();\n      this.setState({\n        isEditing: false\n      });\n    };\n    this.handleRegionSave = e => {\n      e.preventDefault();\n      const {\n        category,\n        start,\n        end,\n        note,\n        gender,\n        business,\n        valid\n      } = this.state;\n      this.workingRegion.update({\n        start,\n        end,\n        data: {\n          category,\n          note,\n          gender,\n          business,\n          valid\n        }\n      });\n      this.workingRegion = null;\n      this.saveRegions();\n      this.setState({\n        isEditing: false\n      });\n    };\n    this.setSpeed = n => {\n      const rate = this.speedFormula(n);\n      this.wavesurfer.setPlaybackRate(rate);\n    };\n  }\n  componentDidMount() {\n    this.wavesurfer = WaveSurfer.create({\n      container: '#wave',\n      pixelRatio: 1,\n      scrollParent: true,\n      normalize: true,\n      minimap: true,\n      backend: 'MediaElement',\n      backgroundColor: '#504D66',\n      waveColor: '#27253c',\n      progressColor: '#F7963D',\n      cursorColor: '#F7963D',\n      plugins: [RegionsPlugin.create(), TimelinePlugin.create({\n        container: '#wave-timeline',\n        primaryColor: '#EDEDEF',\n        secondaryColor: '#DCDBE0',\n        primaryFontColor: '#EDEDEF',\n        secondaryFontColor: '#DCDBE0'\n      })]\n    });\n    this.wavesurfer.load(this.props.audio);\n    this.wavesurfer.on('ready', () => {\n      this.wavesurfer.enableDragSelection({\n        color: hexToRgba(defaultColor, defaultAlpha)\n      });\n      const {\n        mode,\n        unit_id\n      } = this.props;\n      const unitId = unit_id;\n      this.setState({\n        unitId: unitId\n      });\n      const {\n        jobId,\n        taskId\n      } = this.resolveUnitId(unitId);\n      const isCacheValid = this.isCacheValid(mode, jobId, taskId);\n      if (!isCacheValid) {\n        store.clear(toolName);\n      }\n      store.setStorage(toolName, 'baseInfo', {\n        mode,\n        jobId,\n        taskId\n      });\n      const storedRegions = store.getStorage(toolName, unitId);\n      if (storedRegions) {\n        this.loadRegions(storedRegions);\n      } else {\n        const annotation = this.props.review_from;\n        if (annotation && annotation.length > 0) {\n          this.loadRegions(annotation);\n          this.saveRegions();\n        }\n      }\n    });\n\n    // bind actions\n    this.wavesurfer.on('play', () => {\n      this.setState({\n        isPlaying: true\n      });\n    });\n    this.wavesurfer.on('pause', () => {\n      this.setState({\n        isPlaying: false\n      });\n    });\n    this.wavesurfer.on('region-in', this.showSummary);\n    this.wavesurfer.on('region-out', this.hideSummary);\n    this.wavesurfer.on('region-click', this.onRegionClick);\n    this.wavesurfer.on('region-update-end', this.onRegionEdit);\n    this.wavesurfer.on('region-updated', this.onRegionUpdate);\n    document.addEventListener('keydown', e => {\n      const {\n        keyCode\n      } = e;\n      switch (keyCode) {\n        case 32:\n          e.preventDefault();\n          this.wavesurfer.playPause();\n          break;\n        case 37:\n          // left arrow\n          this.skipBackward(e);\n          break;\n        case 39:\n          // right arrow\n          this.skipForward(e);\n          break;\n        default:\n      }\n    });\n  }\n  resolveUnitId(unitId) {\n    const units = unitId.split(\"_\");\n    let jobId, taskId, recordId;\n    if (units && units.length >= 3) {\n      jobId = units[0];\n      taskId = units[1];\n      recordId = units[2];\n    }\n    return {\n      jobId,\n      taskId,\n      recordId\n    };\n  }\n  exportResult() {\n    // return store.getStorage(toolName, 'regions');\n    return Object.keys(this.wavesurfer.regions.list).map(id => {\n      const {\n        start,\n        end,\n        data\n      } = this.wavesurfer.regions.list[id];\n      return {\n        start: this.roundTime(start),\n        end: this.roundTime(end),\n        data\n      };\n    });\n  }\n  isCacheValid(mode, jobId, taskId) {\n    try {\n      const baseInfo = store.getStorage(toolName, 'baseInfo');\n      if (baseInfo && jobId === baseInfo.jobId && taskId === baseInfo.taskId && mode === baseInfo.mode) {\n        return true;\n      }\n    } catch (e) {\n      // failed to parse baseInfo\n    }\n    return false;\n  }\n  loadRegions(regions) {\n    regions.forEach(region => {\n      const regionColor = this.ontologyColors.get(region.data.category) || defaultColor;\n      region.color = hexToRgba(regionColor, defaultAlpha);\n      this.wavesurfer.addRegion(region);\n    });\n  }\n  saveRegions() {\n    const regions = Object.keys(this.wavesurfer.regions.list).map(id => {\n      const {\n        start,\n        end,\n        data\n      } = this.wavesurfer.regions.list[id];\n      return {\n        start: this.roundTime(start),\n        end: this.roundTime(end),\n        data\n      };\n    });\n    store.setStorage(toolName, this.state.unitId, regions);\n  }\n  roundTime(time) {\n    return Math.round(time * 1000) / 1000;\n  }\n  parseValid(valid) {\n    if (valid === '1') return '有效';\n    if (valid === '2') return '无效非人声';\n    if (valid === '3') return '无效人声';\n    return '';\n  }\n  parseGender(gender) {\n    if (gender === 'male') return '男';\n    if (gender === 'female') return '女';\n    return '';\n  }\n  parseBusiness(business) {\n    if (business === '0') return '闲聊';\n    if (business === '1') return '销售场景';\n    return '';\n  }\n  speedFormula(n) {\n    const num = parseInt(n);\n    if (isNaN(num)) return 1.0;\n    let rate = (1 + 0.1 * num).toFixed(1);\n    if (rate > 2) return 2.0;\n    if (rate < 0.1) return 0.1;\n    return rate;\n  }\n  render() {\n    const {\n      isPlaying,\n      isEditing,\n      summary,\n      category,\n      start,\n      end,\n      note,\n      gender,\n      business,\n      valid\n    } = this.state;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: `${toolName}-container`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 321,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      id: \"wave\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 322,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      id: \"wave-timeline\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 323,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: `${toolName}-btn-group`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 325,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      className: `${toolName}-audio-btn`,\n      onClick: this.skipBackward,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 326,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(IoMdRewind, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 327,\n        columnNumber: 13\n      }\n    })), /*#__PURE__*/React.createElement(\"button\", {\n      className: `${toolName}-audio-btn`,\n      onClick: this.playPause,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 329,\n        columnNumber: 11\n      }\n    }, isPlaying ? /*#__PURE__*/React.createElement(IoMdPause, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 330,\n        columnNumber: 26\n      }\n    }) : /*#__PURE__*/React.createElement(IoMdPlay, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 330,\n        columnNumber: 42\n      }\n    })), /*#__PURE__*/React.createElement(\"button\", {\n      className: `${toolName}-audio-btn`,\n      onClick: this.skipForward,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 332,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(IoMdFastforward, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 333,\n        columnNumber: 13\n      }\n    })), /*#__PURE__*/React.createElement(\"span\", {\n      className: `${toolName}-speed-control`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 335,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 336,\n        columnNumber: 13\n      }\n    }, \"\\u64AD\\u653E\\u901F\\u7387: \"), /*#__PURE__*/React.createElement(InputNumber, {\n      id: `${toolName}-speed-btn`,\n      defaultValue: 0,\n      min: -9,\n      max: 10,\n      step: 1,\n      type: \"number\",\n      size: \"small\",\n      formatter: value => this.speedFormula(value),\n      onChange: this.setSpeed,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 337,\n        columnNumber: 13\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: `${toolName}-summary`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 351,\n        columnNumber: 9\n      }\n    }, summary), isEditing && /*#__PURE__*/React.createElement(\"form\", {\n      className: `${toolName}-form`,\n      onSubmit: this.handleRegionSave,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 354,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: `${toolName}-form-group`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 355,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 356,\n        columnNumber: 15\n      }\n    }, \"\\u662F\\u5426\\u6709\\u6548\"), /*#__PURE__*/React.createElement(\"ul\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 357,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"li\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 358,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 359,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"radio\",\n      value: \"1\",\n      checked: valid === \"1\",\n      onChange: e => this.setState({\n        valid: e.target.value,\n        business: '1'\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 360,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 361,\n        columnNumber: 21\n      }\n    }, \"\\u6709\\u6548\")), /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 363,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"radio\",\n      value: \"2\",\n      checked: valid === \"2\",\n      onChange: e => this.setState({\n        valid: e.target.value,\n        note: 'NULL',\n        business: '0'\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 364,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 365,\n        columnNumber: 21\n      }\n    }, \"\\u975E\\u4EBA\\u58F0\\u65E0\\u6548\\u8BED\\u97F3(NULL)\")), /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 367,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"radio\",\n      value: \"3\",\n      checked: valid === \"3\",\n      onChange: e => this.setState({\n        valid: e.target.value,\n        note: 'SPN',\n        business: '0'\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 368,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 369,\n        columnNumber: 21\n      }\n    }, \"\\u4EBA\\u58F0\\u65E0\\u6548\\u8BED\\u8A00(SPN)\"))))), /*#__PURE__*/React.createElement(\"div\", {\n      className: `${toolName}-form-group`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 375,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 376,\n        columnNumber: 15\n      }\n    }, \"\\u5F00\\u59CB\\u65F6\\u95F4\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      value: start,\n      onChange: e => this.setState({\n        start: e.target.value\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 377,\n        columnNumber: 15\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: `${toolName}-form-group`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 380,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 381,\n        columnNumber: 15\n      }\n    }, \"\\u7ED3\\u675F\\u65F6\\u95F4\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      value: end,\n      onChange: e => this.setState({\n        end: e.target.value\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 382,\n        columnNumber: 15\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: `${toolName}-form-group`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 385,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 386,\n        columnNumber: 15\n      }\n    }, \"\\u8F93\\u5165\\u6587\\u672C\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      value: note,\n      onChange: e => this.setState({\n        note: e.target.value\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 387,\n        columnNumber: 15\n      }\n    })), this.props.ontology && this.props.ontology.length > 0 && /*#__PURE__*/React.createElement(\"div\", {\n      className: `${toolName}-form-group`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 393,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 394,\n        columnNumber: 17\n      }\n    }, \"\\u9009\\u62E9\\u89D2\\u8272\"), this.props.ontology.map(i => /*#__PURE__*/React.createElement(\"div\", {\n      key: i.key,\n      className: `${toolName}-ontology-btn ${i.class_name === category ? 'label-selected' : 'label-unselected'}`,\n      style: {\n        background: i.display_color\n      },\n      onClick: e => this.handleCategorySelect(i, e),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 396,\n        columnNumber: 19\n      }\n    }, i.class_name))), /*#__PURE__*/React.createElement(\"div\", {\n      className: `${toolName}-form-group`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 407,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 408,\n        columnNumber: 15\n      }\n    }, \"\\u9009\\u62E9\\u6027\\u522B\"), /*#__PURE__*/React.createElement(\"ul\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 409,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"li\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 410,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 411,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"radio\",\n      value: \"male\",\n      checked: gender === \"male\",\n      onChange: e => this.setState({\n        gender: e.target.value\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 412,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 413,\n        columnNumber: 21\n      }\n    }, \"\\u7537\")), /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 415,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"radio\",\n      value: \"female\",\n      checked: gender === \"female\",\n      onChange: e => this.setState({\n        gender: e.target.value\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 416,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 417,\n        columnNumber: 21\n      }\n    }, \"\\u5973\"))))), /*#__PURE__*/React.createElement(\"div\", {\n      className: `${toolName}-form-group`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 423,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 424,\n        columnNumber: 15\n      }\n    }, \"\\u4E1A\\u52A1\\u76F8\\u5173\"), /*#__PURE__*/React.createElement(\"ul\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 425,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"li\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 426,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 427,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"radio\",\n      value: \"1\",\n      checked: business === \"1\",\n      onChange: e => this.setState({\n        business: e.target.value\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 428,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 429,\n        columnNumber: 21\n      }\n    }, \"\\u9500\\u552E\\u573A\\u666F\")), /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 431,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"radio\",\n      value: \"0\",\n      checked: business === \"0\",\n      onChange: e => this.setState({\n        business: e.target.value\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 432,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 433,\n        columnNumber: 21\n      }\n    }, \"\\u95F2\\u804A\"))))), /*#__PURE__*/React.createElement(\"button\", {\n      className: `${toolName}-action-btn`,\n      type: \"submit\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 440,\n        columnNumber: 13\n      }\n    }, \"\\u4FDD\\u5B58\"), /*#__PURE__*/React.createElement(\"button\", {\n      className: `${toolName}-action-btn danger`,\n      onClick: this.handleRegionDelete,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 443,\n        columnNumber: 13\n      }\n    }, \"\\u5220\\u9664\")));\n  }\n}","map":{"version":3,"names":["React","WaveSurfer","TimelinePlugin","RegionsPlugin","hexToRgba","IoMdPlay","IoMdRewind","IoMdFastforward","IoMdPause","InputNumber","store","toolName","defaultColor","defaultAlpha","AudioAnnotationApp","Component","constructor","args","state","isPlaying","isEditing","summary","category","start","end","note","gender","business","valid","unitId","wavesurfer","workingRegion","ontologyColors","Map","props","ontology","Array","isArray","map","i","class_name","display_color","playPause","e","preventDefault","setState","skipBackward","skipForward","showSummary","region","roundTime","parseValid","data","parseGender","parseBusiness","hideSummary","onRegionClick","stopPropagation","shiftKey","playLoop","play","onRegionEdit","update","saveRegions","onRegionUpdate","handleCategorySelect","color","handleRegionDelete","remove","handleRegionSave","setSpeed","n","rate","speedFormula","setPlaybackRate","componentDidMount","create","container","pixelRatio","scrollParent","normalize","minimap","backend","backgroundColor","waveColor","progressColor","cursorColor","plugins","primaryColor","secondaryColor","primaryFontColor","secondaryFontColor","load","audio","on","enableDragSelection","mode","unit_id","jobId","taskId","resolveUnitId","isCacheValid","clear","setStorage","storedRegions","getStorage","loadRegions","annotation","review_from","length","document","addEventListener","keyCode","units","split","recordId","exportResult","Object","keys","regions","list","id","baseInfo","forEach","regionColor","get","addRegion","time","Math","round","num","parseInt","isNaN","toFixed","render","createElement","className","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","onClick","defaultValue","min","max","step","type","size","formatter","value","onChange","onSubmit","checked","target","key","style","background"],"sources":["/Users/qzheng/Documents/webroot/annotation_tools/src/components/audio-temp/index.js"],"sourcesContent":["import React from 'react';\nimport WaveSurfer from 'wavesurfer.js';\nimport TimelinePlugin from 'wavesurfer.js/dist/plugin/wavesurfer.timeline.min.js';\nimport RegionsPlugin from 'wavesurfer.js/dist/plugin/wavesurfer.regions.min.js';\nimport hexToRgba from 'hex-to-rgba';\nimport { IoMdPlay, IoMdRewind, IoMdFastforward, IoMdPause } from 'react-icons/io';\nimport { InputNumber } from 'antd';\nimport { store } from '../../utils';\nimport './audio.css';\n\nconst toolName = 'audio-temp';\nconst defaultColor = '#5ceee4';\nconst defaultAlpha = 0.45;\n\nexport default class AudioAnnotationApp extends React.Component {\n  state = {\n    isPlaying: false,\n    isEditing: false,\n    summary: '',\n    category: '',\n    start: '',\n    end: '',\n    note: '',\n    gender: 'female',\n    business: '1',\n    valid: '1',\n    unitId: '',\n  };\n\n  wavesurfer = null;\n  workingRegion = null;\n  ontologyColors = new Map([\n    ...this.props.ontology && Array.isArray(this.props.ontology) &&\n    this.props.ontology.map(i => ([i.class_name, i.display_color])),\n  ]);\n\n  componentDidMount() {\n    this.wavesurfer = WaveSurfer.create({\n      container: '#wave',\n      pixelRatio: 1,\n      scrollParent: true,\n      normalize: true,\n      minimap: true,\n      backend: 'MediaElement',\n      backgroundColor: '#504D66',\n      waveColor: '#27253c',\n      progressColor: '#F7963D',\n      cursorColor: '#F7963D',\n      plugins: [\n        RegionsPlugin.create(),\n        TimelinePlugin.create({\n          container: '#wave-timeline',\n          primaryColor: '#EDEDEF',\n          secondaryColor: '#DCDBE0',\n          primaryFontColor: '#EDEDEF',\n          secondaryFontColor: '#DCDBE0',\n        })\n      ]\n    });\n    this.wavesurfer.load(this.props.audio);\n\n    this.wavesurfer.on('ready', () => {\n      this.wavesurfer.enableDragSelection({\n        color: hexToRgba(defaultColor, defaultAlpha)\n      });\n\n      const { mode, unit_id } = this.props;\n      const unitId = unit_id;\n      this.setState({ unitId: unitId });\n      const { jobId, taskId } = this.resolveUnitId(unitId);\n\n      const isCacheValid = this.isCacheValid(mode, jobId, taskId);\n      if (!isCacheValid) {\n        store.clear(toolName);\n      }\n      store.setStorage(toolName, 'baseInfo', { mode, jobId, taskId });\n\n      const storedRegions = store.getStorage(toolName, unitId);\n      if (storedRegions) {\n        this.loadRegions(storedRegions);\n      } else {\n        const annotation = this.props.review_from;\n        if (annotation && annotation.length > 0) {\n          this.loadRegions(annotation);\n          this.saveRegions();\n        }\n      }\n    });\n\n    // bind actions\n    this.wavesurfer.on('play', () => {\n      this.setState({ isPlaying: true });\n    });\n    this.wavesurfer.on('pause', () => {\n      this.setState({ isPlaying: false });\n    });\n    this.wavesurfer.on('region-in', this.showSummary);\n    this.wavesurfer.on('region-out', this.hideSummary);\n    this.wavesurfer.on('region-click', this.onRegionClick);\n    this.wavesurfer.on('region-update-end', this.onRegionEdit);\n    this.wavesurfer.on('region-updated', this.onRegionUpdate);\n\n    document.addEventListener('keydown', (e) => {\n      const { keyCode } = e;\n      switch (keyCode) {\n        case 32:\n          e.preventDefault();\n          this.wavesurfer.playPause();\n          break;\n        case 37: // left arrow\n          this.skipBackward(e);\n          break;\n        case 39: // right arrow\n          this.skipForward(e);\n          break\n        default:\n      }\n    });\n  }\n\n  resolveUnitId(unitId) {\n    const units = unitId.split(\"_\");\n    let jobId, taskId, recordId;\n    if (units && units.length >= 3) {\n      jobId = units[0];\n      taskId = units[1];\n      recordId = units[2];\n    }\n    return {\n      jobId,\n      taskId,\n      recordId,\n    }\n  }\n\n  exportResult() {\n    // return store.getStorage(toolName, 'regions');\n    return Object.keys(this.wavesurfer.regions.list).map((id) => {\n      const { start, end, data } = this.wavesurfer.regions.list[id];\n      return { start: this.roundTime(start), end: this.roundTime(end), data };\n    });\n  }\n\n  isCacheValid(mode, jobId, taskId) {\n    try {\n      const baseInfo = store.getStorage(toolName, 'baseInfo');\n      if (baseInfo && jobId === baseInfo.jobId && taskId === baseInfo.taskId && mode === baseInfo.mode) {\n        return true;\n      }\n    } catch (e) {\n      // failed to parse baseInfo\n    }\n    return false;\n  }\n\n  loadRegions(regions) {\n    regions.forEach((region) => {\n      const regionColor = this.ontologyColors.get(region.data.category) || defaultColor;\n      region.color = hexToRgba(regionColor, defaultAlpha);\n      this.wavesurfer.addRegion(region);\n    });\n  }\n\n  saveRegions() {\n    const regions = Object.keys(this.wavesurfer.regions.list).map((id) => {\n      const { start, end, data } = this.wavesurfer.regions.list[id];\n      return { start: this.roundTime(start), end: this.roundTime(end), data };\n    });\n    store.setStorage(toolName, this.state.unitId, regions);\n  }\n\n  roundTime(time) {\n    return Math.round(time * 1000) / 1000;\n  }\n\n  playPause = (e) => {\n    e.preventDefault();\n    this.setState({ isPlaying: !this.state.isPlaying });\n    this.wavesurfer.playPause();\n  }\n\n  skipBackward = (e) => {\n    e.preventDefault();\n    this.wavesurfer.skipBackward();\n  }\n\n  skipForward = (e) => {\n    e.preventDefault();\n    this.wavesurfer.skipForward();\n  }\n\n  showSummary = (region) => {\n    this.setState({ summary: `[${this.roundTime(region.start)} - ${this.roundTime(region.end)}] [${this.parseValid(region.data.valid)||''}] [${region.data.category||''}] [${this.parseGender(region.data.gender)}] [${this.parseBusiness(region.data.business)}]: ${region.data.note||''}` });\n  }\n\n  parseValid(valid) {\n    if (valid === '1') return '有效';\n    if (valid === '2') return '无效非人声';\n    if (valid === '3') return '无效人声';\n    return '';\n  }\n\n  parseGender(gender) {\n    if (gender === 'male') return '男';\n    if (gender === 'female') return '女';\n    return '';\n  }\n\n  parseBusiness(business) {\n    if (business === '0') return '闲聊';\n    if (business === '1') return '销售场景';\n    return '';\n  }\n\n  hideSummary = () => {\n    this.setState({ summary: '' });\n  }\n\n  onRegionClick = (region, e) => {\n    e.stopPropagation();\n    // Play on click, loop on shift click\n    e.shiftKey ? region.playLoop() : region.play();\n\n    this.onRegionEdit(region);\n  }\n\n  onRegionEdit = (region) => {\n    this.workingRegion = region;\n    this.setState({\n      isEditing: true,\n      category: (region.data || {}).category || '',\n      start: this.roundTime(region.start), //Math.round(region.start * 10) / 10,\n      end: this.roundTime(region.end), // Math.round(region.end * 10) / 10,\n      note: (region.data || {}).note || '',\n      gender: (region.data || {}).gender || 'female',\n      business: (region.data || {}).business || '1',\n      valid: (region.data || {}).valid || '1',\n    });\n\n    // save to region\n    this.workingRegion.update({\n      data: {\n        note: this.state.note,\n        category: this.state.category,\n        gender: this.state.gender,\n        business: this.state.business,\n        valid: this.state.valid,\n      }\n    });\n    this.saveRegions();\n  }\n\n  onRegionUpdate = (region) => {\n    this.saveRegions();\n\n    if (this.workingRegion) {\n      this.setState({\n        start: this.roundTime(region.start), //Math.round(region.start * 10) / 10,\n        end: this.roundTime(region.end), // Math.round(region.end * 10) / 10,\n      });\n    }\n  }\n\n  handleCategorySelect = (category, e) => {\n    e.preventDefault();\n    this.setState({ category: category.class_name });\n\n    // save to region\n    this.workingRegion.update({\n      color: hexToRgba(category.display_color, defaultAlpha),\n      data: {\n        note: this.state.note,\n        category: category.class_name,\n        gender: this.state.gender,\n        business: this.state.business,\n        valid: this.state.valid,\n      }\n    });\n    this.saveRegions();\n  }\n\n  handleRegionDelete = (e) => {\n    e.preventDefault();\n    this.workingRegion.remove();\n    this.workingRegion = null;\n    this.saveRegions();\n    this.setState({ isEditing: false });\n  }\n\n  handleRegionSave = (e) => {\n    e.preventDefault();\n    const { category, start, end, note, gender, business, valid } = this.state;\n    this.workingRegion.update({\n      start,\n      end,\n      data: { category, note, gender, business, valid },\n    });\n    this.workingRegion = null;\n    this.saveRegions();\n    this.setState({ isEditing: false });\n  }\n\n  setSpeed = (n) => {\n    const rate = this.speedFormula(n);\n    this.wavesurfer.setPlaybackRate(rate);\n  }\n\n  speedFormula(n) {\n    const num = parseInt(n);\n    if (isNaN(num)) return 1.0;\n    let rate = (1 + 0.1 * num).toFixed(1);\n    if (rate > 2) return 2.0;\n    if (rate < 0.1) return 0.1;\n    return rate;\n  }\n\n  render() {\n    const { isPlaying, isEditing, summary, category, start, end, note, gender, business, valid } = this.state;\n\n    return (\n      <div className={`${toolName}-container`}>\n        <div id=\"wave\" />\n        <div id=\"wave-timeline\" />\n\n        <div className={`${toolName}-btn-group`}>\n          <button className={`${toolName}-audio-btn`} onClick={this.skipBackward}>\n            <IoMdRewind />\n          </button>\n          <button className={`${toolName}-audio-btn`} onClick={this.playPause}>\n            {isPlaying ? <IoMdPause /> : <IoMdPlay />}\n          </button>\n          <button className={`${toolName}-audio-btn`} onClick={this.skipForward}>\n            <IoMdFastforward />\n          </button>\n          <span className={`${toolName}-speed-control`}>\n            <span>播放速率: </span>\n            <InputNumber\n              id={`${toolName}-speed-btn`}\n              defaultValue={0}\n              min={-9}\n              max={10}\n              step={1}\n              type={\"number\"}\n              size={\"small\"}\n              formatter={value => this.speedFormula(value)}\n              onChange={this.setSpeed}\n            />\n          </span>\n        </div>\n\n        <div className={`${toolName}-summary`}>{summary}</div>\n\n        {isEditing && (\n          <form className={`${toolName}-form`} onSubmit={this.handleRegionSave}>\n            <div className={`${toolName}-form-group`}>\n              <label>是否有效</label>\n              <ul>\n                <li>\n                  <label>\n                    <input type=\"radio\" value=\"1\" checked={valid === \"1\"} onChange={e => this.setState({ valid: e.target.value, business: '1' })}/>\n                    <span>有效</span>\n                  </label>\n                  <label>\n                    <input type=\"radio\" value=\"2\" checked={valid === \"2\"} onChange={e => this.setState({ valid: e.target.value, note: 'NULL', business: '0' })}/>\n                    <span>非人声无效语音(NULL)</span>\n                  </label>\n                  <label>\n                    <input type=\"radio\" value=\"3\" checked={valid === \"3\"} onChange={e => this.setState({ valid: e.target.value, note: 'SPN', business: '0' })}/>\n                    <span>人声无效语言(SPN)</span>\n                  </label>\n                </li>\n              </ul>\n            </div>\n\n            <div className={`${toolName}-form-group`}>\n              <label>开始时间</label>\n              <input type={\"text\"} value={start} onChange={e => this.setState({ start: e.target.value })} />\n            </div>\n\n            <div className={`${toolName}-form-group`}>\n              <label>结束时间</label>\n              <input type={\"text\"} value={end} onChange={e => this.setState({ end: e.target.value })} />\n            </div>\n\n            <div className={`${toolName}-form-group`}>\n              <label>输入文本</label>\n              <input type={\"text\"} value={note} onChange={e => this.setState({ note: e.target.value })} />\n              {/*<textarea rows=\"3\" value={note} onChange={e => this.setState({ note: e.target.value })} />*/}\n            </div>\n\n            {\n              this.props.ontology && this.props.ontology.length > 0 &&\n              <div className={`${toolName}-form-group`}>\n                <label>选择角色</label>\n                {this.props.ontology.map(i => (\n                  <div\n                    key={i.key}\n                    className={`${toolName}-ontology-btn ${i.class_name === category ? 'label-selected' : 'label-unselected'}`}\n                    style={{ background: i.display_color }}\n                    onClick={(e) => this.handleCategorySelect(i, e)}\n                  >\n                    {i.class_name}\n                  </div>\n                ))}\n              </div>\n            }\n            <div className={`${toolName}-form-group`}>\n              <label>选择性别</label>\n              <ul>\n                <li>\n                  <label>\n                    <input type=\"radio\" value=\"male\" checked={gender === \"male\"} onChange={e => this.setState({ gender: e.target.value })}/>\n                    <span>男</span>\n                  </label>\n                  <label>\n                    <input type=\"radio\" value=\"female\" checked={gender === \"female\"} onChange={e => this.setState({ gender: e.target.value })}/>\n                    <span>女</span>\n                  </label>\n                </li>\n              </ul>\n            </div>\n\n            <div className={`${toolName}-form-group`}>\n              <label>业务相关</label>\n              <ul>\n                <li>\n                  <label>\n                    <input type=\"radio\" value=\"1\" checked={business === \"1\"} onChange={e => this.setState({ business: e.target.value })}/>\n                    <span>销售场景</span>\n                  </label>\n                  <label>\n                    <input type=\"radio\" value=\"0\" checked={business === \"0\"} onChange={e => this.setState({ business: e.target.value })}/>\n                    <span>闲聊</span>\n                  </label>\n                </li>\n              </ul>\n            </div>\n\n\n            <button className={`${toolName}-action-btn`} type=\"submit\">\n              保存\n            </button>\n            <button className={`${toolName}-action-btn danger`} onClick={this.handleRegionDelete}>\n              删除\n            </button>\n          </form>\n        )}\n      </div>\n    );\n  }\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}