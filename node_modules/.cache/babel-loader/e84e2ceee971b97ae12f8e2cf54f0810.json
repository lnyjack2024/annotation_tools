{"ast":null,"code":"/*\n * JavaScript Load Image Orientation\n * https://github.com/blueimp/JavaScript-Load-Image\n *\n * Copyright 2013, Sebastian Tschan\n * https://blueimp.net\n *\n * Licensed under the MIT license:\n * https://opensource.org/licenses/MIT\n */\n\n/*\nExif orientation values to correctly display the letter F:\n\n    1             2\n  ██████        ██████\n  ██                ██\n  ████            ████\n  ██                ██\n  ██                ██\n\n    3             4\n      ██        ██\n      ██        ██\n    ████        ████\n      ██        ██\n  ██████        ██████\n\n    5             6\n██████████    ██\n██  ██        ██  ██\n██            ██████████\n\n    7             8\n        ██    ██████████\n    ██  ██        ██  ██\n██████████            ██\n\n*/\n\n/* global define, module, require */\n\n;\n(function (factory) {\n  'use strict';\n\n  if (typeof define === 'function' && define.amd) {\n    // Register as an anonymous AMD module:\n    define(['./load-image', './load-image-scale', './load-image-meta'], factory);\n  } else if (typeof module === 'object' && module.exports) {\n    factory(require('./load-image'), require('./load-image-scale'), require('./load-image-meta'));\n  } else {\n    // Browser globals:\n    factory(window.loadImage);\n  }\n})(function (loadImage) {\n  'use strict';\n\n  var originalTransform = loadImage.transform;\n  var originalRequiresCanvas = loadImage.requiresCanvas;\n  var originalRequiresMetaData = loadImage.requiresMetaData;\n  var originalTransformCoordinates = loadImage.transformCoordinates;\n  var originalGetTransformedOptions = loadImage.getTransformedOptions;\n  (function ($) {\n    // Guard for non-browser environments (e.g. server-side rendering):\n    if (!$.global.document) return;\n    // black+white 3x2 JPEG, with the following meta information set:\n    // - EXIF Orientation: 6 (Rotated 90° CCW)\n    // Image data layout (B=black, F=white):\n    // BFF\n    // BBB\n    var testImageURL = 'data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAA' + 'AAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBA' + 'QEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQE' + 'BAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAIAAwMBEQACEQEDEQH/x' + 'ABRAAEAAAAAAAAAAAAAAAAAAAAKEAEBAQADAQEAAAAAAAAAAAAGBQQDCAkCBwEBAAAAAAA' + 'AAAAAAAAAAAAAABEBAAAAAAAAAAAAAAAAAAAAAP/aAAwDAQACEQMRAD8AG8T9NfSMEVMhQ' + 'voP3fFiRZ+MTHDifa/95OFSZU5OzRzxkyejv8ciEfhSceSXGjS8eSdLnZc2HDm4M3BxcXw' + 'H/9k=';\n    var img = document.createElement('img');\n    img.onload = function () {\n      // Check if the browser supports automatic image orientation:\n      $.orientation = img.width === 2 && img.height === 3;\n      if ($.orientation) {\n        var canvas = $.createCanvas(1, 1, true);\n        var ctx = canvas.getContext('2d');\n        ctx.drawImage(img, 1, 1, 1, 1, 0, 0, 1, 1);\n        // Check if the source image coordinates (sX, sY, sWidth, sHeight) are\n        // correctly applied to the auto-orientated image, which should result\n        // in a white opaque pixel (e.g. in Safari).\n        // Browsers that show a transparent pixel (e.g. Chromium) fail to crop\n        // auto-oriented images correctly and require a workaround, e.g.\n        // drawing the complete source image to an intermediate canvas first.\n        // See https://bugs.chromium.org/p/chromium/issues/detail?id=1074354\n        $.orientationCropBug = ctx.getImageData(0, 0, 1, 1).data.toString() !== '255,255,255,255';\n      }\n    };\n    img.src = testImageURL;\n  })(loadImage);\n\n  /**\n   * Determines if the orientation requires a canvas element.\n   *\n   * @param {object} [options] Options object\n   * @param {boolean} [withMetaData] Is metadata required for orientation\n   * @returns {boolean} Returns true if orientation requires canvas/meta\n   */\n  function requiresCanvasOrientation(options, withMetaData) {\n    var orientation = options && options.orientation;\n    return (\n      // Exif orientation for browsers without automatic image orientation:\n      orientation === true && !loadImage.orientation ||\n      // Orientation reset for browsers with automatic image orientation:\n      orientation === 1 && loadImage.orientation ||\n      // Orientation to defined value, requires meta for orientation reset only:\n      (!withMetaData || loadImage.orientation) && orientation > 1 && orientation < 9\n    );\n  }\n\n  /**\n   * Determines if the image requires an orientation change.\n   *\n   * @param {number} [orientation] Defined orientation value\n   * @param {number} [autoOrientation] Auto-orientation based on Exif data\n   * @returns {boolean} Returns true if an orientation change is required\n   */\n  function requiresOrientationChange(orientation, autoOrientation) {\n    return orientation !== autoOrientation && (orientation === 1 && autoOrientation > 1 && autoOrientation < 9 || orientation > 1 && orientation < 9);\n  }\n\n  /**\n   * Determines orientation combinations that require a rotation by 180°.\n   *\n   * The following is a list of combinations that return true:\n   *\n   * 2 (flip) => 5 (rot90,flip), 7 (rot90,flip), 6 (rot90), 8 (rot90)\n   * 4 (flip) => 5 (rot90,flip), 7 (rot90,flip), 6 (rot90), 8 (rot90)\n   *\n   * 5 (rot90,flip) => 2 (flip), 4 (flip), 6 (rot90), 8 (rot90)\n   * 7 (rot90,flip) => 2 (flip), 4 (flip), 6 (rot90), 8 (rot90)\n   *\n   * 6 (rot90) => 2 (flip), 4 (flip), 5 (rot90,flip), 7 (rot90,flip)\n   * 8 (rot90) => 2 (flip), 4 (flip), 5 (rot90,flip), 7 (rot90,flip)\n   *\n   * @param {number} [orientation] Defined orientation value\n   * @param {number} [autoOrientation] Auto-orientation based on Exif data\n   * @returns {boolean} Returns true if rotation by 180° is required\n   */\n  function requiresRot180(orientation, autoOrientation) {\n    if (autoOrientation > 1 && autoOrientation < 9) {\n      switch (orientation) {\n        case 2:\n        case 4:\n          return autoOrientation > 4;\n        case 5:\n        case 7:\n          return autoOrientation % 2 === 0;\n        case 6:\n        case 8:\n          return autoOrientation === 2 || autoOrientation === 4 || autoOrientation === 5 || autoOrientation === 7;\n      }\n    }\n    return false;\n  }\n\n  // Determines if the target image should be a canvas element:\n  loadImage.requiresCanvas = function (options) {\n    return requiresCanvasOrientation(options) || originalRequiresCanvas.call(loadImage, options);\n  };\n\n  // Determines if metadata should be loaded automatically:\n  loadImage.requiresMetaData = function (options) {\n    return requiresCanvasOrientation(options, true) || originalRequiresMetaData.call(loadImage, options);\n  };\n  loadImage.transform = function (img, options, callback, file, data) {\n    originalTransform.call(loadImage, img, options, function (img, data) {\n      if (data) {\n        var autoOrientation = loadImage.orientation && data.exif && data.exif.get('Orientation');\n        if (autoOrientation > 4 && autoOrientation < 9) {\n          // Automatic image orientation switched image dimensions\n          var originalWidth = data.originalWidth;\n          var originalHeight = data.originalHeight;\n          data.originalWidth = originalHeight;\n          data.originalHeight = originalWidth;\n        }\n      }\n      callback(img, data);\n    }, file, data);\n  };\n\n  // Transforms coordinate and dimension options\n  // based on the given orientation option:\n  loadImage.getTransformedOptions = function (img, opts, data) {\n    var options = originalGetTransformedOptions.call(loadImage, img, opts);\n    var exifOrientation = data.exif && data.exif.get('Orientation');\n    var orientation = options.orientation;\n    var autoOrientation = loadImage.orientation && exifOrientation;\n    if (orientation === true) orientation = exifOrientation;\n    if (!requiresOrientationChange(orientation, autoOrientation)) {\n      return options;\n    }\n    var top = options.top;\n    var right = options.right;\n    var bottom = options.bottom;\n    var left = options.left;\n    var newOptions = {};\n    for (var i in options) {\n      if (Object.prototype.hasOwnProperty.call(options, i)) {\n        newOptions[i] = options[i];\n      }\n    }\n    newOptions.orientation = orientation;\n    if (orientation > 4 && !(autoOrientation > 4) || orientation < 5 && autoOrientation > 4) {\n      // Image dimensions and target dimensions are switched\n      newOptions.maxWidth = options.maxHeight;\n      newOptions.maxHeight = options.maxWidth;\n      newOptions.minWidth = options.minHeight;\n      newOptions.minHeight = options.minWidth;\n      newOptions.sourceWidth = options.sourceHeight;\n      newOptions.sourceHeight = options.sourceWidth;\n    }\n    if (autoOrientation > 1) {\n      // Browsers which correctly apply source image coordinates to\n      // auto-oriented images\n      switch (autoOrientation) {\n        case 2:\n          // Horizontal flip\n          right = options.left;\n          left = options.right;\n          break;\n        case 3:\n          // 180° Rotate CCW\n          top = options.bottom;\n          right = options.left;\n          bottom = options.top;\n          left = options.right;\n          break;\n        case 4:\n          // Vertical flip\n          top = options.bottom;\n          bottom = options.top;\n          break;\n        case 5:\n          // Horizontal flip + 90° Rotate CCW\n          top = options.left;\n          right = options.bottom;\n          bottom = options.right;\n          left = options.top;\n          break;\n        case 6:\n          // 90° Rotate CCW\n          top = options.left;\n          right = options.top;\n          bottom = options.right;\n          left = options.bottom;\n          break;\n        case 7:\n          // Vertical flip + 90° Rotate CCW\n          top = options.right;\n          right = options.top;\n          bottom = options.left;\n          left = options.bottom;\n          break;\n        case 8:\n          // 90° Rotate CW\n          top = options.right;\n          right = options.bottom;\n          bottom = options.left;\n          left = options.top;\n          break;\n      }\n      // Some orientation combinations require additional rotation by 180°:\n      if (requiresRot180(orientation, autoOrientation)) {\n        var tmpTop = top;\n        var tmpRight = right;\n        top = bottom;\n        right = left;\n        bottom = tmpTop;\n        left = tmpRight;\n      }\n    }\n    newOptions.top = top;\n    newOptions.right = right;\n    newOptions.bottom = bottom;\n    newOptions.left = left;\n    // Account for defined browser orientation:\n    switch (orientation) {\n      case 2:\n        // Horizontal flip\n        newOptions.right = left;\n        newOptions.left = right;\n        break;\n      case 3:\n        // 180° Rotate CCW\n        newOptions.top = bottom;\n        newOptions.right = left;\n        newOptions.bottom = top;\n        newOptions.left = right;\n        break;\n      case 4:\n        // Vertical flip\n        newOptions.top = bottom;\n        newOptions.bottom = top;\n        break;\n      case 5:\n        // Vertical flip + 90° Rotate CW\n        newOptions.top = left;\n        newOptions.right = bottom;\n        newOptions.bottom = right;\n        newOptions.left = top;\n        break;\n      case 6:\n        // 90° Rotate CW\n        newOptions.top = right;\n        newOptions.right = bottom;\n        newOptions.bottom = left;\n        newOptions.left = top;\n        break;\n      case 7:\n        // Horizontal flip + 90° Rotate CW\n        newOptions.top = right;\n        newOptions.right = top;\n        newOptions.bottom = left;\n        newOptions.left = bottom;\n        break;\n      case 8:\n        // 90° Rotate CCW\n        newOptions.top = left;\n        newOptions.right = top;\n        newOptions.bottom = right;\n        newOptions.left = bottom;\n        break;\n    }\n    return newOptions;\n  };\n\n  // Transform image orientation based on the given EXIF orientation option:\n  loadImage.transformCoordinates = function (canvas, options, data) {\n    originalTransformCoordinates.call(loadImage, canvas, options, data);\n    var orientation = options.orientation;\n    var autoOrientation = loadImage.orientation && data.exif && data.exif.get('Orientation');\n    if (!requiresOrientationChange(orientation, autoOrientation)) {\n      return;\n    }\n    var ctx = canvas.getContext('2d');\n    var width = canvas.width;\n    var height = canvas.height;\n    var sourceWidth = width;\n    var sourceHeight = height;\n    if (orientation > 4 && !(autoOrientation > 4) || orientation < 5 && autoOrientation > 4) {\n      // Image dimensions and target dimensions are switched\n      canvas.width = height;\n      canvas.height = width;\n    }\n    if (orientation > 4) {\n      // Destination and source dimensions are switched\n      sourceWidth = height;\n      sourceHeight = width;\n    }\n    // Reset automatic browser orientation:\n    switch (autoOrientation) {\n      case 2:\n        // Horizontal flip\n        ctx.translate(sourceWidth, 0);\n        ctx.scale(-1, 1);\n        break;\n      case 3:\n        // 180° Rotate CCW\n        ctx.translate(sourceWidth, sourceHeight);\n        ctx.rotate(Math.PI);\n        break;\n      case 4:\n        // Vertical flip\n        ctx.translate(0, sourceHeight);\n        ctx.scale(1, -1);\n        break;\n      case 5:\n        // Horizontal flip + 90° Rotate CCW\n        ctx.rotate(-0.5 * Math.PI);\n        ctx.scale(-1, 1);\n        break;\n      case 6:\n        // 90° Rotate CCW\n        ctx.rotate(-0.5 * Math.PI);\n        ctx.translate(-sourceWidth, 0);\n        break;\n      case 7:\n        // Vertical flip + 90° Rotate CCW\n        ctx.rotate(-0.5 * Math.PI);\n        ctx.translate(-sourceWidth, sourceHeight);\n        ctx.scale(1, -1);\n        break;\n      case 8:\n        // 90° Rotate CW\n        ctx.rotate(0.5 * Math.PI);\n        ctx.translate(0, -sourceHeight);\n        break;\n    }\n    // Some orientation combinations require additional rotation by 180°:\n    if (requiresRot180(orientation, autoOrientation)) {\n      ctx.translate(sourceWidth, sourceHeight);\n      ctx.rotate(Math.PI);\n    }\n    switch (orientation) {\n      case 2:\n        // Horizontal flip\n        ctx.translate(width, 0);\n        ctx.scale(-1, 1);\n        break;\n      case 3:\n        // 180° Rotate CCW\n        ctx.translate(width, height);\n        ctx.rotate(Math.PI);\n        break;\n      case 4:\n        // Vertical flip\n        ctx.translate(0, height);\n        ctx.scale(1, -1);\n        break;\n      case 5:\n        // Vertical flip + 90° Rotate CW\n        ctx.rotate(0.5 * Math.PI);\n        ctx.scale(1, -1);\n        break;\n      case 6:\n        // 90° Rotate CW\n        ctx.rotate(0.5 * Math.PI);\n        ctx.translate(0, -height);\n        break;\n      case 7:\n        // Horizontal flip + 90° Rotate CW\n        ctx.rotate(0.5 * Math.PI);\n        ctx.translate(width, -height);\n        ctx.scale(-1, 1);\n        break;\n      case 8:\n        // 90° Rotate CCW\n        ctx.rotate(-0.5 * Math.PI);\n        ctx.translate(-width, 0);\n        break;\n    }\n  };\n});","map":{"version":3,"names":["factory","define","amd","module","exports","require","window","loadImage","originalTransform","transform","originalRequiresCanvas","requiresCanvas","originalRequiresMetaData","requiresMetaData","originalTransformCoordinates","transformCoordinates","originalGetTransformedOptions","getTransformedOptions","$","global","document","testImageURL","img","createElement","onload","orientation","width","height","canvas","createCanvas","ctx","getContext","drawImage","orientationCropBug","getImageData","data","toString","src","requiresCanvasOrientation","options","withMetaData","requiresOrientationChange","autoOrientation","requiresRot180","call","callback","file","exif","get","originalWidth","originalHeight","opts","exifOrientation","top","right","bottom","left","newOptions","i","Object","prototype","hasOwnProperty","maxWidth","maxHeight","minWidth","minHeight","sourceWidth","sourceHeight","tmpTop","tmpRight","translate","scale","rotate","Math","PI"],"sources":["/Users/qzheng/Documents/webroot/annotation_tools/node_modules/blueimp-load-image/js/load-image-orientation.js"],"sourcesContent":["/*\n * JavaScript Load Image Orientation\n * https://github.com/blueimp/JavaScript-Load-Image\n *\n * Copyright 2013, Sebastian Tschan\n * https://blueimp.net\n *\n * Licensed under the MIT license:\n * https://opensource.org/licenses/MIT\n */\n\n/*\nExif orientation values to correctly display the letter F:\n\n    1             2\n  ██████        ██████\n  ██                ██\n  ████            ████\n  ██                ██\n  ██                ██\n\n    3             4\n      ██        ██\n      ██        ██\n    ████        ████\n      ██        ██\n  ██████        ██████\n\n    5             6\n██████████    ██\n██  ██        ██  ██\n██            ██████████\n\n    7             8\n        ██    ██████████\n    ██  ██        ██  ██\n██████████            ██\n\n*/\n\n/* global define, module, require */\n\n;(function (factory) {\n  'use strict'\n  if (typeof define === 'function' && define.amd) {\n    // Register as an anonymous AMD module:\n    define(['./load-image', './load-image-scale', './load-image-meta'], factory)\n  } else if (typeof module === 'object' && module.exports) {\n    factory(\n      require('./load-image'),\n      require('./load-image-scale'),\n      require('./load-image-meta')\n    )\n  } else {\n    // Browser globals:\n    factory(window.loadImage)\n  }\n})(function (loadImage) {\n  'use strict'\n\n  var originalTransform = loadImage.transform\n  var originalRequiresCanvas = loadImage.requiresCanvas\n  var originalRequiresMetaData = loadImage.requiresMetaData\n  var originalTransformCoordinates = loadImage.transformCoordinates\n  var originalGetTransformedOptions = loadImage.getTransformedOptions\n\n  ;(function ($) {\n    // Guard for non-browser environments (e.g. server-side rendering):\n    if (!$.global.document) return\n    // black+white 3x2 JPEG, with the following meta information set:\n    // - EXIF Orientation: 6 (Rotated 90° CCW)\n    // Image data layout (B=black, F=white):\n    // BFF\n    // BBB\n    var testImageURL =\n      'data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAA' +\n      'AAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBA' +\n      'QEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQE' +\n      'BAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAIAAwMBEQACEQEDEQH/x' +\n      'ABRAAEAAAAAAAAAAAAAAAAAAAAKEAEBAQADAQEAAAAAAAAAAAAGBQQDCAkCBwEBAAAAAAA' +\n      'AAAAAAAAAAAAAABEBAAAAAAAAAAAAAAAAAAAAAP/aAAwDAQACEQMRAD8AG8T9NfSMEVMhQ' +\n      'voP3fFiRZ+MTHDifa/95OFSZU5OzRzxkyejv8ciEfhSceSXGjS8eSdLnZc2HDm4M3BxcXw' +\n      'H/9k='\n    var img = document.createElement('img')\n    img.onload = function () {\n      // Check if the browser supports automatic image orientation:\n      $.orientation = img.width === 2 && img.height === 3\n      if ($.orientation) {\n        var canvas = $.createCanvas(1, 1, true)\n        var ctx = canvas.getContext('2d')\n        ctx.drawImage(img, 1, 1, 1, 1, 0, 0, 1, 1)\n        // Check if the source image coordinates (sX, sY, sWidth, sHeight) are\n        // correctly applied to the auto-orientated image, which should result\n        // in a white opaque pixel (e.g. in Safari).\n        // Browsers that show a transparent pixel (e.g. Chromium) fail to crop\n        // auto-oriented images correctly and require a workaround, e.g.\n        // drawing the complete source image to an intermediate canvas first.\n        // See https://bugs.chromium.org/p/chromium/issues/detail?id=1074354\n        $.orientationCropBug =\n          ctx.getImageData(0, 0, 1, 1).data.toString() !== '255,255,255,255'\n      }\n    }\n    img.src = testImageURL\n  })(loadImage)\n\n  /**\n   * Determines if the orientation requires a canvas element.\n   *\n   * @param {object} [options] Options object\n   * @param {boolean} [withMetaData] Is metadata required for orientation\n   * @returns {boolean} Returns true if orientation requires canvas/meta\n   */\n  function requiresCanvasOrientation(options, withMetaData) {\n    var orientation = options && options.orientation\n    return (\n      // Exif orientation for browsers without automatic image orientation:\n      (orientation === true && !loadImage.orientation) ||\n      // Orientation reset for browsers with automatic image orientation:\n      (orientation === 1 && loadImage.orientation) ||\n      // Orientation to defined value, requires meta for orientation reset only:\n      ((!withMetaData || loadImage.orientation) &&\n        orientation > 1 &&\n        orientation < 9)\n    )\n  }\n\n  /**\n   * Determines if the image requires an orientation change.\n   *\n   * @param {number} [orientation] Defined orientation value\n   * @param {number} [autoOrientation] Auto-orientation based on Exif data\n   * @returns {boolean} Returns true if an orientation change is required\n   */\n  function requiresOrientationChange(orientation, autoOrientation) {\n    return (\n      orientation !== autoOrientation &&\n      ((orientation === 1 && autoOrientation > 1 && autoOrientation < 9) ||\n        (orientation > 1 && orientation < 9))\n    )\n  }\n\n  /**\n   * Determines orientation combinations that require a rotation by 180°.\n   *\n   * The following is a list of combinations that return true:\n   *\n   * 2 (flip) => 5 (rot90,flip), 7 (rot90,flip), 6 (rot90), 8 (rot90)\n   * 4 (flip) => 5 (rot90,flip), 7 (rot90,flip), 6 (rot90), 8 (rot90)\n   *\n   * 5 (rot90,flip) => 2 (flip), 4 (flip), 6 (rot90), 8 (rot90)\n   * 7 (rot90,flip) => 2 (flip), 4 (flip), 6 (rot90), 8 (rot90)\n   *\n   * 6 (rot90) => 2 (flip), 4 (flip), 5 (rot90,flip), 7 (rot90,flip)\n   * 8 (rot90) => 2 (flip), 4 (flip), 5 (rot90,flip), 7 (rot90,flip)\n   *\n   * @param {number} [orientation] Defined orientation value\n   * @param {number} [autoOrientation] Auto-orientation based on Exif data\n   * @returns {boolean} Returns true if rotation by 180° is required\n   */\n  function requiresRot180(orientation, autoOrientation) {\n    if (autoOrientation > 1 && autoOrientation < 9) {\n      switch (orientation) {\n        case 2:\n        case 4:\n          return autoOrientation > 4\n        case 5:\n        case 7:\n          return autoOrientation % 2 === 0\n        case 6:\n        case 8:\n          return (\n            autoOrientation === 2 ||\n            autoOrientation === 4 ||\n            autoOrientation === 5 ||\n            autoOrientation === 7\n          )\n      }\n    }\n    return false\n  }\n\n  // Determines if the target image should be a canvas element:\n  loadImage.requiresCanvas = function (options) {\n    return (\n      requiresCanvasOrientation(options) ||\n      originalRequiresCanvas.call(loadImage, options)\n    )\n  }\n\n  // Determines if metadata should be loaded automatically:\n  loadImage.requiresMetaData = function (options) {\n    return (\n      requiresCanvasOrientation(options, true) ||\n      originalRequiresMetaData.call(loadImage, options)\n    )\n  }\n\n  loadImage.transform = function (img, options, callback, file, data) {\n    originalTransform.call(\n      loadImage,\n      img,\n      options,\n      function (img, data) {\n        if (data) {\n          var autoOrientation =\n            loadImage.orientation && data.exif && data.exif.get('Orientation')\n          if (autoOrientation > 4 && autoOrientation < 9) {\n            // Automatic image orientation switched image dimensions\n            var originalWidth = data.originalWidth\n            var originalHeight = data.originalHeight\n            data.originalWidth = originalHeight\n            data.originalHeight = originalWidth\n          }\n        }\n        callback(img, data)\n      },\n      file,\n      data\n    )\n  }\n\n  // Transforms coordinate and dimension options\n  // based on the given orientation option:\n  loadImage.getTransformedOptions = function (img, opts, data) {\n    var options = originalGetTransformedOptions.call(loadImage, img, opts)\n    var exifOrientation = data.exif && data.exif.get('Orientation')\n    var orientation = options.orientation\n    var autoOrientation = loadImage.orientation && exifOrientation\n    if (orientation === true) orientation = exifOrientation\n    if (!requiresOrientationChange(orientation, autoOrientation)) {\n      return options\n    }\n    var top = options.top\n    var right = options.right\n    var bottom = options.bottom\n    var left = options.left\n    var newOptions = {}\n    for (var i in options) {\n      if (Object.prototype.hasOwnProperty.call(options, i)) {\n        newOptions[i] = options[i]\n      }\n    }\n    newOptions.orientation = orientation\n    if (\n      (orientation > 4 && !(autoOrientation > 4)) ||\n      (orientation < 5 && autoOrientation > 4)\n    ) {\n      // Image dimensions and target dimensions are switched\n      newOptions.maxWidth = options.maxHeight\n      newOptions.maxHeight = options.maxWidth\n      newOptions.minWidth = options.minHeight\n      newOptions.minHeight = options.minWidth\n      newOptions.sourceWidth = options.sourceHeight\n      newOptions.sourceHeight = options.sourceWidth\n    }\n    if (autoOrientation > 1) {\n      // Browsers which correctly apply source image coordinates to\n      // auto-oriented images\n      switch (autoOrientation) {\n        case 2:\n          // Horizontal flip\n          right = options.left\n          left = options.right\n          break\n        case 3:\n          // 180° Rotate CCW\n          top = options.bottom\n          right = options.left\n          bottom = options.top\n          left = options.right\n          break\n        case 4:\n          // Vertical flip\n          top = options.bottom\n          bottom = options.top\n          break\n        case 5:\n          // Horizontal flip + 90° Rotate CCW\n          top = options.left\n          right = options.bottom\n          bottom = options.right\n          left = options.top\n          break\n        case 6:\n          // 90° Rotate CCW\n          top = options.left\n          right = options.top\n          bottom = options.right\n          left = options.bottom\n          break\n        case 7:\n          // Vertical flip + 90° Rotate CCW\n          top = options.right\n          right = options.top\n          bottom = options.left\n          left = options.bottom\n          break\n        case 8:\n          // 90° Rotate CW\n          top = options.right\n          right = options.bottom\n          bottom = options.left\n          left = options.top\n          break\n      }\n      // Some orientation combinations require additional rotation by 180°:\n      if (requiresRot180(orientation, autoOrientation)) {\n        var tmpTop = top\n        var tmpRight = right\n        top = bottom\n        right = left\n        bottom = tmpTop\n        left = tmpRight\n      }\n    }\n    newOptions.top = top\n    newOptions.right = right\n    newOptions.bottom = bottom\n    newOptions.left = left\n    // Account for defined browser orientation:\n    switch (orientation) {\n      case 2:\n        // Horizontal flip\n        newOptions.right = left\n        newOptions.left = right\n        break\n      case 3:\n        // 180° Rotate CCW\n        newOptions.top = bottom\n        newOptions.right = left\n        newOptions.bottom = top\n        newOptions.left = right\n        break\n      case 4:\n        // Vertical flip\n        newOptions.top = bottom\n        newOptions.bottom = top\n        break\n      case 5:\n        // Vertical flip + 90° Rotate CW\n        newOptions.top = left\n        newOptions.right = bottom\n        newOptions.bottom = right\n        newOptions.left = top\n        break\n      case 6:\n        // 90° Rotate CW\n        newOptions.top = right\n        newOptions.right = bottom\n        newOptions.bottom = left\n        newOptions.left = top\n        break\n      case 7:\n        // Horizontal flip + 90° Rotate CW\n        newOptions.top = right\n        newOptions.right = top\n        newOptions.bottom = left\n        newOptions.left = bottom\n        break\n      case 8:\n        // 90° Rotate CCW\n        newOptions.top = left\n        newOptions.right = top\n        newOptions.bottom = right\n        newOptions.left = bottom\n        break\n    }\n    return newOptions\n  }\n\n  // Transform image orientation based on the given EXIF orientation option:\n  loadImage.transformCoordinates = function (canvas, options, data) {\n    originalTransformCoordinates.call(loadImage, canvas, options, data)\n    var orientation = options.orientation\n    var autoOrientation =\n      loadImage.orientation && data.exif && data.exif.get('Orientation')\n    if (!requiresOrientationChange(orientation, autoOrientation)) {\n      return\n    }\n    var ctx = canvas.getContext('2d')\n    var width = canvas.width\n    var height = canvas.height\n    var sourceWidth = width\n    var sourceHeight = height\n    if (\n      (orientation > 4 && !(autoOrientation > 4)) ||\n      (orientation < 5 && autoOrientation > 4)\n    ) {\n      // Image dimensions and target dimensions are switched\n      canvas.width = height\n      canvas.height = width\n    }\n    if (orientation > 4) {\n      // Destination and source dimensions are switched\n      sourceWidth = height\n      sourceHeight = width\n    }\n    // Reset automatic browser orientation:\n    switch (autoOrientation) {\n      case 2:\n        // Horizontal flip\n        ctx.translate(sourceWidth, 0)\n        ctx.scale(-1, 1)\n        break\n      case 3:\n        // 180° Rotate CCW\n        ctx.translate(sourceWidth, sourceHeight)\n        ctx.rotate(Math.PI)\n        break\n      case 4:\n        // Vertical flip\n        ctx.translate(0, sourceHeight)\n        ctx.scale(1, -1)\n        break\n      case 5:\n        // Horizontal flip + 90° Rotate CCW\n        ctx.rotate(-0.5 * Math.PI)\n        ctx.scale(-1, 1)\n        break\n      case 6:\n        // 90° Rotate CCW\n        ctx.rotate(-0.5 * Math.PI)\n        ctx.translate(-sourceWidth, 0)\n        break\n      case 7:\n        // Vertical flip + 90° Rotate CCW\n        ctx.rotate(-0.5 * Math.PI)\n        ctx.translate(-sourceWidth, sourceHeight)\n        ctx.scale(1, -1)\n        break\n      case 8:\n        // 90° Rotate CW\n        ctx.rotate(0.5 * Math.PI)\n        ctx.translate(0, -sourceHeight)\n        break\n    }\n    // Some orientation combinations require additional rotation by 180°:\n    if (requiresRot180(orientation, autoOrientation)) {\n      ctx.translate(sourceWidth, sourceHeight)\n      ctx.rotate(Math.PI)\n    }\n    switch (orientation) {\n      case 2:\n        // Horizontal flip\n        ctx.translate(width, 0)\n        ctx.scale(-1, 1)\n        break\n      case 3:\n        // 180° Rotate CCW\n        ctx.translate(width, height)\n        ctx.rotate(Math.PI)\n        break\n      case 4:\n        // Vertical flip\n        ctx.translate(0, height)\n        ctx.scale(1, -1)\n        break\n      case 5:\n        // Vertical flip + 90° Rotate CW\n        ctx.rotate(0.5 * Math.PI)\n        ctx.scale(1, -1)\n        break\n      case 6:\n        // 90° Rotate CW\n        ctx.rotate(0.5 * Math.PI)\n        ctx.translate(0, -height)\n        break\n      case 7:\n        // Horizontal flip + 90° Rotate CW\n        ctx.rotate(0.5 * Math.PI)\n        ctx.translate(width, -height)\n        ctx.scale(-1, 1)\n        break\n      case 8:\n        // 90° Rotate CCW\n        ctx.rotate(-0.5 * Math.PI)\n        ctx.translate(-width, 0)\n        break\n    }\n  }\n})\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script"}