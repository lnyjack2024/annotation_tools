/*!
 * @pixi/canvas-sprite-tiling - v6.2.2
 * Compiled Wed, 26 Jan 2022 16:23:27 UTC
 *
 * @pixi/canvas-sprite-tiling is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */
"use strict";var spriteTiling=require("@pixi/sprite-tiling"),canvasRenderer=require("@pixi/canvas-renderer"),utils=require("@pixi/utils"),math=require("@pixi/math"),worldMatrix=new math.Matrix,patternMatrix=new math.Matrix,patternRect=[new math.Point,new math.Point,new math.Point,new math.Point];spriteTiling.TilingSprite.prototype._renderCanvas=function(t){var e=this._texture;if(e.baseTexture.valid){var a=t.context,r=this.worldTransform,i=e.baseTexture,n=i.getDrawableSource(),s=i.resolution;if(this._textureID!==this._texture._updateID||this._cachedTint!==this.tint){this._textureID=this._texture._updateID;var h=new utils.CanvasRenderTarget(e._frame.width,e._frame.height,s);16777215!==this.tint?(this._tintedCanvas=canvasRenderer.canvasUtils.getTintedCanvas(this,this.tint),h.context.drawImage(this._tintedCanvas,0,0)):h.context.drawImage(n,-e._frame.x*s,-e._frame.y*s),this._cachedTint=this.tint,this._canvasPattern=h.context.createPattern(h.canvas,"repeat")}a.globalAlpha=this.worldAlpha,t.setBlendMode(this.blendMode),this.tileTransform.updateLocalTransform();var o=this.tileTransform.localTransform,c=this._width,l=this._height;worldMatrix.identity(),patternMatrix.copyFrom(o),this.uvRespectAnchor||patternMatrix.translate(-this.anchor.x*c,-this.anchor.y*l),patternMatrix.scale(this.tileScale.x/s,this.tileScale.y/s),worldMatrix.prepend(patternMatrix),worldMatrix.prepend(r),t.setContextTransform(worldMatrix),a.fillStyle=this._canvasPattern;var p=this.anchor.x*-c,x=this.anchor.y*-l;patternRect[0].set(p,x),patternRect[1].set(p+c,x),patternRect[2].set(p+c,x+l),patternRect[3].set(p,x+l);for(var d=0;d<4;d++)patternMatrix.applyInverse(patternRect[d],patternRect[d]);a.beginPath(),a.moveTo(patternRect[0].x,patternRect[0].y);for(d=1;d<4;d++)a.lineTo(patternRect[d].x,patternRect[d].y);a.closePath(),a.fill()}};
//# sourceMappingURL=canvas-sprite-tiling.min.js.map
