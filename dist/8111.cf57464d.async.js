"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[8111],{17756:function(We,q,e){var k=e(90228),_=e.n(k),ee=e(87999),r=e.n(ee),K=e(48305),T=e.n(K),g=e(75271),a=e(79312),B=e(50728),D=e(42400),s=e(66063),ae=e(66830),F=e(27253),A=e(85193),l=e(70576),M=e(79266),me=e(37704),x=e(93396),L=e(81399),u=e(52676),v=1e4,m=function(t){var H=t.visible,J=t.couldStop,oe=J===void 0?!1:J,de=t.hasFlowData,Z=de===void 0?!0:de,$=t.downloadLinkKey,xe=$===void 0?"partialReportLink":$,U=t.onGetReportStatus,ce=t.onGenerateReport,G=t.onCancelGenerateReport,we=t.onClose,Re=(0,l.useIntl)(),ue=Re.formatMessage,Y=(0,g.useState)(null),Oe=T()(Y,2),ze=Oe[0],be=Oe[1],$e=(0,g.useState)(null),Fe=T()($e,2),nt=Fe[0],Te=Fe[1],ge=(0,g.useState)(null),ve=T()(ge,2),He=ve[0],Se=ve[1],Be=(0,g.useState)(!1),Ye=T()(Be,2),Ne=Ye[0],n=Ye[1],y=(0,g.useState)(!1),V=T()(y,2),W=V[0],je=V[1],Ze=(0,g.useState)(!1),Qe=T()(Ze,2),te=Qe[0],Ce=Qe[1],Pe=function(){var Xe=r()(_()().mark(function ke(){var Ge;return _()().wrap(function(re){for(;;)switch(re.prev=re.next){case 0:return re.prev=0,re.next=3,U();case 3:if(Ge=re.sent,Ge){re.next=6;break}return re.abrupt("return");case 6:be(Ge.data),Te(Ge.data.status),Ge.data.status===M.nd.PROCESSING||Ge.data.status===M.nd.POST_SCRIPT_READY?Se(v):(Ge.data.status===M.nd.FAILURE&&D.ZP.error(ue({id:"job.partial-report.error"})),Se(null)),re.next=14;break;case 11:re.prev=11,re.t0=re.catch(0),D.ZP.error((0,L.R$)(re.t0));case 14:case"end":return re.stop()}},ke,null,[[0,11]])}));return function(){return Xe.apply(this,arguments)}}(),ut=function(){var Xe=r()(_()().mark(function ke(Ge){return _()().wrap(function(re){for(;;)switch(re.prev=re.next){case 0:return Ge.preventDefault(),je(!0),re.prev=2,re.next=5,ce(Ne);case 5:Te(M.nd.PROCESSING),Se(v),re.next=12;break;case 9:re.prev=9,re.t0=re.catch(2),D.ZP.error((0,L.R$)(re.t0));case 12:return re.prev=12,je(!1),re.finish(12);case 15:case"end":return re.stop()}},ke,null,[[2,9,12,15]])}));return function(Ge){return Xe.apply(this,arguments)}}(),ht=function(){var Xe=r()(_()().mark(function ke(){return _()().wrap(function(Le){for(;;)switch(Le.prev=Le.next){case 0:return je(!0),Le.prev=1,Le.next=4,G(Ne);case 4:be(null),Te(null),Se(null),Le.next=12;break;case 9:Le.prev=9,Le.t0=Le.catch(1),D.ZP.error((0,L.R$)(Le.t0));case 12:return Le.prev=12,je(!1),Le.finish(12);case 15:case"end":return Le.stop()}},ke,null,[[1,9,12,15]])}));return function(){return Xe.apply(this,arguments)}}();(0,g.useEffect)(function(){H&&(Ce(!0),Pe().finally(function(){return Ce(!1)}))},[H]),(0,x.Z)(function(){Pe()},He);var ft=function(ke){ke.preventDefault(),(0,L.Sv)({url:ze[xe]})},vt=function(){switch(nt){case M.nd.FAILURE:return(0,u.jsxs)("div",{style:{textAlign:"center"},children:[(0,u.jsx)("p",{style:{color:"#3e5270"},children:ue({id:"report.download.failure"})}),(0,u.jsx)(s.ZP,{danger:!0,onClick:ut,loading:W,children:ue({id:"report.generate.retry"})})]});case M.nd.SUCCESS:return(0,u.jsxs)("div",{style:{textAlign:"center"},children:[(0,u.jsx)("p",{style:{color:"#3e5270"},children:ue({id:"report.download.success"})}),(0,u.jsx)(s.ZP,{danger:!0,style:{marginRight:12},onClick:ut,loading:W,children:ue({id:"report.generate.retry"})}),(0,u.jsx)(s.ZP,{type:"primary",onClick:ft,children:ue({id:"report.generate.download"})})]});case M.nd.PROCESSING:case M.nd.POST_SCRIPT_READY:return(0,u.jsxs)("div",{style:{textAlign:"center"},children:[(0,u.jsxs)("p",{style:{color:"#3e5270"},children:[ue({id:"report.generate.tip"}),(0,u.jsx)(a.Z,{style:{marginLeft:8}})]}),oe&&(0,u.jsx)(s.ZP,{danger:!0,onClick:ht,loading:W,children:ue({id:"report.generate.stop"})})]});default:return(0,u.jsx)(s.ZP,{type:"primary",onClick:ut,loading:W,children:ue({id:"common.download.generate"})})}};return(0,u.jsx)(me.Z,{title:ue({id:"job.partial-report.title"}),width:580,visible:H,onClose:function(){we(),Se(null)},showFooter:!1,children:(0,u.jsxs)(ae.Z,{spinning:te,children:[Z&&(0,u.jsxs)("div",{className:"margin-bottom-4",children:[(0,u.jsx)(F.Z,{onChange:function(ke){return n(ke.target.checked)},checked:Ne}),(0,u.jsxs)("span",{className:"margin-left-1",children:[ue({id:"job-detail.report.with-flow"}),(0,u.jsx)(A.Z,{content:ue({id:"job-detail.report.with-flow.tip"}),children:(0,u.jsx)(B.Z,{className:"margin-left-1 color-warning-color"})})]})]}),(0,u.jsx)("div",{style:{height:"142px",margin:"0 auto",background:"#f6f7f9",display:"flex",justifyContent:"space-around",alignItems:"center"},children:(0,u.jsx)(vt,{})})]})})};q.Z=m},65167:function(We,q,e){e.d(q,{Z:function(){return L}});var k=e(82092),_=e.n(k),ee=e(26068),r=e.n(ee),K=e(48305),T=e.n(K),g=e(75271),a=e(45269),B=e(96394),D=e(90966),s=e(3973),ae=e(34749),F=e(61234),A=e(21103),l=e(66063),M=e(70576),me=e(18023),x=e(52676);function L(u){var v=(0,M.useIntl)(),m=v.formatMessage,p=u||{},t=p.formLayout,H=t===void 0?"inline":t,J=p.formItems,oe=J===void 0?[]:J,de=p.formStyle,Z=de===void 0?{marginBottom:15}:de,$=p.formItemStyle,xe=$===void 0?{}:$,U=p.buttonStyle,ce=U===void 0?{}:U,G=p.children,we=p.extraItems,Re=p.initialValue,ue=Re===void 0?{}:Re,Y=p.value,Oe=p.onFilterValueChange,ze=p.onReset,be=p.searchMode,$e=be===void 0?"change":be,Fe=p.isReset,nt=Fe===void 0?!0:Fe,Te=(0,g.useState)(ue),ge=T()(Te,2),ve=ge[0],He=ge[1],Se=(0,me.Z)(Oe,1e3),Be=function(y,V){var W=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;He(r()(r()({},ve),{},_()({},y.key,V))),$e==="change"&&(W?Se(r()(r()({},ve),{},_()({},y.key,V))):Oe(r()(r()({},ve),{},_()({},y.key,V)))),y.onChange&&y.onChange(V)},Ye=function(){Oe(ve)},Ne=function(){He({}),Oe({}),ze&&ze()};return(0,g.useEffect)(function(){Y&&He(Y)},[Y]),(0,x.jsxs)(B.Z,{layout:H,style:Z,children:[we,oe.map(function(n){return(0,x.jsx)(B.Z.Item,{colon:!!(n!=null&&n.label),label:(0,x.jsx)("span",{style:{color:"#42526e"},children:n==null?void 0:n.label}),style:r()({marginBottom:16},xe),children:function(){switch(n.type){case a.aH.Text:return(0,x.jsx)(D.Z,{allowClear:n.allowClear||!1,disabled:n.disabled||!1,value:ve[n.key],onChange:function(V){return Be(n,V.target.value,!0)},placeholder:n.placeholder||m({id:"common.input.placeholder"}),style:n.style||{width:220}});case a.aH.Single:return(0,x.jsx)(s.Z,{allowClear:n.allowClear||!1,disabled:n.disabled||!1,value:ve[n.key],showSearch:"showSearch"in n?n.showSearch:!0,optionFilterProp:"children",filterOption:function(V,W){return W.props.children.toLowerCase().indexOf(V.toLowerCase())>=0},onChange:function(V){return Be(n,V)},style:n.style||{width:220},placeholder:n.placeholder||m({id:"common.select.placeholder"}),children:n.options.map(function(y){return(0,x.jsx)(s.Z.Option,{value:n.optionValueKey?y[n.optionValueKey]:y,children:n.optionLabelKey?y[n.optionLabelKey]:n.optionLabel(y)},n.optionValueKey?y[n.optionValueKey]:y)})});case a.aH.Multiple:return(0,x.jsx)(s.Z,{allowClear:n.allowClear||!1,disabled:n.disabled||!1,mode:"multiple",showArrow:!0,value:ve[n.key]||[],maxTagCount:n.maxTagCount||100,showSearch:"showSearch"in n?n.showSearch:!0,optionFilterProp:n.optionFilterProp||"children",filterOption:"optionFilterProp"in n||function(y,V){return V.props.children.toLowerCase().indexOf(y.toLowerCase())>=0},onChange:function(V){return Be(n,V,!0)},style:n.style||{width:220},placeholder:n.placeholder||m({id:"common.select.placeholder"}),children:n.options.map(function(y){return(0,x.jsx)(s.Z.Option,{value:n.optionValueKey?y[n.optionValueKey]:y,label:n.optionLabelKey?y[n.optionLabelKey]:y,children:n.optionLabel?n.optionLabel(y):y[n.optionLabelKey]},n.optionValueKey?y[n.optionValueKey]:y)})});case a.aH.Cascader:return(0,x.jsx)(ae.Z,{options:n.options,value:ve[n.key]||[],fieldNames:n.fieldNames,style:n.style||{width:240},changeOnSelect:!0,showSearch:n.showSearch,onChange:function(V){return Be(n,V,!0)}});case a.aH.CascaderMultiple:return(0,x.jsx)(ae.Z,{options:n.options,value:ve[n.key]||[],fieldNames:n.fieldNames,style:n.style||{width:240},changeOnSelect:!0,multiple:!0,maxTagCount:2,placeholder:m({id:"common.select.placeholder"}),showSearch:n.showSearch,onChange:function(V){return Be(n,V,!0)}});case a.aH.Radio:return(0,x.jsx)(F.ZP.Group,{value:ve[n.key],style:n.style,onChange:function(V){Be(n,V.target.value,!0)},children:n.options.map(function(y){return(0,x.jsx)(F.ZP,{value:n.optionValueKey?y[n.optionValueKey]:y,children:n.optionLabelKey?y[n.optionLabelKey]:n.optionLabel(y)},n.optionValueKey?y[n.optionValueKey]:y)})});case a.aH.DateRanger:return(0,x.jsx)(A.Z.RangePicker,{style:n.style||{width:240},allowClear:n.allowClear,value:ve[n.key],onChange:function(V){return Be(n,V,!0)},disabledDate:n.disabledDate});default:return null}}()},n.key||JSON.stringify(n))}),$e==="click"&&(0,x.jsxs)("div",{style:ce,children:[(0,x.jsx)(l.ZP,{type:"primary",className:"btn-width",style:{margin:"0 16px 0 0"},onClick:Ye,children:m({id:"common.search"})}),nt&&(0,x.jsx)(l.ZP,{className:"btn-width",onClick:Ne,children:m({id:"common.reset"})})]}),G]})}},37704:function(We,q,e){e.d(q,{Z:function(){return F}});var k=e(26068),_=e.n(k),ee=e(67825),r=e.n(ee),K=e(15409),T=e(32109),g=e(66063),a=e(70576),B={title:"title___HzaYw",close:"close___VzstS",buttons:"buttons___tNcsM"},D=e(52676),s=["width","visible","title","children","showFooter","onSave","onClose","saveLoading","disabled","isCancelBtnShow"];function ae(A){var l=A.width,M=l===void 0?500:l,me=A.visible,x=A.title,L=A.children,u=A.showFooter,v=u===void 0?!0:u,m=A.onSave,p=A.onClose,t=A.saveLoading,H=t===void 0?!1:t,J=A.disabled,oe=J===void 0?!1:J,de=A.isCancelBtnShow,Z=de===void 0?!0:de,$=r()(A,s),xe=(0,a.useIntl)(),U=xe.formatMessage;return(0,D.jsxs)(T.Z,_()(_()({width:M,visible:me,closable:!1,destroyOnClose:!0,title:null,footer:null},$),{},{children:[(0,D.jsxs)("h2",{className:B.title,children:[x,(0,D.jsx)(g.ZP,{type:"link",icon:(0,D.jsx)(K.Z,{}),className:B.close,onClick:p})]}),L,v&&(0,D.jsxs)("div",{className:B.buttons,children:[Z&&(0,D.jsx)(g.ZP,{className:B.cancel,disabled:oe,onClick:p,children:U({id:"common.cancel"})}),(0,D.jsx)(g.ZP,{className:B.save,type:"primary",loading:H,disabled:oe,onClick:function(){m&&m()},children:U({id:"common.ok"})})]})]}))}var F=ae},18023:function(We,q,e){var k=e(75271),_=function(r,K){var T=(0,k.useRef)({callback:r,timer:null}),g=T.current;return(0,k.useEffect)(function(){g.callback=r},[r]),(0,k.useCallback)(function(){for(var a=arguments.length,B=new Array(a),D=0;D<a;D++)B[D]=arguments[D];g.timer&&clearTimeout(g.timer),g.timer=setTimeout(function(){g.callback.apply(g,B)},K)},[])};q.Z=_},93396:function(We,q,e){var k=e(75271),_=function(r,K){var T=(0,k.useRef)();(0,k.useEffect)(function(){T.current=r},[r]),(0,k.useEffect)(function(){var g=function(){return T.current.apply(T,arguments)};if(K!==null){var a=setInterval(g,K);return function(){return clearInterval(a)}}return function(){}},[K])};q.Z=_},10089:function(We,q,e){e.d(q,{Z:function(){return T}});var k=e(26068),_=e.n(k),ee=e(15944),r=e.n(ee),K=e(70576);function T(g){var a=(0,K.useLocation)();return _()(_()({},a),{},{query:r().parse(a.search,g||{ignoreQueryPrefix:!0})})}},1480:function(We,q,e){var k=e(26068),_=e.n(k),ee=e(75271),r=e(52676),K=function(g){var a=g.color,B=g.style;return(0,r.jsx)("i",{style:_()({float:"left",width:8,height:8,borderRadius:"50%",marginTop:7,marginRight:6,backgroundColor:a},B)})};q.Z=K},47954:function(We,q,e){e.d(q,{Z:function(){return m}});var k=e(48305),_=e.n(k),ee=e(75271),r=e(70576),K=e(77960),T=e(32109),g=e(66063),a=e(66830),B=e(3973),D=e(61234),s=e(95056),ae=e(26068),F=e.n(ae),A=e(70903),l=e(52676),M={height:48,border:"1px solid #E5E7ED",cursor:"pointer",display:"flex",justifyContent:"space-between",fontSize:14,alignItems:"center",paddingLeft:12,paddingRight:12},me=function(t){var H=t.turnBackGroup,J=t.onChange,oe=t.value,de=(0,r.useIntl)(),Z=de.formatMessage;return(0,l.jsx)(D.ZP.Group,{value:oe,style:{width:"100%"},children:(0,l.jsx)(A.Z,{direction:"vertical",style:{width:"100%"},children:H.map(function($){return(0,l.jsxs)("div",{style:F()(F()({},M),{},{background:$.flowId===oe?"#227A7A":"#F6F7F9",color:$.flowId===oe?"#fff":"#42526E"}),onClick:function(U){U.preventDefault(),J==null||J($.flowId)},children:[(0,l.jsx)("span",{style:{width:"90%"},children:(0,l.jsxs)("span",{style:{display:"flex",justifyContent:"space-between"},children:[(0,l.jsx)("span",{style:{display:"inline-block"},children:$.flowName}),(0,l.jsxs)("span",{children:[$.recordList.length,(0,l.jsx)("span",{style:{marginLeft:5},children:Z({id:"common.unit.row"})})]})]})}),(0,l.jsx)(D.ZP,{value:$.flowId})]},$.flowId)})})})},x=me;function L(p){var t=p.onOk,H=p.onCancel,J=p.selectedFlowId,oe=p.selectedCycle,de=p.selectedTurnBackMode,Z=(0,r.useIntl)(),$=Z.formatMessage,xe=(0,ee.useState)("init"),U=_()(xe,2),ce=U[0],G=U[1],we=function(){ce==="init"?G("backTo"):ce==="backTo"?G("forceQA"):ce==="forceQA"&&t()},Re=function(){ce==="init"?H():ce==="backTo"?G("init"):ce==="forceQA"&&G("backTo")},ue=function(){return ce==="init"?!J:ce==="backTo"?oe===null:ce==="forceQA"?de===null:!1};return{currentStep:ce,reset:function(){G("init")},next:{goto:we,text:$(ce==="forceQA"?{id:"common.ok"}:{id:"common.next-step"}),disabled:ue()},prev:{goto:Re,text:$(ce==="init"?{id:"common.close"}:{id:"common.prev-step"})}}}var u=L,v=function(t){var H,J=t.visible,oe=t.projectId,de=t.recordList,Z=t.onCancel,$=t.dispatch,xe=(0,r.useIntl)(),U=xe.formatMessage,ce=(0,s.a9)({target:"data-center",projectId:oe,recordList:de,active:J}),G=ce.turnBackGroups,we=ce.loading,Re=(0,ee.useState)(null),ue=_()(Re,2),Y=ue[0],Oe=ue[1],ze=(0,ee.useState)(null),be=_()(ze,2),$e=be[0],Fe=be[1],nt=(0,ee.useState)(null),Te=_()(nt,2),ge=Te[0],ve=Te[1],He=(0,ee.useState)(!1),Se=_()(He,2),Be=Se[0],Ye=Se[1],Ne=function(){ve(null),Fe(null),Oe(null)},n=u({onOk:function(){Ye(!0),$({type:"dataCenter/bigDataAction",payload:{projectId:oe,flowId:Y,actionType:"turnback",recordIds:G.find(function(Pe){return Pe.flowId===Y}).recordList,backTo:$e,forceQA:ge==="true",callback:function(){Ne(),V(),Z(),Ye(!1)}}})},onCancel:function(){Ne(),V(),Z()},selectedFlowId:Y,selectedCycle:$e,selectedTurnBackMode:ge}),y=n.currentStep,V=n.reset,W=n.next,je=n.prev,Ze=y==="init"?void 0:{display:"none"},Qe=y==="backTo"?void 0:{display:"none"},te=y==="forceQA"?void 0:{display:"none"};return(0,l.jsx)(T.Z,{title:U({id:"turnback.search.modal.title"}),bodyStyle:{height:280,overflowY:"auto"},visible:J,maskClosable:!1,className:"custom-modal",onCancel:function(){Ne(),V(),Z()},footer:(0,l.jsxs)("div",{style:{paddingRight:8},children:[(0,l.jsx)(g.ZP,{onClick:function(Pe){Pe.preventDefault(),je.goto()},children:je.text}),(0,l.jsx)(g.ZP,{type:"primary",disabled:W.disabled,onClick:function(Pe){Pe.preventDefault(),W.goto()},children:W.text})]}),children:(0,l.jsxs)(a.Z,{spinning:we||Be,children:[(0,l.jsx)("div",{style:Ze,children:G.length>0?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("p",{children:U({id:"turnback-flow-select"})}),(0,l.jsx)(x,{value:Y,turnBackGroup:G,onChange:function(Pe){Oe(Pe),Fe(null),ve(null)}})]}):U({id:"no-valid-turnback-data"})}),(0,l.jsxs)("div",{style:Qe,children:[(0,l.jsx)("p",{children:U({id:"turnback-node-select"})}),Y&&(0,l.jsx)(B.Z,{value:$e,style:{width:470},onSelect:function(Pe){Fe(Pe)},children:(H=G.find(function(Ce){return Ce.flowId===Y}))===null||H===void 0?void 0:H.backList.map(function(Ce){return(0,l.jsx)(B.Z.Option,{value:Ce.cycle,children:Ce.name},Ce.cycle)})})]}),(0,l.jsxs)("div",{style:te,children:[(0,l.jsx)("p",{children:U({id:"turnback.search.modal.qa-mode"})}),(0,l.jsxs)(D.ZP.Group,{value:ge,onChange:function(Pe){ve(Pe.target.value)},children:[(0,l.jsx)(D.ZP,{style:{display:"block",height:"30px",lineHeight:"30px"},value:"true",children:U({id:"turnback.search.modal.qa-mode-mandatory"})}),(0,l.jsx)(D.ZP,{style:{display:"block",height:"30px",lineHeight:"30px"},value:"false",children:U({id:"turnback.search.modal.qa-mode-sampling"})})]})]})]})})},m=(0,K.$j)()(v)},79282:function(We,q,e){var k=e(26068),_=e.n(k),ee=e(75271),r=e(70576),K=e(52676),T=function(a){var B=a.style,D=(0,r.useIntl)(),s=D.formatMessage;return(0,K.jsx)("span",{style:_()({padding:2,background:"rgba(245, 108, 108, 0.1)",borderRadius:2,color:"#F56C6C",textAlign:"center",fontSize:14},B),children:s({id:"v3.test"})})};q.Z=T},5960:function(We,q,e){var k=e(98570),_=e(66063),ee=e(70576),r=e(77960),K=e(37704),T=e(10470),g=e(33487),a=e(52676);function B(s){var ae=s.visible,F=s.projectId,A=s.onRefresh,l=s.bigDataProgress,M=s.dispatch,me=(0,ee.useIntl)(),x=me.formatMessage,L=l[F],u=L||{},v=u.type,m=u.progress,p=m===void 0?0:m,t=u.failureNum,H=t===void 0?0:t,J=u.successNum,oe=J===void 0?0:J,de=u.allNum,Z=function(){p===1?(M({type:"dataCenter/updateVisible",payload:{progressModalVisible:!1}}),M({type:"dataCenter/clearProgress",payload:{projectId:F}}),A()):M({type:"dataCenter/updateVisible",payload:{progressModalVisible:!1}})};return(0,a.jsxs)(K.Z,{title:x({id:"project.detail.data-center.big-data.process.title"},{type:v&&x({id:"project.detail.data-center.big-data.".concat(v)}),num:de}),visible:ae,onClose:Z,showFooter:!1,children:[p!==1&&(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{style:{marginBottom:40,color:"#42526e"},children:x({id:"project.detail.data-center.big-data.tip"})}),(0,a.jsxs)("p",{style:{margin:0,color:"#42526e",fontWeight:"bold",fontSize:20,textAlign:"center"},children:[(p*100).toFixed(2),"%"]}),(0,a.jsx)(k.Z,{style:{marginBottom:40},percent:p*100,showInfo:!1}),(0,a.jsx)("p",{style:{marginBottom:40,color:"#42526e"},children:x({id:"project.detail.data-center.big-data.tip2"})}),(0,a.jsx)("div",{style:{textAlign:"right"},children:(0,a.jsx)(_.ZP,{onClick:Z,children:x({id:"project.detail.data-center.run.backend"})})})]}),p===1&&(0,a.jsxs)("div",{style:{color:"#42526e"},children:[(0,a.jsx)("p",{style:{marginBottom:16},children:x({id:"project.detail.data-center.run.done"})}),(0,a.jsxs)("span",{style:{marginRight:40},children:[(0,a.jsx)(T.Z,{style:{marginRight:4,color:"#227a7a"}}),oe," ",x({id:"common.unit.row"})]}),(0,a.jsxs)("span",{children:[(0,a.jsx)(g.Z,{style:{marginRight:4,color:"#f56c6c"}}),H," ",x({id:"common.unit.row"})]}),(0,a.jsx)("div",{style:{overflow:"hidden",marginTop:40},children:(0,a.jsx)(_.ZP,{style:{float:"right"},onClick:Z,children:x({id:"common.close"})})})]})]})}function D(s){var ae=s.dataCenter;return{bigDataProgress:ae.bigDataProgress,visible:ae.modalVisible.progressModalVisible}}q.Z=(0,r.$j)(D)(B)},16725:function(We,q,e){var k=e(48305),_=e.n(k),ee=e(37704),r=e(28227),K=e(53577),T=e(75271),g=e(70576),a=e(42400),B=e(99076),D=e(52676);function s(ae){var F=ae.visible,A=ae.projectId,l=ae.recordIds,M=ae.dispatch,me=ae.onClose,x=ae.onComplete,L=(0,T.useState)(!1),u=_()(L,2),v=u[0],m=u[1],p=(0,g.useIntl)(),t=p.formatMessage,H=function(){m(!0),(0,r.Np)({projectId:A,recordIds:l}).then(function(oe){oe.status===K.oj.OK?(a.ZP.success(t({id:"common.message.success.operation"})),M({type:"dataCenter/updateSelectedData",payload:[]}),M({type:"dataCenter/getStatistics",payload:{projectId:A}}),x()):a.ZP.error((0,B.R$)(oe))}).catch(function(oe){return a.ZP.error((0,B.R$)(oe))}).finally(function(){return m(!1)})};return(0,D.jsxs)(ee.Z,{visible:F,title:t({id:"common.delete"}),onClose:me,onSave:H,saveLoading:v,children:[(0,D.jsx)("p",{children:t({id:"data.action.delete.tip"})}),(0,D.jsx)("p",{children:t({id:"data.action.delete.confirm"},{num:l.length})})]})}q.Z=s},48111:function(We,q,e){e.d(q,{KE:function(){return yt},ST:function(){return Nt},an:function(){return ne},dt:function(){return jt},ZP:function(){return zt}});var k=e(90228),_=e.n(k),ee=e(26068),r=e.n(ee),K=e(87999),T=e.n(K),g=e(48305),a=e.n(g),B=e(82092),D=e.n(B),s=e(75271),ae=e(79143),F=e(63091),A=e(65715),l=e(42400),M=e(66063),me=e(93579),x=e(56138),L=e(70576),u=e(77960),v=e(65167),m=e(45269),p=e(1689),t=e(52676),H=function(c){var h=c.value,I=c.conditions,P=c.onSearch,N=c.onReset,R=(0,L.useIntl)(),d=R.formatMessage,C=Object.entries((I==null?void 0:I.batchNumName)||[]).map(function(E){var b=a()(E,2),j=b[0],Q=b[1];return{value:j,label:Q}}),f=[{key:"recordIds",type:m.aH.Text,label:d({id:"common.column.recordId"}),placeholder:d({id:"turnback.search.ids"})},{key:"batchNumList",type:m.aH.Multiple,label:d({id:"data.batch"}),options:C,optionLabelKey:"label",optionValueKey:"value",optionLabel:function(b){return(0,t.jsxs)("div",{children:[(0,t.jsxs)("span",{style:{marginRight:4},children:["[",b.value,"]"]}),(0,t.jsx)("span",{children:b.label})]})},style:{minWidth:160},showSearch:!1},{key:"flowJob",type:m.aH.CascaderMultiple,label:d({id:"project.detail.data-center.filter.current-node"}),options:(I==null?void 0:I.flowDatas)||[],fieldNames:{label:"label",value:"value",children:"jobs"},showSearch:{render:function(b,j){var Q=j.map(function(le){return le.label}).join(" / ");return(0,t.jsx)("span",{title:Q,children:Q})}}},{key:"dataType",type:m.aH.Single,label:d({id:"project.detail.data-center.filter.data-type"}),options:Object.keys(p.g),optionLabel:function(b){return d({id:"project.detail.data-center.data-type.".concat(b==null?void 0:b.toLowerCase())})},style:{minWidth:160}},{key:"state",type:m.aH.Multiple,label:d({id:"project.detail.data-center.filter.data-status"}),options:Object.values(ne).filter(function(E){return E!==ne.UNPUBLISHED&&E!==ne.REWORKING}),optionLabel:function(b){return d({id:"project.detail.data-center.data-state.".concat(b.toLowerCase())})},style:{minWidth:160}}],z=function(b){var j,Q;P(r()(r()({},b),{},{jobIdList:(j=b.flowJob)===null||j===void 0?void 0:j.map(function(le){return le[1]}).filter(function(le){return!!le}),flowIdList:(Q=b.flowJob)===null||Q===void 0?void 0:Q.map(function(le){return le[0]})}))};return(0,t.jsx)("div",{children:(0,t.jsx)(v.Z,{formItems:f,formStyle:{marginBottom:0},buttonStyle:{marginBottom:16,marginRight:120},initialValue:{},value:h,onFilterValueChange:z,onReset:N,searchMode:"click"})})},J=H,oe=e(15558),de=e.n(oe),Z=e(96394),$=e(32109),xe=e(66830),U=e(61234),ce=e(62057),G=e(43718),we=e(90966),Re=e(84816),ue=e(17114),Y=e(28227),Oe=e(23563),ze=e(79282),be=10;function $e(o){var c=o.visible,h=o.onCancel,I=o.projectId,P=o.selectWorkflows,N=o.defaultSelectedWorkflows,R=(0,L.useIntl)(),d=R.formatMessage,C=Z.Z.useForm(),f=a()(C,1),z=f[0],E=(0,s.useState)({pageIndex:0,flowName:"",flowDisplayId:""}),b=a()(E,2),j=b[0],Q=b[1],le=(0,s.useState)(!1),O=a()(le,2),pe=O[0],De=O[1],ye=(0,s.useState)({workflows:[],total:0}),se=a()(ye,2),Me=se[0],he=se[1],_e=(0,s.useState)([]),Ke=a()(_e,2),Ve=Ke[0],qe=Ke[1];(0,s.useEffect)(function(){c&&qe(N)},[N,c]);var et=function(){var S=arguments.length>0&&arguments[0]!==void 0?arguments[0]:j;De(!0),(0,Y.Ff)(r()(r()({},S),{},{projectId:I,pageSize:be,ignoreDataCollectFlowFlag:!0})).then(function(X){var fe=X.data||{},Ee=fe.results,ie=fe.totalElements;he({workflows:Ee,total:ie})}).finally(function(){return De(!1)})};(0,s.useEffect)(function(){!c||!I||et()},[c,I]);var ot=function(){var S=z.getFieldsValue(),X=S.flowName,fe=S.flowDisplayId;Q(r()(r()({},j),{},{flowName:X,flowDisplayId:fe})),et(r()(r()({},j),{},{flowName:X,flowDisplayId:fe}))},lt=[{title:d({id:"project.workflow.name"}),dataIndex:"flowName",render:function(S,X){return(0,t.jsxs)("span",{children:[X.testFlag?(0,t.jsx)(ze.Z,{}):null," ",S]})}},{title:d({id:"project.workflow.id"}),dataIndex:"flowDisplayId"},{title:d({id:"common.createdTime"}),dataIndex:"createdTime",render:function(S){return(0,Oe.vc)(S)}}],w={selectedRowKeys:Ve.map(function(i){return i.id}),onChange:function(S,X){qe(X)}};return(0,t.jsxs)($.Z,{title:d({id:"project.detail.data-center.assign.workflow"}),visible:c,onCancel:h,width:800,onOk:function(){return P(Ve)},okButtonProps:{disabled:!Ve.length},okText:d({id:"common.confirm"}),children:[(0,t.jsxs)(Z.Z,{form:z,layout:"inline",children:[(0,t.jsx)(Z.Z.Item,{name:"flowName",label:d({id:"project.detail.data-center.assign.workflow.name"}),children:(0,t.jsx)(we.Z,{allowClear:!0})}),(0,t.jsx)(Z.Z.Item,{name:"flowDisplayId",label:d({id:"project.detail.data-center.assign.workflow.id"}),children:(0,t.jsx)(we.Z,{allowClear:!0})}),(0,t.jsx)(M.ZP,{onClick:ot,children:d({id:"common.search"})})]}),(0,t.jsx)(x.Z,{className:"tableStriped margin-top-4",rowKey:"id",loading:pe,columns:lt,dataSource:Me.workflows,rowSelection:w,pagination:{total:Me.total,pageSize:be,onChange:function(S){Q(r()(r()({},j),{},{pageIndex:S-1})),et(r()(r()({},j),{},{pageIndex:S-1}))},showTotal:function(S){return d({id:"common.total.items"},{items:S})}}})]})}var Fe=e(94721);function nt(o){var c=o.projectId,h=o.form,I=o.onWorkflowsChange,P=(0,L.useIntl)(),N=P.formatMessage,R=(0,s.useState)([]),d=a()(R,2),C=d[0],f=d[1],z=(0,s.useState)(!1),E=a()(z,2),b=E[0],j=E[1],Q=function(pe){f(pe),j(!1),I(pe)},le=function(pe){var De=C.filter(function(ye){return ye.id!==pe.id});f(De),I(De)};return(0,s.useEffect)(function(){return function(){f([])}},[]),(0,t.jsxs)("div",{children:[C.length>0&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"flex-between",children:[(0,t.jsx)("span",{}),(0,t.jsx)(M.ZP,{type:"primary",ghost:!0,onClick:function(){j(!0)},children:N({id:"project.detail.data-center.assign.workflow"})})]}),(0,t.jsx)(Z.Z,{labelCol:{span:8},wrapperCol:{span:12},form:h,children:C.map(function(O){return(0,t.jsxs)(ce.Z,{gutter:10,children:[(0,t.jsxs)(G.Z,{span:10,className:"text-right",title:O.flowName,style:{lineHeight:2.2},children:["\u3010",O.flowDisplayId,"\u3011",O.flowName]}),(0,t.jsx)(G.Z,{span:8,children:(0,t.jsx)(Z.Z.Item,{id:O.id,name:O.id,rules:[{required:!0,message:N({id:"common.input.placeholder"})},{pattern:Fe.eH,message:"\u6761\u76EE\u6570\u91CF\u4E3A\u6B63\u6574\u6570"}],children:(0,t.jsx)(we.Z,{placeholder:"\u6761\u76EE\u6570\u91CF"})})}),(0,t.jsx)(G.Z,{span:4,children:(0,t.jsx)(Re.Z,{onClick:function(){return le(O)}})})]},O.id)})})]}),C.length===0&&(0,t.jsx)("div",{style:{height:200,lineHeight:12,textAlign:"center"},children:(0,t.jsx)(M.ZP,{type:"dashed",icon:(0,t.jsx)(ue.Z,{}),onClick:function(){return j(!0)},children:N({id:"project.detail.data-center.assign.workflow"})})}),(0,t.jsx)($e,{visible:b,defaultSelectedWorkflows:C,onCancel:function(){return j(!1)},projectId:c,selectWorkflows:Q})]})}var Te=e(73095),ge=e(81399);function ve(o){var c=o.visible,h=o.onCancel,I=o.selectedRecordIds,P=I===void 0?[]:I,N=o.projectId,R=o.deselect,d=o.handleDataAssignSuccess,C=(0,L.useIntl)(),f=C.formatMessage,z=Z.Z.useForm(),E=a()(z,1),b=E[0],j=(0,s.useState)(!1),Q=a()(j,2),le=Q[0],O=Q[1],pe=(0,s.useState)(!1),De=a()(pe,2),ye=De[0],se=De[1],Me=(0,s.useState)(),he=a()(Me,2),_e=he[0],Ke=he[1],Ve=(0,s.useState)([]),qe=a()(Ve,2),et=qe[0],ot=qe[1],lt=(0,s.useState)([]),w=a()(lt,2),i=w[0],S=w[1],X=(0,s.useState)([]),fe=a()(X,2),Ee=fe[0],ie=fe[1],Ue=(0,s.useState)({sum:0,dataList:[]}),it=a()(Ue,2),dt=it[0],Ct=it[1],Ht=(0,s.useState)({}),Dt=a()(Ht,2),ct=Dt[0],mt=Dt[1],_t=Object.keys(ct);(0,s.useEffect)(function(){!P.length||!c||(O(!0),(0,Y.Il)(N,P).then(function(Ae){var Ie=Ae.data||{},Je=Ie.dataTypeAggregation,tt=Je===void 0?{}:Je,st=Ie.inFlow,at=st===void 0?[]:st,rt=Ie.auditingRecords,gt=rt===void 0?[]:rt;mt(tt),S(at),ot(gt)}).finally(function(){return O(!1)}))},[P,c]);var Qt=function(){dt.sum>0&&d(),h()},Jt=function(){if(i.length>0){S([]);return}if(_t.length>1){if(!_e){l.ZP.error(f({id:"project.detail.data-center.assign.error.different-type.required"}));return}var Ie=[];_t.forEach(function(Je){Je!==_e&&Ie.push.apply(Ie,de()(ct[Je]))}),R(Ie),mt(D()({},_e,ct[_e]));return}b.validateFields().then(function(Je){var tt=Object.values(Je).reduce(function(at,rt){return at+ +rt},0);if(tt>(P==null?void 0:P.length)){l.ZP.error(f({id:"project.detail.data-center.assign.error.limit"}));return}var st=Object.entries(Je).map(function(at){var rt=a()(at,2),gt=rt[0],en=rt[1];return{flowId:gt,recordNum:+en}});if(st.length===0){l.ZP.error(f({id:"project.detail.data-center.assign.error.require"}));return}se(!0),(0,Y.KK)({projectId:N,allotList:st,recordIds:Object.values(ct)[0]}).then(function(at){at.status===Te.o.OK?Ct({sum:tt,dataList:st}):l.ZP.error(f({id:"data.action.assign.error"},{error:(0,ge.R$)(at)}))}).finally(function(){return se(!1)})})},Yt=function(){b.resetFields(),Ke(null),mt({}),S([]),Ct({sum:0,dataList:[]})},Xt=function(){S([]),R(i);var Ie={};Object.entries(ct).forEach(function(Je){var tt=a()(Je,2),st=tt[0],at=tt[1];Ie[st]=at.filter(function(rt){return i.indexOf(rt)===-1})}),mt(Ie)},qt=function(Ie){ie(Ie)};return(0,t.jsx)($.Z,{width:800,maskClosable:!1,className:"custom-modal",footer:null,visible:c,onCancel:Qt,title:f({id:"common.selected"},{count:P==null?void 0:P.length}),afterClose:Yt,destroyOnClose:!0,children:dt.sum>0?(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{children:f({id:"project.detail.data-center.assign.success.title"},{num:dt.sum})}),dt.dataList.map(function(Ae){var Ie;return(0,t.jsx)("p",{children:f({id:"project.detail.data-center.assign.success.item"},{num:Ae.recordNum,flowName:(Ie=Ee.find(function(Je){var tt;return((tt=Je.id)===null||tt===void 0?void 0:tt.toString())===Ae.flowId}))===null||Ie===void 0?void 0:Ie.flowName})},Ae.recordNum)})]}):(0,t.jsxs)(xe.Z,{spinning:le,children:[i.length>0&&(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{children:f({id:"common.prompt"})}),(0,t.jsx)("div",{children:f({id:"project.detail.data-center.assign.error.existed-in-flow"},{count:i==null?void 0:i.length})}),(0,t.jsx)(M.ZP,{type:"link",onClick:Xt,children:f({id:"data.action.jump"},{count:i==null?void 0:i.length})})]}),i.length===0&&(_t.length>1||et.length>0)&&(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{style:{fontSize:18,marginBottom:8},children:f({id:"common.prompt"})}),(0,t.jsx)("p",{className:"margin-bottom-4",children:f({id:"project.detail.data-center.assign.error.different-type"})}),(0,t.jsx)(U.ZP.Group,{onChange:function(Ie){return Ke(Ie.target.value)},value:_e,children:_t.map(function(Ae){return(0,t.jsx)(U.ZP,{value:Ae,style:{display:"block"},children:f({id:"data.type.count"},{type:f({id:"data.type.".concat(Ae)}),count:ct[Ae].length})},Ae)})}),et.length>0&&(0,t.jsx)("div",{style:{paddingTop:12},children:f({id:"project.detail.data-center.assign.error.in-audit"},{num:et.length})})]}),i.length===0&&_t.length===1&&(0,t.jsx)(nt,{projectId:N,form:b,onWorkflowsChange:qt}),(0,t.jsxs)("div",{className:"text-right margin-top-4",children:[(0,t.jsx)(M.ZP,{type:"primary",ghost:!0,onClick:h,children:f({id:"common.cancel"})}),(0,t.jsx)(M.ZP,{type:"primary",onClick:Jt,className:"margin-left-2",loading:ye,children:f({id:i.length>0?"common.continue.action":"common.confirm"})})]})]})})}var He=e(13542),Se=e(37704);function Be(o){var c=o.visible,h=o.recordId,I=o.projectId,P=o.onClose,N=(0,L.useIntl)(),R=N.formatMessage,d=(0,s.useState)(null),C=a()(d,2),f=C[0],z=C[1],E=(0,s.useState)(!1),b=a()(E,2),j=b[0],Q=b[1],le=[{title:R({id:"project.detail.data-center.process.action-time"}),dataIndex:"actionTime"},{title:R({id:"project.detail.data-center.process.action-worker"}),dataIndex:"worker"},{title:R({id:"project.detail.data-center.process.node"}),dataIndex:"node"},{title:R({id:"project.detail.data-center.process.labeling"}),render:function(){return(0,t.jsx)(M.ZP,{type:"link",style:{padding:0},children:R({id:"common.view"})})}}];return(0,s.useEffect)(function(){c&&h&&(Q(!0),(0,Y.XZ)({recordId:h,projectId:I}).then(function(O){z([O.data])}).catch(function(O){return l.ZP.error((0,ge.R$)(O))}).finally(function(){return Q(!1)}))},[c,h]),(0,t.jsx)(Se.Z,{title:R({id:"project.detail.data-center.column.schedule"}),visible:c,onClose:P,showFooter:!1,children:(0,t.jsx)(x.Z,{rowKey:"actionTime",className:"tableStriped",style:{borderTop:"1px solid #F0F0F0"},loading:j,dataSource:f,columns:le,pagination:!1})})}var Ye=Be,Ne=e(1480),n=e(14543),y=e(46285),V=e(887),W=function(c){var h=c.record,I=c.onClick,P=(0,L.useIntl)(),N=P.formatMessage,R=h.flowName,d=h.cycle;return R?(0,t.jsx)("div",{style:{color:"#42526e"},children:(0,t.jsxs)("a",{onClick:I,children:[(0,t.jsx)("span",{style:{display:"inline-block",maxWidth:150,textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap",verticalAlign:"bottom"},title:h.flowName,children:h.flowName}),(0,t.jsx)("span",{style:{marginLeft:8},children:d?"".concat(N({id:"qa-job.type"})).concat(d):"".concat(N({id:"labeling-job.type"}),"1")})]})}):null},je=W,Ze=function(c){var h=c.projectId,I=c.readonly,P=c.record,N=c.dispatch,R=(0,L.useIntl)(),d=R.formatMessage,C=!P||jt.find(function(E){return E===P.state}),f=function(b){N({type:"dataCenter/updateSelectedData",payload:b})},z=function(b){N({type:"dataCenter/updateVisible",payload:b})};return(0,t.jsxs)(t.Fragment,{children:[C&&(0,t.jsx)(A.Z.Item,{onClick:function(){P&&f([P]),z({turnBackNewModalVisible:!0})},disabled:I,children:d({id:"turnback.btn"})},"turnBackV2"),(0,t.jsx)(A.Z.Item,{onClick:function(){P&&f([P]),z({deleteModalVisible:!0})},disabled:I,children:d({id:"common.delete"})},"delete")]})};function Qe(o){var c=o.dataCenter;return{selectedData:c.selectedData}}var te=(0,u.$j)(Qe)(Ze),Ce=e(27253),Pe=[m.Dc.ORIGIN_DATA,m.Dc.FINAL_RESULT_DATA,m.Dc.SIMPLE_PROCESS_DATA,m.Dc.ALL_PROCESS_DATA,m.Dc.FIRST_LABELING_RESULT_DATA],ut=[m.Dc.ORIGIN_DATA,m.Dc.FINAL_RESULT_DATA],ht=[m.Dc.ORIGIN_DATA,m.Dc.RESULT_DATA,m.Dc.FINAL_RESULT_DATA],ft={marginBottom:12,color:"#42526e",lineHeight:"20px"};function vt(o){var c=o.onClose,h=o.onSave,I=o.title,P=o.visible,N=(0,L.useIntl)(),R=N.formatMessage,d=(0,s.useState)([]),C=a()(d,2),f=C[0],z=C[1],E=(0,s.useState)([]),b=a()(E,2),j=b[0],Q=b[1],le=(0,s.useState)(m.C2.REPORT),O=a()(le,2),pe=O[0],De=O[1],ye=function(){h(pe,j)};return(0,s.useEffect)(function(){z(pe===m.C2.REPORT?Pe:ut)},[pe]),(0,s.useEffect)(function(){Q(ht.filter(function(se){return f.find(function(Me){return Me===se})}))},[f]),(0,t.jsx)(t.Fragment,{children:(0,t.jsxs)(Se.Z,{title:I,width:536,visible:P,onClose:c,onSave:ye,disabled:j.length===0,destroyOnClose:!0,children:[(0,t.jsx)("p",{style:ft,children:R({id:"report.type"})}),(0,t.jsx)(U.ZP.Group,{onChange:function(Me){return De(Me.target.value)},style:{marginBottom:24},value:pe,children:Object.keys(m.C2).map(function(se){return(0,t.jsx)(U.ZP,{value:m.C2[se],style:{color:"#42526e"},children:R({id:"report.type.".concat(m.C2[se])})},se)})}),(0,t.jsx)("p",{style:ft,children:R({id:"report.content"})}),(0,t.jsx)(Ce.Z.Group,{value:j,onChange:function(Me){return Q(Me)},style:{marginBottom:24},children:f.map(function(se){return(0,t.jsx)("div",{style:{marginBottom:12},children:(0,t.jsx)(Ce.Z,{value:se,style:{color:"#42526e"},children:R({id:"report.content.".concat(se)})})},se)})})]})})}var Xe=vt,ke=e(17756),Ge=e(77659);function Le(o){var c=o.visible,h=o.groupId,I=o.type,P=o.contentItems,N=o.projectId,R=o.recordIds,d=o.onClose,C=(0,L.useIntl)(),f=C.formatMessage,z=function(){return Promise.resolve()},E=function(){return(0,Ge.Pe)({projectId:N,recordIds:R,groupId:h,type:I,contentItems:P}).then(function(j){j.status===Te.o.OK?(l.ZP.success((0,t.jsxs)("span",{children:[f({id:"data.export.tip1"}),(0,t.jsx)(M.ZP,{style:{padding:0},type:"link",onClick:function(){return L.history.push("/file-center")},children:f({id:"file.center.title"})}),f({id:"data.export.tip2"})]})),d()):l.ZP.error((0,ge.R$)(j))})};return(0,t.jsx)(ke.Z,{visible:c,hasFlowData:!1,downloadLinkKey:"finalResultFile",onClose:d,onGenerateReport:E,onGetReportStatus:z},h)}var re=Le;function Et(o){var c=o.projectId,h=o.recordIds,I=o.dataCheckTarget,P=o.onSuccess,N=(0,s.useState)(!1),R=a()(N,2),d=R[0],C=R[1],f=(0,s.useState)({invalid:0,validGroups:[]}),z=a()(f,2),E=z[0],b=z[1],j=function(){C(!0),(0,Y.gn)({projectId:c,recordIds:h,dataTarget:I}).then(function(le){if(le.status===Te.o.OK){var O=le.data.reduce(function(pe,De){return De.dataType?pe.validGroups.push(De):pe.invalid=De.recordNum,pe},{invalid:0,validGroups:[]});b(O),P==null||P(O)}}).finally(function(){C(!1)})};return{checkSelectedRecords:j,checkedData:E,loading:d}}var It=e(70903),bt={height:48,border:"1px solid #E5E7ED",cursor:"pointer",display:"flex",justifyContent:"space-between",fontSize:14,alignItems:"center",paddingLeft:12,paddingRight:12},St=function(c){var h=c.dataGroups,I=c.onChange,P=c.value,N=(0,s.useState)(),R=a()(N,2),d=R[0],C=R[1],f=(0,L.useIntl)(),z=f.formatMessage;return(0,s.useEffect)(function(){I&&d&&I(d)},[I,d]),(0,t.jsx)(U.ZP.Group,{value:P||d,style:{width:"100%"},children:(0,t.jsx)(It.Z,{direction:"vertical",style:{width:"100%"},children:h.map(function(E){return(0,t.jsxs)("div",{style:r()(r()({},bt),{},{background:E.groupId===d?"#227A7A":"#F6F7F9",color:E.groupId===d?"#fff":"#42526E"}),onClick:function(j){j.preventDefault(),C(E.groupId)},children:[(0,t.jsxs)("span",{children:[(0,t.jsxs)("span",{children:[z({id:"data.type.".concat(E.dataType)}),"\uFF1A"]}),(0,t.jsx)("b",{children:E.recordNum}),(0,t.jsx)("span",{style:{marginLeft:5},children:z({id:"common.unit.row"})})]}),(0,t.jsx)(U.ZP,{value:E.groupId})]},E.groupId)})})})},Pt=St,Mt=e(60269),pt={dataType:!1,content:!1,download:!1};function xt(o){var c=o.style,h=o.projectId,I=o.recordIds,P=o.readonly,N=P===void 0?!1:P,R=(0,L.useIntl)(),d=R.formatMessage,C=(0,s.useState)(pt),f=a()(C,2),z=f[0],E=f[1],b=(0,s.useState)(),j=a()(b,2),Q=j[0],le=j[1],O=(0,s.useState)(""),pe=a()(O,2),De=pe[0],ye=pe[1],se=(0,s.useState)([]),Me=a()(se,2),he=Me[0],_e=Me[1],Ke=(0,s.useState)([]),Ve=a()(Ke,2),qe=Ve[0],et=Ve[1],ot=function(){E(r()({},pt))},lt=function(Ee,ie){le(Ee),et(ie),E(r()(r()({},pt),{},{download:!0}))},w=Et({projectId:h,recordIds:I,dataCheckTarget:Mt.w.EXPORT,onSuccess:function(Ee){Ee.validGroups.length===1&&(ye(Ee.validGroups[0].groupId),_e(Ee.validGroups[0].recordIds||[])),E(r()(r()({},pt),{},{dataType:Ee.validGroups.length>1,content:Ee.validGroups.length<=1}))}}),i=w.checkSelectedRecords,S=w.loading,X=w.checkedData;return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(M.ZP,{type:"primary",style:c,loading:S,disabled:N,onClick:i,children:d({id:"common.export"})}),(0,t.jsxs)(Se.Z,{title:d({id:"common.export"}),visible:z.dataType,onClose:ot,onSave:function(){E(r()(r()({},pt),{},{content:!0}))},destroyOnClose:!0,children:[(0,t.jsx)("p",{children:d({id:"interim-qa-data-select-tip2"})}),(0,t.jsx)(Pt,{dataGroups:X.validGroups,onChange:function(Ee){var ie;_e(((ie=(X.validGroups||[]).find(function(Ue){return Ue.groupId===Ee}))===null||ie===void 0?void 0:ie.recordIds)||[]),ye(Ee)}})]}),(0,t.jsx)(Xe,{visible:z.content,title:d({id:"common.export"}),onClose:ot,onSave:lt}),(0,t.jsx)(re,{recordIds:he,projectId:h,groupId:De,type:Q,contentItems:qe,visible:z.download,onClose:ot})]})}var Rt=xt,Ot=e(83843),Tt=e(39399),Lt=/[,\s]/g;function At(o){var c=o.projectId,h=o.readonly,I=o.total,P=o.dataRecords,N=o.columns,R=o.selectedData,d=o.filterParams,C=o.dispatch,f=(0,s.useState)(!1),z=a()(f,2),E=z[0],b=z[1],j=(0,s.useState)(!1),Q=a()(j,2),le=Q[0],O=Q[1],pe=R.map(function(he){return he.recordId}),De=(0,L.useIntl)(),ye=De.formatMessage,se=function(_e){C({type:"dataCenter/updateSelectedData",payload:_e})},Me=function(){b(!0),(0,Y.DB)(r()(r()({},d),{},{recordIds:d!=null&&d.recordIds?d==null?void 0:d.recordIds.trim().split(Lt):[],pageSize:void 0,pageIndex:void 0,projectId:c})).then(function(_e){O(!0),se(_e.data.map(function(Ke){return{recordId:Ke}}))}).catch(function(_e){return l.ZP.error((0,ge.R$)(_e))}).finally(function(){return b(!1)})};return(0,s.useEffect)(function(){if(R.length===0){O(!1);return}R[0].dataType||O(!0)},[R]),(0,t.jsx)(Tt.Z,{barVisible:!0,columns:N.slice(0,5),selectedData:R,onDeselect:function(_e){se(R.filter(function(Ke){return Ke.recordId!==_e.recordId}))},disabled:le,onClear:function(){se([])},selectAllButton:Array.isArray(P)&&P.length>0&&(0,t.jsx)(M.ZP,{loading:E,style:{marginRight:16},disabled:h,onClick:Me,children:ye({id:"common.select-all-filter"})}),pagination:{total:I,pageSize:d.pageSize,onChange:function(_e,Ke){return C({type:"dataCenter/updateFilters",payload:r()(r()({},d),{},{pageSize:Ke,pageIndex:_e-1})})},current:d.pageIndex+1,showTotal:function(_e){return ye({id:"common.total.items"},{items:_e})},showSizeChanger:!0,showQuickJumper:!0,pageSizeOptions:Fe.TJ},actions:R.length>0&&(0,t.jsx)("div",{style:{display:"flex",justifyContent:"space-between"},children:(0,t.jsxs)("div",{children:[(0,t.jsx)(M.ZP,{type:"primary",ghost:!0,disabled:h,onClick:function(){return C({type:"dataCenter/updateVisible",payload:{assignModalVisible:!0}})},children:ye({id:"data.action.assign"})}),(0,t.jsx)(Rt,{projectId:c,readonly:h,recordIds:pe,style:{marginLeft:12}}),(0,t.jsx)(F.Z,{placement:"topRight",trigger:["hover"],overlay:(0,t.jsx)(A.Z,{style:{textAlign:"center"},disabled:h,children:(0,t.jsx)(te,{projectId:c,readonly:h})}),children:(0,t.jsxs)(M.ZP,{style:{marginLeft:12},type:"primary",ghost:!0,children:[ye({id:"common.more-operation"})," ",(0,t.jsx)(Ot.Z,{style:{marginLeft:8}})]})})]})})})}function wt(o){var c=o.dataCenter;return{selectedData:c.selectedData,dataRecords:c.data,total:c.total,filterParams:c.filter}}var Bt=(0,u.$j)(wt)(At),Zt=e(47954),Kt=e(5960),Ut=e(10089),Wt=e(16725),Ft=ae.Z.Text,ne=function(o){return o.UNPUBLISHED="UNPUBLISHED",o.ACQUIRABLE="ACQUIRABLE",o.READY="READY",o.TO_REWORK="TO_REWORK",o.REWORKING="REWORKING",o.WORKING="WORKING",o.COMPLETED="COMPLETED",o.HALTED="HALTED",o}({}),tn=[ne.WORKING,ne.REWORKING,ne.TO_REWORK],jt=[ne.WORKING,ne.ACQUIRABLE,ne.REWORKING,ne.TO_REWORK,ne.COMPLETED],nn=[ne.READY,ne.WORKING,ne.ACQUIRABLE,ne.REWORKING,ne.TO_REWORK,ne.COMPLETED],an=[ne.HALTED],Nt=function(o){return o.DELETED="DELETED",o}({}),yt=D()(D()(D()(D()(D()(D()(D()({},ne.READY,"#C8CCD4"),ne.ACQUIRABLE,"#7A869A"),ne.COMPLETED,"#01B97F"),ne.HALTED,"#6B5BE5"),ne.REWORKING,"#F56C6C"),ne.TO_REWORK,"#F56C6C"),ne.WORKING,"#FDB314"),kt=Object.keys(p.g).map(function(o){return{value:o,text:(0,t.jsx)(n._H,{id:"project.detail.data-center.data-type.".concat(o==null?void 0:o.toLowerCase())})}}),Vt=Object.values(ne).filter(function(o){return o!==ne.UNPUBLISHED&&o!==ne.REWORKING}).map(function(o){return{value:o,text:(0,t.jsx)(n._H,{id:"project.detail.data-center.data-state.".concat(o.toLowerCase())})}}),$t=function(c){var h=c.projectId,I=c.selectedData,P=c.bigDataProgress,N=c.data,R=c.projectDisplayId,d=c.filterParams,C=c.dispatch,f=c.modalVisible,z=c.loading,E=c.isReadonly,b=(0,L.useIntl)(),j=b.formatMessage,Q=(0,s.useState)(null),le=a()(Q,2),O=le[0],pe=le[1],De=(0,Ut.Z)(),ye=I.map(function(w){return w.recordId}),se=P[h]&&P[h].progress!==1,Me=Object.entries((O==null?void 0:O.batchNumName)||{}).map(function(w){var i=a()(w,2),S=i[0],X=i[1];return{value:S,text:(0,t.jsxs)("span",{children:[(0,t.jsxs)("span",{style:{marginRight:4},children:["[",S,"]"]}),(0,t.jsx)("span",{children:X})]})}}),he=function(i){C({type:"dataCenter/updateVisible",payload:i})},_e=[{title:j({id:"project.detail.data-center.column.record"}),render:function(i){return(0,t.jsx)("div",{onClick:function(){C({type:"dataCenter/updateSelectedRecord",payload:i}),L.history.replace({pathname:"/projects/".concat(h,"/").concat(i.recordId,"/record-detail"),search:(0,ge.PS)(De.query)})},children:(0,t.jsx)("a",{style:{margin:0},children:i.recordId})})},width:100,fixed:"left"},{title:j({id:"data.batch"}),dataIndex:"batchNum",filters:Me,filterMultiple:!0,filteredValue:d.batchNumList||[],width:300,render:function(i){var S=O!=null&&O.batchNumName?O.batchNumName[i]:null;return(0,t.jsxs)("div",{className:"flex",children:[(0,t.jsxs)("span",{children:["[",i,"]"]}),(0,t.jsx)(Ft,{style:{width:200,marginLeft:4},ellipsis:{tooltip:S},children:S})]})}},{title:j({id:"project.detail.data-center.filter.data-type"}),dataIndex:"dataType",width:200,filters:kt,filteredValue:d.dataType?[d.dataType]:[],filterMultiple:!1,render:function(i){return j({id:"project.detail.data-center.data-type.".concat(i==null?void 0:i.toLowerCase())})}},{title:j({id:"project.detail.data-center.filter.current-node"}),render:function(i){return(0,t.jsx)(je,{record:i,onClick:function(X){X.preventDefault(),L.history.push({pathname:"/workflows/".concat(i.flowId,"/detail"),search:(0,ge.PS)({projectId:h,projectDisplayId:R})})}})}},{title:j({id:"common.current-worker"}),dataIndex:"contributor",width:200,render:function(i){return i==null?void 0:i.name}},{title:j({id:"project.detail.data-center.filter.data-status"}),dataIndex:"state",width:100,filters:Vt,filteredValue:d.state,render:function(i){return(0,t.jsxs)("span",{children:[(0,t.jsx)(Ne.Z,{color:yt[i]}),j({id:"project.detail.data-center.data-state.".concat(i==null?void 0:i.toLowerCase())})]})}},{title:j({id:"common.operation"}),width:200,render:function(i){return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(y.Z,{style:{fontSize:20,marginRight:12,color:i.flowId?"#227a7a":"#DCDFE3",cursor:i.flowId?"pointer":"not-allowed"},onClick:function(X){X.preventDefault(),i.flowId&&(0,ge.Bh)(h,i)}}),(0,t.jsx)(F.Z,{placement:"bottomRight",trigger:["hover"],overlay:(0,t.jsx)(A.Z,{style:{textAlign:"center"},disabled:se,children:(0,t.jsx)(te,{record:i,projectId:h,readonly:E})}),children:(0,t.jsx)(V.Z,{style:{cursor:"pointer",fontSize:20}})})]})},fixed:"right"}],Ke={selectedRowKeys:ye,onSelect:function(i,S){if(S)C({type:"dataCenter/updateSelectedData",payload:I.concat([i])});else{var X=I.filter(function(fe){return fe.recordId!==i.recordId});C({type:"dataCenter/updateSelectedData",payload:X})}},onSelectAll:function(i,S,X){if(i){var fe=X.filter(function(ie){return!I.find(function(Ue){return Ue.recordId===ie.recordId})});C({type:"dataCenter/updateSelectedData",payload:I.concat(fe||[])})}else{var Ee=I.filter(function(ie){return!X.find(function(Ue){return Ue.recordId===ie.recordId})});C({type:"dataCenter/updateSelectedData",payload:Ee||[]})}}};function Ve(){return qe.apply(this,arguments)}function qe(){return qe=T()(_()().mark(function w(){return _()().wrap(function(S){for(;;)switch(S.prev=S.next){case 0:C({type:"dataCenter/getList",payload:{projectId:h}});case 1:case"end":return S.stop()}},w)})),qe.apply(this,arguments)}var et=function(i,S,X){var fe,Ee=X,ie=Ee.field,Ue=Ee.order,it=Ue==="descend"?"DESC":"ASC",dt={sortField:ie,sortOrder:it};C({type:"dataCenter/updateSorter",payload:dt}),C({type:"dataCenter/updateFilters",payload:r()(r()(r()({},d),S),{},{dataType:(fe=S.dataType)===null||fe===void 0?void 0:fe[0],batchNumList:S.batchNum||[]})})},ot=function(){var w=T()(_()().mark(function i(S){var X,fe;return _()().wrap(function(ie){for(;;)switch(ie.prev=ie.next){case 0:return ie.prev=0,ie.next=3,(0,Y.IM)({projectId:S});case 3:X=ie.sent,fe=X.data.flowDatas,pe(r()(r()({},X.data),{},{flowDatas:fe.map(function(Ue){return r()(r()({},Ue),{},{label:Ue.flowName,value:Ue.flowId,jobs:Object.keys(Ue.jobs||{}).map(function(it){return{value:it,label:Ue.jobs[it]}})})})})),ie.next=11;break;case 8:ie.prev=8,ie.t0=ie.catch(0),l.ZP.error((0,ge.R$)(ie.t0));case 11:case"end":return ie.stop()}},i,null,[[0,8]])}));return function(S){return w.apply(this,arguments)}}();(0,s.useEffect)(function(){f.dataMgmtVisible||ot(h)},[h,f.dataMgmtVisible]),(0,s.useEffect)(function(){f.dataMgmtVisible||f.assignModalVisible||Ve()},[d,f.dataMgmtVisible,f.assignModalVisible]);var lt=function(i){C({type:"dataCenter/updateSelectedData",payload:I.filter(function(S){return i.indexOf(S.recordId)===-1})})};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("h3",{style:{margin:"16px 0",color:"#42526e"},children:j({id:"project.detail.data-center.list"})}),se&&(0,t.jsxs)("div",{style:{height:40,lineHeight:"40px",padding:"0 16px",color:"#ba4745",background:"#FDE2E2"},children:[j({id:"project.detail.data-center.big-data.action"}),(0,t.jsx)(M.ZP,{type:"link",style:{float:"right",marginTop:4},onClick:function(){return he({progressModalVisible:!0})},children:j({id:"common.view"})})]}),(0,t.jsxs)(me.Z,{bordered:!1,className:"with-shadow",bodyStyle:{marginBottom:100},headStyle:{color:"#42526e"},title:null,children:[(0,t.jsx)(J,{projectId:h,value:d,conditions:O,onSearch:function(i){C({type:"dataCenter/updateFilters",payload:r()(r()({},i),{},{pageIndex:0,pageSize:d.pageSize})}),C({type:"dataCenter/updateSelectedData",payload:[]})},onReset:function(){return C({type:"dataCenter/updateFilters",payload:{}})}}),(0,t.jsx)(x.Z,{rowKey:"recordId",className:"tableStriped",style:{borderTop:"1px solid #F0F0F0"},scroll:{x:"max-content"},columns:_e,dataSource:N,rowSelection:Ke,loading:z,pagination:!1,onChange:et}),(0,t.jsx)(ve,{visible:f.assignModalVisible,onCancel:function(){return he({assignModalVisible:!1})},selectedRecordIds:ye,projectId:h,deselect:lt,handleDataAssignSuccess:function(){he({assignModalVisible:!1}),C({type:"dataCenter/updateSelectedData",payload:[]})}}),(0,t.jsx)(He.Z,{visible:f.releaseModalVisible,selectedRecordIds:ye,projectId:h,onRefresh:Ve,onClose:function(){return he({releaseModalVisible:!1})}}),(0,t.jsx)(Kt.Z,{projectId:h,onRefresh:Ve}),(0,t.jsx)(Zt.Z,{visible:f.turnBackNewModalVisible,projectId:h,recordList:ye,onCancel:function(){return he({turnBackNewModalVisible:!1})},onRefresh:function(){C({type:"dataCenter/updateSelectedData",payload:[]}),Ve()}}),(0,t.jsx)(Bt,{readonly:E||se,columns:_e.slice(0,5),projectId:h}),(0,t.jsx)(Ye,{visible:!!f.processDataId,projectId:h,recordId:f.processDataId,onClose:function(){return C({type:"dataCenter/updateVisible",payload:{processDataId:null}})}}),(0,t.jsx)(Wt.Z,{visible:f.deleteModalVisible,recordIds:ye,projectId:h,dispatch:C,onClose:function(){return he({deleteModalVisible:!1})},onComplete:function(){he({deleteModalVisible:!1}),Ve()}})]})]})};function Gt(o){var c=o.dataCenter,h=o.projectAccess,I=o.loading;return{filterParams:c.filter,selectedData:c.selectedData,data:c.data,modalVisible:c.modalVisible,bigDataProgress:c.bigDataProgress,loading:I.effects["dataCenter/getList"],isReadonly:h.projectAccess===null||h.projectAccess==="VIEW"}}var zt=(0,u.$j)(Gt)($t)},39399:function(We,q,e){var k=e(26068),_=e.n(k),ee=e(15558),r=e.n(ee),K=e(48305),T=e.n(K),g=e(75271),a=e(66063),B=e(33917),D=e(56138),s=e(70576),ae=e(37704),F=e(52676);function A(l){var M=l.style,me=M===void 0?{}:M,x=l.selectAllButton,L=l.actions,u=L===void 0?null:L,v=l.columns,m=v===void 0?[]:v,p=l.onDeselect,t=l.disabled,H=t===void 0?!1:t,J=l.barVisible,oe=J===void 0?!1:J,de=l.onClear,Z=l.selectedData,$=l.pagination,xe=(0,s.useIntl)(),U=xe.formatMessage,ce=(0,g.useState)(!1),G=T()(ce,2),we=G[0],Re=G[1],ue=[].concat(r()(m),[{title:U({id:"common.operation"}),render:function(Oe){return(0,F.jsx)(a.ZP,{danger:!0,type:"link",style:{padding:0},onClick:function(){return p(Oe)},children:U({id:"common.select-cancel"})})}}]);return Z.length===0&&!oe?null:(0,F.jsxs)("div",{className:"footer-bar",style:_()({position:"fixed",right:0,bottom:0,padding:"16px 24px 18px",backgroundColor:"white",boxShadow:"0px -4px 8px 0px rgba(122, 134, 154, 0.24)",zIndex:2},me),children:[(0,F.jsxs)("div",{children:[x,(0,F.jsx)(a.ZP,{type:"link",style:{padding:0},disabled:H||Z.length===0,onClick:function(){return Re(!0)},children:(0,F.jsx)("span",{style:{textDecoration:"underline"},children:U({id:"common.selected"},{count:Z.length})})}),(0,F.jsx)(a.ZP,{danger:!0,disabled:Z.length===0,type:"link",style:{padding:0,marginLeft:16},onClick:de,children:U({id:"common.clear.selection"})}),$&&(0,F.jsx)(B.Z,_()({style:{float:"right"}},$))]}),u&&(0,F.jsx)("div",{style:{marginTop:16},children:u}),(0,F.jsx)(ae.Z,{visible:we,title:U({id:"common.selected"},{count:Z==null?void 0:Z.length}),width:800,footer:null,maskClosable:!1,onClose:function(){return Re(!1)},children:(0,F.jsx)(D.Z,{scroll:{x:"max-content"},className:"tableStriped",rowKey:"id",columns:ue,dataSource:Z})})]})}q.Z=A},13542:function(We,q,e){var k=e(90228),_=e.n(k),ee=e(87999),r=e.n(ee),K=e(48305),T=e.n(K),g=e(42400),a=e(26950),B=e(61234),D=e(3973),s=e(37704),ae=e(70576),F=e(77960),A=e(75271),l=e(81399),M=e(28227),me=e(73095),x=e(5916),L=e(50728),u=e(76093),v=e(52676);function m(p){var t=p.selectedRecordIds,H=p.role,J=H===void 0?"pm":H,oe=p.jobId,de=p.projectId,Z=p.visible,$=p.onClose,xe=p.onRefresh,U=p.dispatch,ce=(0,ae.useIntl)(),G=ce.formatMessage,we=(0,A.useState)(!1),Re=T()(we,2),ue=Re[0],Y=Re[1],Oe=(0,A.useState)("pool"),ze=T()(Oe,2),be=ze[0],$e=ze[1],Fe=(0,A.useState)(!1),nt=T()(Fe,2),Te=nt[0],ge=nt[1],ve=(0,A.useState)([]),He=T()(ve,2),Se=He[0],Be=He[1],Ye=(0,A.useState)(null),Ne=T()(Ye,2),n=Ne[0],y=Ne[1],V=function(){var W=r()(_()().mark(function je(){var Ze;return _()().wrap(function(te){for(;;)switch(te.prev=te.next){case 0:if(!(J==="pm"&&t.length>u.O)){te.next=3;break}return U({type:"dataCenter/bigDataAction",payload:{projectId:de,actionType:"release",reAssignedWorkerId:n,recordIds:t}}),te.abrupt("return");case 3:if(Y(!0),te.prev=4,J!=="bpo"){te.next=11;break}return te.next=8,(0,x.sV)({projectId:de,jobId:oe,recordIds:t,reAssignedWorkerId:n});case 8:te.t0=te.sent,te.next=14;break;case 11:return te.next=13,(0,M.U2)({projectId:de,recordIds:t,reAssignedWorkerId:n});case 13:te.t0=te.sent;case 14:Ze=te.t0,Ze.status===me.o.OK?(g.ZP.success(G({id:"release-success"},{count:Ze.data})),$(),xe()):g.ZP.error((0,l.R$)(Ze)),te.next=21;break;case 18:te.prev=18,te.t1=te.catch(4),g.ZP.error((0,l.R$)(te.t1));case 21:return te.prev=21,Y(!1),te.finish(21);case 24:case"end":return te.stop()}},je,null,[[4,18,21,24]])}));return function(){return W.apply(this,arguments)}}();return(0,A.useEffect)(function(){if(Z){if(J==="bpo"){ge(!0);return}(0,M.V5)({projectId:de,recordIds:t}).then(function(W){W.status===me.o.OK?ge(W.data):g.ZP.error((0,l.R$)(W))}).catch(function(W){return g.ZP.error((0,l.R$)(W))})}else $e("pool"),ge(!1),y(null)},[Z]),(0,A.useEffect)(function(){Te&&(0,M.XA)({projectId:de,recordIds:t,pageIndex:0,pageSize:1e5}).then(function(W){W.status===me.o.OK?Be(W.data.results):g.ZP.error((0,l.R$)(W))}).catch(function(W){return g.ZP.error((0,l.R$)(W))})},[Te]),(0,v.jsxs)(s.Z,{title:G({id:"project.detail.data-center.release.title"},{num:t.length}),visible:Z,onSave:V,saveLoading:ue,disabled:be==="worker"&&!n,onClose:$,children:[(0,v.jsx)(a.Z,{message:(0,v.jsxs)("h3",{style:{marginLeft:-8,color:"#42526e",fontSize:14},children:[(0,v.jsx)(L.Z,{style:{color:"#E1AB0A",marginRight:6}}),G({id:"project.detail.data-center.release.tip.title"})]}),description:(0,v.jsxs)("div",{style:{marginLeft:12},children:[(0,v.jsx)("p",{style:{margin:0,color:"#42526e"},children:G({id:"project.detail.data-center.release.tip.content-1"})}),(0,v.jsx)("p",{style:{margin:0,color:"#42526e"},children:G({id:"project.detail.data-center.release.tip.content-2"})}),(0,v.jsx)("p",{style:{margin:0,color:"#42526e"},children:G({id:"project.detail.data-center.release.tip.content-3"})})]}),type:"warning",style:{marginBottom:16}}),(0,v.jsx)("p",{style:{margin:"0 0 16px",fontWeight:"bold",color:"#42526e"},children:G({id:"project.detail.data-center.release.select-type"})}),(0,v.jsxs)(B.ZP.Group,{onChange:function(je){$e(je.target.value),y(null)},value:be,children:[(0,v.jsx)(B.ZP,{value:"pool",style:{color:be==="pool"?"#42526e":"#7a869a",marginBottom:8},children:G({id:"project.detail.data-center.release.to-pool"})}),(0,v.jsx)(B.ZP,{value:"worker",style:{color:be==="worker"?"#42526e":"#7a869a"},disabled:!Te,children:G({id:"project.detail.data-center.release.to-worker"})})]}),be==="worker"&&(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)("p",{style:{margin:"24px 0 16px",fontWeight:"bold",color:"#42526e"},children:G({id:"project.detail.data-center.release.select-worker"})}),(0,v.jsx)(D.Z,{style:{width:348},showSearch:!0,onChange:function(je){return y(je)},value:n,filterOption:function(je,Ze){return Ze.children.toLowerCase().includes(je.toLowerCase())},onPopupScroll:function(){for(var je=arguments.length,Ze=new Array(je),Qe=0;Qe<je;Qe++)Ze[Qe]=arguments[Qe];return console.log(Ze)},children:Se.map(function(W){return(0,v.jsx)(D.Z.Option,{children:W.uniqueName},W.workerId)})})]})]})}q.Z=(0,F.$j)()(m)},77659:function(We,q,e){e.d(q,{AD:function(){return T},Mq:function(){return x},NR:function(){return M},Pe:function(){return D},UX:function(){return ae},uy:function(){return A},vC:function(){return a}});var k=e(90228),_=e.n(k),ee=e(87999),r=e.n(ee),K=e(49075);function T(u,v){return g.apply(this,arguments)}function g(){return g=r()(_()().mark(function u(v,m){return _()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",K.Z.post("/job/report/result-report",{params:{jobId:v,isWholeFlow:m}}));case 1:case"end":return t.stop()}},u)})),g.apply(this,arguments)}function a(u){return B.apply(this,arguments)}function B(){return B=r()(_()().mark(function u(v){var m;return _()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return m="/job/report/partial-result-status",t.abrupt("return",K.Z.get(m,{params:{jobId:v}}));case 2:case"end":return t.stop()}},u)})),B.apply(this,arguments)}function D(u){return s.apply(this,arguments)}function s(){return s=r()(_()().mark(function u(v){return _()().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return p.abrupt("return",K.Z.post("/project/result/report/result-report",{data:v}));case 1:case"end":return p.stop()}},u)})),s.apply(this,arguments)}function ae(u){return F.apply(this,arguments)}function F(){return F=r()(_()().mark(function u(v){return _()().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return p.abrupt("return",K.Z.post("/project/result/report/bpo/result-report",{data:v}));case 1:case"end":return p.stop()}},u)})),F.apply(this,arguments)}function A(u,v,m){return l.apply(this,arguments)}function l(){return l=r()(_()().mark(function u(v,m,p){return _()().wrap(function(H){for(;;)switch(H.prev=H.next){case 0:return H.abrupt("return",K.Z.get("/project/result/report/bpo/report-result-status",{params:{projectId:v,jobId:m,id:p}}));case 1:case"end":return H.stop()}},u)})),l.apply(this,arguments)}function M(u){return me.apply(this,arguments)}function me(){return me=r()(_()().mark(function u(v){return _()().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return p.abrupt("return",K.Z.get("/project/report/center/list",{params:v}));case 1:case"end":return p.stop()}},u)})),me.apply(this,arguments)}function x(u,v){return L.apply(this,arguments)}function L(){return L=r()(_()().mark(function u(v,m){return _()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",K.Z.post("/project/report/center/cancel",{params:{projectId:v,reportId:m}}));case 1:case"end":return t.stop()}},u)})),L.apply(this,arguments)}}}]);
