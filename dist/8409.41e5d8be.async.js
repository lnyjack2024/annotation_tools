"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[8409],{70370:function(je,O,e){var B=e(42400),C=e(66063),N=e(70576),_=e(58226),ae=e.n(_),v=e(37704),E=e(7294),a=e(52676);function m(g){var W=g.visible,z=g.type,d=z===void 0?E.C.CREATE:z,p=g.onClose,c=g.username,k=g.password,j=(0,N.useIntl)(),i=j.formatMessage;return(0,a.jsx)(v.Z,{visible:W,onClose:p,showFooter:!1,title:i({id:d===E.C.RESET?"common.message.success.reset":"common.message.success.add"}),children:(0,a.jsxs)("div",{style:{height:140,textAlign:"center"},children:[(0,a.jsx)("p",{style:{color:"#42526e"},children:d===E.C.RESET?i({id:"common.reset.password.success"},{username:c}):i({id:"common.add.username.success"},{username:c})}),(0,a.jsx)(_.CopyToClipboard,{text:i({id:"common.username.copy.text"},{username:c,password:k}),onCopy:function(){return B.ZP.success(i({id:"worker.actions.copy-success"}))},children:(0,a.jsx)(C.ZP,{type:"primary",children:i({id:"common.username.copy"})})})]})})}O.Z=m},65167:function(je,O,e){e.d(O,{Z:function(){return K}});var B=e(82092),C=e.n(B),N=e(26068),_=e.n(N),ae=e(48305),v=e.n(ae),E=e(75271),a=e(45269),m=e(96394),g=e(90966),W=e(3973),z=e(34749),d=e(61234),p=e(21103),c=e(66063),k=e(70576),j=e(18023),i=e(52676);function K(re){var H=(0,k.useIntl)(),I=H.formatMessage,M=re||{},oe=M.formLayout,pe=oe===void 0?"inline":oe,$=M.formItems,fe=$===void 0?[]:$,le=M.formStyle,ve=le===void 0?{marginBottom:15}:le,de=M.formItemStyle,se=de===void 0?{}:de,ue=M.buttonStyle,J=ue===void 0?{}:ue,n=M.children,Te=M.extraItems,Ie=M.initialValue,Se=Ie===void 0?{}:Ie,Me=M.value,be=M.onFilterValueChange,S=M.onReset,Q=M.searchMode,Le=Q===void 0?"change":Q,De=M.isReset,Pe=De===void 0?!0:De,Be=(0,E.useState)(Se),Ue=v()(Be,2),Y=Ue[0],Oe=Ue[1],Ne=(0,j.Z)(be,1e3),ye=function(u,b){var Ae=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;Oe(_()(_()({},Y),{},C()({},u.key,b))),Le==="change"&&(Ae?Ne(_()(_()({},Y),{},C()({},u.key,b))):be(_()(_()({},Y),{},C()({},u.key,b)))),u.onChange&&u.onChange(b)},Ke=function(){be(Y)},We=function(){Oe({}),be({}),S&&S()};return(0,E.useEffect)(function(){Me&&Oe(Me)},[Me]),(0,i.jsxs)(m.Z,{layout:pe,style:ve,children:[Te,fe.map(function(t){return(0,i.jsx)(m.Z.Item,{colon:!!(t!=null&&t.label),label:(0,i.jsx)("span",{style:{color:"#42526e"},children:t==null?void 0:t.label}),style:_()({marginBottom:16},se),children:function(){switch(t.type){case a.aH.Text:return(0,i.jsx)(g.Z,{allowClear:t.allowClear||!1,disabled:t.disabled||!1,value:Y[t.key],onChange:function(b){return ye(t,b.target.value,!0)},placeholder:t.placeholder||I({id:"common.input.placeholder"}),style:t.style||{width:220}});case a.aH.Single:return(0,i.jsx)(W.Z,{allowClear:t.allowClear||!1,disabled:t.disabled||!1,value:Y[t.key],showSearch:"showSearch"in t?t.showSearch:!0,optionFilterProp:"children",filterOption:function(b,Ae){return Ae.props.children.toLowerCase().indexOf(b.toLowerCase())>=0},onChange:function(b){return ye(t,b)},style:t.style||{width:220},placeholder:t.placeholder||I({id:"common.select.placeholder"}),children:t.options.map(function(u){return(0,i.jsx)(W.Z.Option,{value:t.optionValueKey?u[t.optionValueKey]:u,children:t.optionLabelKey?u[t.optionLabelKey]:t.optionLabel(u)},t.optionValueKey?u[t.optionValueKey]:u)})});case a.aH.Multiple:return(0,i.jsx)(W.Z,{allowClear:t.allowClear||!1,disabled:t.disabled||!1,mode:"multiple",showArrow:!0,value:Y[t.key]||[],maxTagCount:t.maxTagCount||100,showSearch:"showSearch"in t?t.showSearch:!0,optionFilterProp:t.optionFilterProp||"children",filterOption:"optionFilterProp"in t||function(u,b){return b.props.children.toLowerCase().indexOf(u.toLowerCase())>=0},onChange:function(b){return ye(t,b,!0)},style:t.style||{width:220},placeholder:t.placeholder||I({id:"common.select.placeholder"}),children:t.options.map(function(u){return(0,i.jsx)(W.Z.Option,{value:t.optionValueKey?u[t.optionValueKey]:u,label:t.optionLabelKey?u[t.optionLabelKey]:u,children:t.optionLabel?t.optionLabel(u):u[t.optionLabelKey]},t.optionValueKey?u[t.optionValueKey]:u)})});case a.aH.Cascader:return(0,i.jsx)(z.Z,{options:t.options,value:Y[t.key]||[],fieldNames:t.fieldNames,style:t.style||{width:240},changeOnSelect:!0,showSearch:t.showSearch,onChange:function(b){return ye(t,b,!0)}});case a.aH.CascaderMultiple:return(0,i.jsx)(z.Z,{options:t.options,value:Y[t.key]||[],fieldNames:t.fieldNames,style:t.style||{width:240},changeOnSelect:!0,multiple:!0,maxTagCount:2,placeholder:I({id:"common.select.placeholder"}),showSearch:t.showSearch,onChange:function(b){return ye(t,b,!0)}});case a.aH.Radio:return(0,i.jsx)(d.ZP.Group,{value:Y[t.key],style:t.style,onChange:function(b){ye(t,b.target.value,!0)},children:t.options.map(function(u){return(0,i.jsx)(d.ZP,{value:t.optionValueKey?u[t.optionValueKey]:u,children:t.optionLabelKey?u[t.optionLabelKey]:t.optionLabel(u)},t.optionValueKey?u[t.optionValueKey]:u)})});case a.aH.DateRanger:return(0,i.jsx)(p.Z.RangePicker,{style:t.style||{width:240},allowClear:t.allowClear,value:Y[t.key],onChange:function(b){return ye(t,b,!0)},disabledDate:t.disabledDate});default:return null}}()},t.key||JSON.stringify(t))}),Le==="click"&&(0,i.jsxs)("div",{style:J,children:[(0,i.jsx)(c.ZP,{type:"primary",className:"btn-width",style:{margin:"0 16px 0 0"},onClick:Ke,children:I({id:"common.search"})}),Pe&&(0,i.jsx)(c.ZP,{className:"btn-width",onClick:We,children:I({id:"common.reset"})})]}),n]})}},93844:function(je,O,e){e.d(O,{Z:function(){return z}});var B=e(26068),C=e.n(B),N=e(75271),_=e(17078),ae=e(70576),v=e(34375),E=e(72788),a=e(52676);function m(d){var p=d.onBack,c=d.title,k=d.content,j=d.actions,i=d.backTitle,K=d.titleIcon,re=function(){if(p){p();return}ae.history.goBack()},H=function(){return typeof i=="string"?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(_.Z,{})," ",i]}):N.isValidElement(i)?i:null};return(0,a.jsx)(E.m,{className:v.Z["page-header"],ghost:!1,backIcon:H(),onBack:function(){return re()},title:" ",children:k?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",C()(C()({className:v.Z["page-title-container"]},!H()&&{style:{marginTop:32}}),{},{children:(0,a.jsxs)("span",{className:v.Z["page-title"],children:[K&&(0,a.jsx)("span",{className:v.Z["title-icon"],children:K}),c]})})),(0,a.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",overflowX:"auto"},children:[(0,a.jsx)("span",{children:k}),(0,a.jsx)("span",{children:j})]})]}):(0,a.jsxs)("div",C()(C()({className:v.Z["page-title-container"]},!H()&&{style:{marginTop:32}}),{},{children:[(0,a.jsxs)("span",{className:v.Z["page-title"],children:[K&&(0,a.jsx)("span",{className:v.Z["title-icon"],children:K}),c]}),(0,a.jsx)("span",{children:j})]}))})}var g=e(65715);function W(d){var p=d.children,c=d.menuItems,k=d.defaultSelectedKeys;return(0,a.jsxs)(a.Fragment,{children:[c&&(0,a.jsx)(g.Z,{className:v.Z["page-menu"],mode:"horizontal",selectedKeys:k||[],children:c.map(function(j){return(0,a.jsx)(g.Z.Item,{onClick:function(){j.action()},children:j.title},j.key)})}),(0,a.jsx)("div",{className:v.Z["page-content"],children:p})]})}function z(d){var p=d.title,c=d.titleIcon,k=d.backTitle,j=d.content,i=d.actions,K=d.children,re=d.onBack,H=d.menuItems,I=d.defaultSelectedKeys;return(0,a.jsxs)("div",{children:[(0,a.jsx)(m,{title:p,backTitle:k,actions:i,content:j,onBack:re,titleIcon:c}),(0,a.jsx)(W,{menuItems:H,defaultSelectedKeys:I,children:K})]})}},37704:function(je,O,e){e.d(O,{Z:function(){return d}});var B=e(26068),C=e.n(B),N=e(67825),_=e.n(N),ae=e(15409),v=e(32109),E=e(66063),a=e(70576),m={title:"title___HzaYw",close:"close___VzstS",buttons:"buttons___tNcsM"},g=e(52676),W=["width","visible","title","children","showFooter","onSave","onClose","saveLoading","disabled","isCancelBtnShow"];function z(p){var c=p.width,k=c===void 0?500:c,j=p.visible,i=p.title,K=p.children,re=p.showFooter,H=re===void 0?!0:re,I=p.onSave,M=p.onClose,oe=p.saveLoading,pe=oe===void 0?!1:oe,$=p.disabled,fe=$===void 0?!1:$,le=p.isCancelBtnShow,ve=le===void 0?!0:le,de=_()(p,W),se=(0,a.useIntl)(),ue=se.formatMessage;return(0,g.jsxs)(v.Z,C()(C()({width:k,visible:j,closable:!1,destroyOnClose:!0,title:null,footer:null},de),{},{children:[(0,g.jsxs)("h2",{className:m.title,children:[i,(0,g.jsx)(E.ZP,{type:"link",icon:(0,g.jsx)(ae.Z,{}),className:m.close,onClick:M})]}),K,H&&(0,g.jsxs)("div",{className:m.buttons,children:[ve&&(0,g.jsx)(E.ZP,{className:m.cancel,disabled:fe,onClick:M,children:ue({id:"common.cancel"})}),(0,g.jsx)(E.ZP,{className:m.save,type:"primary",loading:pe,disabled:fe,onClick:function(){I&&I()},children:ue({id:"common.ok"})})]})]}))}var d=z},7294:function(je,O,e){e.d(O,{C:function(){return He},Z:function(){return dt}});var B=e(26068),C=e.n(B),N=e(90228),_=e.n(N),ae=e(87999),v=e.n(ae),E=e(48305),a=e.n(E),m=e(75271),g=e(70576),W=e(13554),z=e(887),d=e(42400),p=e(66063),c=e(65715),k=e(26569),j=e(63091),i=e(70139),K=e(93579),re=e(41388),H=e(56138),I=e(65167),M=e(93844),oe=e(45269),pe=e(37704),$=e(96394),fe=e(62057),le=e(43718),ve=e(90966),de=e(27253),se=e(82162),ue=e(42697),J=e(99076),n=e(52676),Te=$.Z.Item;function Ie(o){var A=o.visible,D=o.roles,V=D===void 0?[]:D,w=o.tags,L=w===void 0?[]:w,P=o.onSave,X=o.onClose,F=(0,g.useIntl)(),y=F.formatMessage,ie=(0,m.useState)(!1),T=a()(ie,2),q=T[0],U=T[1],R=$.Z.useForm(),Ce=a()(R,1),xe=Ce[0],ee=function(){xe.validateFields().then(function(){var te=v()(_()().mark(function _e(l){return _()().wrap(function(we){for(;;)switch(we.prev=we.next){case 0:return Object.assign(l,{uniqueName:l.uniqueName.trim()}),U(!0),we.next=4,P(l);case 4:U(!1);case 5:case"end":return we.stop()}},_e)}));return function(_e){return te.apply(this,arguments)}}())};return(0,m.useEffect)(function(){A||xe.resetFields()},[A]),(0,n.jsx)(pe.Z,{title:y({id:"job-detail.workforce.add"}),visible:A,onClose:X,onSave:ee,saveLoading:q,destroyOnClose:!0,children:(0,n.jsxs)($.Z,{layout:"vertical",form:xe,children:[(0,n.jsx)(fe.Z,{gutter:[24,24],children:(0,n.jsx)(le.Z,{span:24,children:(0,n.jsx)(Te,{label:(0,n.jsx)("span",{className:se.Z["form-label"],children:y({id:"common.username"})}),colon:!1,className:se.Z["form-item"],name:"uniqueName",rules:[{required:!0,message:y({id:"common.input.placeholder.with-label"},{label:y({id:"common.username"})})},{pattern:ue.yJ,message:y({id:"common.format.error"})}],children:(0,n.jsx)(ve.Z,{})})})}),(0,J.mC)()&&(0,n.jsx)(fe.Z,{gutter:[24,24],children:(0,n.jsx)(le.Z,{span:24,children:(0,n.jsx)(Te,{label:(0,n.jsx)("span",{className:se.Z["form-label"],children:y({id:"common.email"})}),colon:!1,className:se.Z["form-item"],name:"email",rules:[{required:!0,message:y({id:"common.input.placeholder.with-label"},{label:y({id:"common.email"})})},{pattern:ue.HN,message:y({id:"common.format.error"})}],children:(0,n.jsx)(ve.Z,{})})})}),(0,n.jsx)(fe.Z,{gutter:[24,24],children:(0,n.jsx)(le.Z,{span:24,children:(0,n.jsx)(Te,{label:(0,n.jsx)("span",{className:se.Z["form-label"],children:y({id:"bpo-worker.table.column.role"})}),colon:!1,className:se.Z["form-item"],rules:[{required:!0,message:y({id:"common.select.placeholder.with-label"},{label:y({id:"bpo-worker.table.column.role"})})}],name:"role",children:(0,n.jsx)(de.Z.Group,{children:V.map(function(G){return(0,n.jsx)(de.Z,{value:G.id,children:y({id:"common.role.".concat(G.name)})},G.id)})})})})})]})})}var Se=Ie,Me=e(70370),be=e(94721),S=e(75949),Q=e(58226),Le=e.n(Q),De=e(81399),Pe=e(11091),Be=e(27141);function Ue(o){var A=o.tags,D=o.onRefresh,V=o.isBpo,w=V===void 0?!1:V,L=o.bpoId,P=L===void 0?"":L,X=(0,m.useState)(!1),F=a()(X,2),y=F[0],ie=F[1],T=(0,m.useState)(!1),q=a()(T,2),U=q[0],R=q[1],Ce=function(){var ee=v()(_()().mark(function G(te){return _()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:if(R(!0),l.prev=1,!w){l.next=7;break}return l.next=5,(0,Pe.oH)(te,P);case 5:l.next=9;break;case 7:return l.next=9,(0,Pe.$f)(te);case 9:return l.next=11,D();case 11:l.next=16;break;case 13:l.prev=13,l.t0=l.catch(1),d.ZP.error((0,De.R$)(l.t0));case 16:return l.prev=16,R(!1),l.finish(16);case 19:case"end":return l.stop()}},G,null,[[1,13,16,19]])}));return function(te){return ee.apply(this,arguments)}}(),xe=function(){var ee=v()(_()().mark(function G(te){return _()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:if(R(!0),l.prev=1,!w){l.next=7;break}return l.next=5,(0,Pe.Fd)(te,P);case 5:l.next=9;break;case 7:return l.next=9,(0,Pe.aQ)(te);case 9:return l.next=11,D();case 11:l.next=16;break;case 13:l.prev=13,l.t0=l.catch(1),d.ZP.error((0,De.R$)(l.t0));case 16:return l.prev=16,R(!1),l.finish(16);case 19:case"end":return l.stop()}},G,null,[[1,13,16,19]])}));return function(te){return ee.apply(this,arguments)}}();return(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(Be.Z,{visible:y,tags:A,onCancel:function(){return ie(!1)},addGlobalTag:Ce,deleteGlobalTag:xe,updating:U})})}var Y=Ue;function Oe(o){var A=o.visible,D=o.user,V=o.onSuccess,w=o.onClose,L=(0,g.useIntl)(),P=L.formatMessage,X=D||{},F=X.uniqueName,y=function(){var ie=v()(_()().mark(function T(){var q;return _()().wrap(function(R){for(;;)switch(R.prev=R.next){case 0:return R.next=2,(0,Pe.c0)({name:F});case 2:q=R.sent,V(q.data);case 4:case"end":return R.stop()}},T)}));return function(){return ie.apply(this,arguments)}}();return(0,n.jsxs)(pe.Z,{visible:A,title:P({id:"common.reset.password"}),onClose:w,showFooter:!1,children:[(0,n.jsx)("p",{style:{color:"#42526e"},children:P({id:"user.reset.password"},{username:F})}),(0,n.jsxs)("div",{style:{textAlign:"right"},children:[(0,n.jsx)(p.ZP,{style:{marginRight:8},onClick:w,children:P({id:"common.cancel"})}),(0,n.jsx)(p.ZP,{danger:!0,onClick:y,children:P({id:"common.reset.confirm"})})]})]})}var Ne=Oe,ye=e(73095);function Ke(o){var A=o.roles,D=o.user,V=o.onClose,w=o.onUpdate,L=(0,g.useIntl)(),P=L.formatMessage,X=(0,m.useState)([]),F=a()(X,2),y=F[0],ie=F[1];return(0,m.useEffect)(function(){ie((D==null?void 0:D.role)||[])},[D]),(0,n.jsx)(pe.Z,{title:P({id:"menu.project-admin.access-control"}),visible:!!D,onClose:V,onSave:function(){return w(y)},disabled:y.length===0,children:(0,n.jsx)(de.Z.Group,{value:y,onChange:function(q){return ie(q)},children:A.map(function(T){return(0,n.jsx)(de.Z,{value:T.id,children:P({id:"common.role.".concat(T.name)})},T.id)})})})}var We=Ke,t=e(37610),u=e(14543),b=e(53577),Ae=e(28227);function lt(o){var A=o.user,D=o.disabled,V=o.onDelete,w=(0,u.YB)(),L=w.formatMessage,P=(0,m.useState)(0),X=a()(P,2),F=X[0],y=X[1],ie=(0,m.useState)(!1),T=a()(ie,2),q=T[0],U=T[1],R=(0,m.useState)(!1),Ce=a()(R,2),xe=Ce[0],ee=Ce[1],G=function(){var _e=v()(_()().mark(function l(){var me;return _()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return ee(!0),r.prev=1,r.next=4,(0,Ae.r$)(A.id);case 4:if(me=r.sent,me.status!==b.oj.OK&&d.ZP.error((0,J.R$)(me)),me.data!==0){r.next=11;break}return r.next=9,V(A);case 9:r.next=13;break;case 11:U(!0),y(me.data);case 13:r.next=18;break;case 15:r.prev=15,r.t0=r.catch(1),d.ZP.error((0,J.R$)(r.t0));case 18:return r.prev=18,ee(!1),r.finish(18);case 21:case"end":return r.stop()}},l,null,[[1,15,18,21]])}));return function(){return _e.apply(this,arguments)}}(),te=function(){var _e=v()(_()().mark(function l(){var me;return _()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return ee(!0),r.prev=1,r.next=4,V(A);case 4:me=r.sent,me.status===b.oj.OK&&(U(!1),d.ZP.success(L({id:"common.message.success.delete"}))),r.next=11;break;case 8:r.prev=8,r.t0=r.catch(1),d.ZP.error((0,J.R$)(r.t0));case 11:return r.prev=11,ee(!1),r.finish(11);case 14:case"end":return r.stop()}},l,null,[[1,8,11,14]])}));return function(){return _e.apply(this,arguments)}}();return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(t.Z,{title:L({id:"common.confirm.delete.user"},{name:A.uniqueName}),onConfirm:G,children:(0,n.jsx)(c.Z.Item,{style:{textAlign:"center"},children:(0,n.jsx)(p.ZP,{type:"link",danger:!0,disabled:D,children:L({id:"common.delete"})})},"delete")},"deleteUser"),(0,n.jsx)(pe.Z,{visible:q,title:L({id:"common.delete"}),onClose:function(){return U(!1)},onSave:te,saveLoading:xe,children:(0,n.jsx)("p",{children:L({id:"user.delete.warning"},{count:F})})})]})}var st=lt,He=function(o){return o.CREATE="CREATE",o.RESET="RESET",o}({}),ce=function(o){return o.ADD="ADD",o.DELETE="DELETE",o.ACTIVATE="ACTIVATE",o.INACTIVATE="INACTIVATE",o.ROLE_CHANGE="ROLE_CHANGE",o}(ce||{});function it(o){var A=o.isBpo,D=A===void 0?!1:A,V=o.disabled,w=V===void 0?!1:V,L=o.bpoId,P=L===void 0?"":L,X=o.bpoName,F=X===void 0?"":X,y=o.loading,ie=o.total,T=o.workerNum,q=o.users,U=o.roles,R=o.tags,Ce=o.type,xe=o.tagRefresh,ee=o.deleteUser,G=o.enableUser,te=o.disableUser,_e=o.addUser,l=o.getUsers,me=o.roleChange,we=(0,g.useIntl)(),r=we.formatMessage,ut=(0,g.useModel)("@@initialState"),ct=ut.initialState,_t=(0,m.useState)({pageIndex:0,pageSize:be.L8}),$e=a()(_t,2),Ee=$e[0],Je=$e[1],mt=(0,m.useState)(!1),Qe=a()(mt,2),ht=Qe[0],ze=Qe[1],gt=(0,m.useState)(null),Ye=a()(gt,2),Xe=Ye[0],Ve=Ye[1],pt=(0,m.useState)(null),qe=a()(pt,2),et=qe[0],Fe=qe[1],ft=(0,m.useState)(null),tt=a()(ft,2),Ze=tt[0],Ge=tt[1],vt=(0,m.useState)(null),nt=a()(vt,2),at=nt[0],bt=nt[1],yt=(0,m.useState)(null),rt=a()(yt,2),Ct=rt[0],xt=rt[1],ot=ct.currentUser,Et=[{key:"name",label:r({id:"common.username"}),type:oe.aH.Text,allowClear:!0},{key:"role",label:r({id:"bpo-worker.table.column.role"}),options:U,optionValueKey:"code",optionLabel:function(s){return r({id:"common.role.".concat(s.name)})},type:oe.aH.Single,allowClear:!0},{key:"activeStatus",label:r({id:"bpo-list.bpo.status"}),type:oe.aH.Single,options:Object.keys(S.J),optionLabel:function(s){return r({id:"common.user.status.".concat(s.toLowerCase())})},allowClear:!0},(0,J.mC)()?{key:"email",label:r({id:"common.email"}),type:oe.aH.Text,allowClear:!0}:null].filter(function(f){return!!f}),jt=function(s){return[s.activeStatus===S.J.TO_BE_ACTIVE?(0,n.jsx)(Le(),{text:r({id:"common.username.copy.text"},{username:s.uniqueName,password:s.initialPassword}),onCopy:function(){return d.ZP.success("Copy Successfully")},children:(0,n.jsx)(p.ZP,{type:"link",children:r({id:"common.username.copy"})})},"copyToClipboard"):(0,n.jsx)(p.ZP,{type:"link",onClick:function(){return Ve(s)},disabled:w,children:r({id:"menu.password-forget"})},"reset"),(0,n.jsx)(st,{user:s,disabled:w,onDelete:function(){return Re(ce.DELETE,s)}}),s.activeStatus===S.J.INACTIVE&&(0,n.jsx)(c.Z.Item,{style:{textAlign:"center"},onClick:function(){return Re(ce.ACTIVATE,s)},children:(0,n.jsx)(p.ZP,{type:"link",disabled:w,children:r({id:"bpo-list.bpo.operation.activate"})})},"activate"),s.activeStatus===S.J.ACTIVE&&(0,n.jsx)(c.Z.Item,{style:{textAlign:"center"},onClick:function(){return Re(ce.INACTIVATE,s)},children:(0,n.jsx)(p.ZP,{type:"link",danger:!0,disabled:w,children:r({id:"bpo-list.bpo.operation.inactivate"})})},"inactivate")].filter(function(Z){return!!Z})},St=function(s){Fe(s)},Mt=[{key:"uniqueName",title:r({id:"common.username"}),dataIndex:"uniqueName",render:function(s){return(0,n.jsxs)("span",{children:[s===ot.name&&(0,n.jsx)("span",{style:{float:"left",width:28,height:22,marginRight:8,background:"#227a7a",borderRadius:2,color:"#fff",textAlign:"center"},children:r({id:"common.me"})}),s]})}},{key:"role",title:r({id:"bpo-worker.table.column.role"}),dataIndex:"role",render:function(s,Z){var he=U.length>0?(s||[]).map(function(x){return U.find(function(ke){return ke.id===x})}).filter(function(x){return x}):[],ge=!!he.find(function(x){return!x.type}),ne=he.map(function(x){return r({id:"common.role.".concat(x.name)})}).join(", ");return(0,n.jsxs)("div",{children:[ne,(0,n.jsx)(p.ZP,{type:"link",icon:(0,n.jsx)(W.Z,{}),disabled:ge||w,onClick:function(){return St(Z)}})]})}},{key:"activeStatus",title:r({id:"bpo-list.bpo.status"}),dataIndex:"activeStatus",render:function(s){return(0,n.jsx)(k.Z,{color:s===S.J.ACTIVE?"#52c41a":s===S.J.TO_BE_ACTIVE?"#f56c6c":"#7a869a",text:(0,n.jsx)(g.FormattedMessage,{id:"common.user.status.".concat(s.toLowerCase())})})}},{key:"latestLoginTime",title:r({id:"common.last.login"}),dataIndex:"latestLoginTime",sorter:!0},(0,J.mC)()?{key:"email",title:r({id:"common.email"}),dataIndex:"email"}:null,{key:"operation",title:r({id:"common.operation"}),render:function(s){if(s.uniqueName===ot.name)return null;var Z=U.find(function(ne){return!ne.type}),he=!!(s.role||[]).find(function(ne){return ne===(Z==null?void 0:Z.id)});if(he)return null;var ge=jt(s);return ge.length===0?null:(0,n.jsxs)(n.Fragment,{children:[ge[0],ge.length>1&&(0,n.jsx)(j.Z,{placement:"bottomRight",trigger:["hover"],overlay:(0,n.jsx)(c.Z,{style:{textAlign:"center"},children:ge.slice(1)}),children:(0,n.jsx)(z.Z,{style:{cursor:"pointer",fontSize:20},disabled:w})})]})}}].filter(function(f){return!!f}),Re=function(){var f=v()(_()().mark(function s(Z,he){var ge,ne,x,ke=arguments;return _()().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:ge=ke.length>2&&ke[2]!==void 0?ke[2]:{},h.prev=1,ne=D?he.workerId:he.id,h.t0=Z,h.next=h.t0===ce.ADD?6:h.t0===ce.DELETE?11:h.t0===ce.ACTIVATE?15:h.t0===ce.INACTIVATE?19:h.t0===ce.ROLE_CHANGE?23:27;break;case 6:return h.next=8,_e(he);case 8:return x=h.sent,x.data&&(Ge(x.data),ze(!1)),h.abrupt("break",27);case 11:return h.next=13,ee(ne);case 13:return x=h.sent,h.abrupt("break",27);case 15:return h.next=17,G(ne);case 17:return x=h.sent,h.abrupt("break",27);case 19:return h.next=21,te(ne);case 21:return x=h.sent,h.abrupt("break",27);case 23:return h.next=25,me(ne,ge.roleId);case 25:return x=h.sent,h.abrupt("break",27);case 27:if(x.status===ye.o.OK){h.next=31;break}d.ZP.error((0,De.R$)(x)),h.next=34;break;case 31:return Fe(null),h.next=34,l(Ee);case 34:return h.abrupt("return",x);case 37:h.prev=37,h.t1=h.catch(1),d.ZP.error((0,De.R$)(h.t1));case 40:return h.abrupt("return",null);case 41:case"end":return h.stop()}},s,null,[[1,37]])}));return function(Z,he){return f.apply(this,arguments)}}(),wt=function(s,Z,he){var ge=he,ne=ge.order,x;switch(ne){case"descend":x="DESC";break;case"ascend":x="ASC";break;default:x=null}bt({sortByLatestTime:x})};return(0,m.useEffect)(function(){l(Ee,at)},[Ee,at]),(0,n.jsx)(M.Z,{title:P?r({id:"bpo.title.name"},{name:F}):r({id:"menu.workforce"}),backTitle:P?(0,n.jsxs)(i.Z,{children:[(0,n.jsx)(i.Z.Item,{onClick:function(s){s.preventDefault(),g.history.replace("/bpo-list")},children:r({id:"menu.vm.bpo-list"})}),(0,n.jsx)(i.Z.Item,{children:r({id:"menu.workers-management"})})]}):null,actions:[(0,n.jsx)("span",{style:{color:"#3e5270",marginRight:16},children:r({id:"common.user.count"},T)},"workerNum"),(0,n.jsx)(p.ZP,{type:"primary",disabled:T.limit<=T.count||w,onClick:function(){return ze(!0)},children:r({id:"job-detail.workforce.add"})},"worker"),P?null:(0,n.jsx)(Y,{tags:R,onRefresh:xe,isBpo:D},"bpo-tags")],children:(0,n.jsxs)(K.Z,{bordered:!1,className:"with-shadow",style:{marginTop:20},children:[(0,n.jsx)(I.Z,{formItems:Et,formStyle:{marginBottom:0},formItemStyle:{marginBottom:15},initialValue:Ee,onFilterValueChange:function(s){return Je(C()(C()({},s),{},{pageIndex:0,pageSize:Ee.pageSize}))},searchMode:"click"}),(0,n.jsx)(re.Z,{style:{margin:"0 0 15px"}}),(0,n.jsx)(H.Z,{scroll:{x:"max-content"},className:"tableStriped",rowKey:"id",columns:Mt,dataSource:q,onChange:wt,pagination:{pageSizeOptions:be.TJ,showSizeChanger:!0,current:Ee.pageIndex+1,pageSize:Ee.pageSize,total:ie,onChange:function(s,Z){return Je(C()(C()({},Ee),{},{pageIndex:s-1,pageSize:Z}))},showTotal:function(s){return r({id:"common.total.items"},{items:s})}},loading:y}),(0,n.jsx)(Se,{visible:ht,onSave:function(s){return Re(ce.ADD,s)},roles:U.filter(function(f){return f.type===Ce}),tags:R,onClose:function(){return ze(!1)}}),(0,n.jsx)(Me.Z,{username:Ze==null?void 0:Ze.uniqueName,password:Ze==null?void 0:Ze.initialPassword,type:Ct,visible:!!Ze,onClose:function(){Ge(null),l(Ee)}}),(0,n.jsx)(Ne,{user:Xe,visible:!!Xe,onSuccess:function(s){Ge(s),xt(He.RESET),Ve(null)},onClose:function(){return Ve(null)}}),(0,n.jsx)(We,{user:et,onClose:function(){return Fe(null)},roles:U.filter(function(f){return f.type===Ce}),onUpdate:function(s){return Re(ce.ROLE_CHANGE,et,{roleId:s})}})]})})}var dt=it},18023:function(je,O,e){var B=e(75271),C=function(_,ae){var v=(0,B.useRef)({callback:_,timer:null}),E=v.current;return(0,B.useEffect)(function(){E.callback=_},[_]),(0,B.useCallback)(function(){for(var a=arguments.length,m=new Array(a),g=0;g<a;g++)m[g]=arguments[g];E.timer&&clearTimeout(E.timer),E.timer=setTimeout(function(){E.callback.apply(E,m)},ae)},[])};O.Z=C},27141:function(je,O,e){e.d(O,{Z:function(){return k}});var B=e(48305),C=e.n(B),N=e(75271),_=e(15409),ae=e(30760),v=e(32109),E=e(66830),a=e(90966),m=e(62057),g=e(43718),W=e(50025),z=e(66063),d=e(70576),p=e(82162),c=e(52676);function k(j){var i,K=j.visible,re=j.onCancel,H=j.addGlobalTag,I=j.deleteGlobalTag,M=j.tags,oe=j.updating,pe=(0,d.useIntl)(),$=pe.formatMessage,fe=(0,N.useState)([]),le=C()(fe,2),ve=le[0],de=le[1],se=(0,N.useState)(""),ue=C()(se,2),J=ue[0],n=ue[1],Te=(0,N.useState)(),Ie=C()(Te,2),Se=Ie[0],Me=Ie[1];(0,N.useEffect)(function(){de(M)},[M]);var be=function(){!Se||!Se.trim()||(H(Se.trim()),Me(""))};return(0,c.jsx)(v.Z,{title:$({id:"bpo-list.bpo.tag.global"}),visible:K,footer:null,centered:!0,maskClosable:!1,onCancel:re,afterClose:function(){return n(null)},children:(0,c.jsxs)(E.Z,{spinning:oe,children:[(0,c.jsx)("div",{className:"margin-bottom-4",children:(0,c.jsx)(a.Z,{size:"small",value:J,placeholder:$({id:"bpo-list.bpo.tag.modal.placeholder"}),onChange:function(Q){return n(Q.target.value)},allowClear:!0})}),(0,c.jsx)("div",{className:"flex-between margin-top-2 margin-bottom-2",children:$({id:"bpo-list.bpo.tag.modal.tag.list"})}),(0,c.jsxs)(m.Z,{children:[ve==null||(i=ve.filter(function(S){var Q;return!J||(S==null||(Q=S.name)===null||Q===void 0?void 0:Q.indexOf(J))!==-1}))===null||i===void 0?void 0:i.map(function(S){return(0,c.jsxs)(g.Z,{span:12,style:{display:"flex",alignItems:"center"},children:[(0,c.jsx)(W.Z,{className:"".concat(p.Z.bpoTag," text-ellipsis"),style:{width:160},children:S.name},S.id),(0,c.jsx)(z.ZP,{type:"link",style:{color:"#F56C6C"},icon:(0,c.jsx)(_.Z,{}),onClick:function(){return I(S.id)}})]},S.id)}),(0,c.jsxs)(g.Z,{span:12,children:[(0,c.jsx)(a.Z,{size:"small",value:Se,onChange:function(Q){return Me(Q.target.value)},onPressEnter:be,style:{width:160,verticalAlign:"middle",marginRight:9}}),(0,c.jsx)(z.ZP,{type:"link",icon:(0,c.jsx)(ae.Z,{}),onClick:be,style:{color:"#0ead68"}})]})]})]})})}},34375:function(je,O){O.Z={root:"root___GKj2d",colorWeak:"colorWeak___mio8j","ant-layout":"ant-layout___jAUUr","ant-pro-sider-logo":"ant-pro-sider-logo___xzcZn","footer-bar":"footer-bar___svpWF","ant-pro-global-footer":"ant-pro-global-footer___wB9U6","ant-layout-customize":"ant-layout-customize___h_mGm","ant-pro-layout-content":"ant-pro-layout-content___aNsFI","ant-pro-sider-collapsed-button":"ant-pro-sider-collapsed-button___iyHjZ","ant-tooltip-inner":"ant-tooltip-inner___v3MCI","ant-list-item":"ant-list-item___rFgyo","ant-table":"ant-table___najh6","ant-table-thead":"ant-table-thead___k7etk","ant-table-tbody":"ant-table-tbody___UlQsl","ant-design-pro":"ant-design-pro___YYeXb",ck:"ck___guEzN","ck-content":"ck-content___UN78I",table:"table___T3cyq",tableStriped:"tableStriped____Eaos","table-narrow-row":"table-narrow-row___Ot2vY","ant-table-cell":"ant-table-cell___ErbL1","with-shadow":"with-shadow____vnFU","table-placeholder":"table-placeholder___aSc2G","ant-table-placeholder":"ant-table-placeholder___f7avJ","pull-right":"pull-right___vDBdy","w-100":"w-100___xY8jG","page-header":"page-header___jnE6G","ant-page-header-content":"ant-page-header-content___NQjxf","ant-page-header-back":"ant-page-header-back___FVafn","ant-page-header-back-button":"ant-page-header-back-button___zrM8e","page-title-container":"page-title-container___lID7M","page-title":"page-title___vjzBK","page-content":"page-content___VEMJD","page-menu":"page-menu___zg8yG","ant-menu-item":"ant-menu-item___D6rxL","ant-menu-submenu-title":"ant-menu-submenu-title___rrl7R","ant-menu-inline-collapsed":"ant-menu-inline-collapsed___BWv4R",anticon:"anticon____4uQK","ant-card-head-title":"ant-card-head-title___yCFHe","ant-layout-sider-collapsed":"ant-layout-sider-collapsed___Mbnjg","ant-pro-sider-menu":"ant-pro-sider-menu___eFZvN","ant-pro-sider":"ant-pro-sider___wGBeW","ant-pro-sider-menu-logo":"ant-pro-sider-menu-logo___WvHc1","ant-layout-header":"ant-layout-header___ES6qx","ant-layout-footer":"ant-layout-footer___cKqam","ant-pro-global-footer-links":"ant-pro-global-footer-links___qMEN9","ant-pro-global-footer-copyright":"ant-pro-global-footer-copyright___PMp1B",ruleGroup:"ruleGroup___sdJi4",rule:"rule___OqhmE","ruleGroup-combinators":"ruleGroup-combinators___Jfr87",betweenRules:"betweenRules___VFjsz","ruleGroup-notToggle":"ruleGroup-notToggle___f3rJq","highlight-tree":"highlight-tree___hbzkU","ant-tree-title":"ant-tree-title___By75Q","border-none":"border-none___P8D0H",comment:"comment___i31bQ","ant-comment-actions":"ant-comment-actions___thQe3","text-ellipsis":"text-ellipsis___ANpdv","text-right":"text-right___UDzcP","text-center":"text-center___RxU3B","text-left":"text-left___rFQTs","editor-content-img":"editor-content-img___wy5LH","image-style-align-left":"image-style-align-left___nkYCu","question-card":"question-card___DSt05","ant-list-split":"ant-list-split___kPtaw","ant-list-header":"ant-list-header___WmgV7","tree-body":"tree-body___yk0iV","ant-tree":"ant-tree___UvBRS","ant-tree-node-content-wrapper":"ant-tree-node-content-wrapper___TNYQv","ant-tree-node-selected":"ant-tree-node-selected___px23C","ant-tree-child-tree":"ant-tree-child-tree___rgCt6","ant-tree-directory":"ant-tree-directory___BvIMQ","ant-menu":"ant-menu___zPGo9","ant-menu-horizontal":"ant-menu-horizontal___Cic5G","ant-menu-item-selected":"ant-menu-item-selected___Hl_pa","worker-question-card":"worker-question-card___irnC2",formContainer:"formContainer___mwqVP",formWrap:"formWrap___tlEp8","ant-legacy-form-item-label":"ant-legacy-form-item-label___BEgWA","g-recaptcha-wrapper":"g-recaptcha-wrapper___KLRc2","g-recaptcha":"g-recaptcha___S2WL8","text-muted":"text-muted___w5kD_","ck-height":"ck-height___e4Ziy","editable-cell":"editable-cell___tZGJo","editable-cell-value-wrap":"editable-cell-value-wrap___xNJZW","editable-row":"editable-row___aKHA4","checkbox-custom":"checkbox-custom___S0NUz","ant-checkbox-checked":"ant-checkbox-checked___diAQJ","ant-checkbox-inner":"ant-checkbox-inner___x_cdo","ant-table-row-selected":"ant-table-row-selected___YNHjv","ant-checkbox-wrapper":"ant-checkbox-wrapper___Hluir","ant-checkbox":"ant-checkbox___w8Q8x","ant-checkbox-input":"ant-checkbox-input___BHD6P","ck-editor-content":"ck-editor-content___a3T_W","title-icon":"title-icon___H1fAC","margin-top-1":"margin-top-1___sOxX8","margin-bottom-1":"margin-bottom-1___bzaDq","margin-right-1":"margin-right-1___JBTLP","margin-left-1":"margin-left-1___y0N2o","margin-top-2":"margin-top-2___Rgetu","margin-bottom-2":"margin-bottom-2___GpqLA","margin-right-2":"margin-right-2___i3Efr","margin-left-2":"margin-left-2___t923v","margin-top-3":"margin-top-3___vYGNR","margin-bottom-3":"margin-bottom-3___sABZt","margin-right-3":"margin-right-3___nx4c2","margin-left-3":"margin-left-3___Ilodc","margin-top-4":"margin-top-4___MJ1r_","margin-bottom-4":"margin-bottom-4___qpKXF","margin-right-4":"margin-right-4___K478J","margin-left-4":"margin-left-4___SvOrf","margin-top-5":"margin-top-5___Kt1Jm","margin-bottom-5":"margin-bottom-5___g8yps","margin-right-5":"margin-right-5___Cy7U2","margin-left-5":"margin-left-5___Kk7cM","margin-top-6":"margin-top-6___DEpJH","margin-bottom-6":"margin-bottom-6___Ty3KB","margin-right-6":"margin-right-6___D9rQu","margin-left-6":"margin-left-6___nqPI6","margin-top-7":"margin-top-7___AwJ_S","margin-bottom-7":"margin-bottom-7___fTMfw","margin-right-7":"margin-right-7___UwLwz","margin-left-7":"margin-left-7___nnddF","margin-top-8":"margin-top-8____4JkV","margin-bottom-8":"margin-bottom-8___YxDaY","margin-right-8":"margin-right-8___iGOZ3","margin-left-8":"margin-left-8___sBtS6","margin-top-9":"margin-top-9___Jmc9t","margin-bottom-9":"margin-bottom-9___vBcuI","margin-right-9":"margin-right-9___rGY87","margin-left-9":"margin-left-9___kyjSj","margin-top-10":"margin-top-10___FUgP6","margin-bottom-10":"margin-bottom-10___GjkBE","margin-right-10":"margin-right-10___nrLhM","margin-left-10":"margin-left-10___Uvs1f","width-hundred-1":"width-hundred-1___xGU1O","height-hundred-1":"height-hundred-1___c7wnm","width-hundred-2":"width-hundred-2___Gclu7","height-hundred-2":"height-hundred-2___Uucrn","width-hundred-3":"width-hundred-3___MztTp","height-hundred-3":"height-hundred-3___OefzD","width-hundred-4":"width-hundred-4___WWJuA","height-hundred-4":"height-hundred-4___ghpwA","width-hundred-5":"width-hundred-5___BHtFM","height-hundred-5":"height-hundred-5___ZOW1X","width-hundred-6":"width-hundred-6___e1O5s","height-hundred-6":"height-hundred-6____DCZN","width-hundred-7":"width-hundred-7___JdOWE","height-hundred-7":"height-hundred-7___anyrz","width-hundred-8":"width-hundred-8___GTr2N","height-hundred-8":"height-hundred-8____eIbN","width-hundred-9":"width-hundred-9___NoOti","height-hundred-9":"height-hundred-9___ANNN6","width-hundred-10":"width-hundred-10___NcL6n","height-hundred-10":"height-hundred-10___QaRy0","width-ten-1":"width-ten-1___KLSkE","height-ten-1":"height-ten-1___iaI6o","width-ten-2":"width-ten-2___UsmXh","height-ten-2":"height-ten-2___UuhxA","width-ten-3":"width-ten-3____BNIH","height-ten-3":"height-ten-3___Auv1T","width-ten-4":"width-ten-4___TQmML","height-ten-4":"height-ten-4___iIQDc","width-ten-5":"width-ten-5___LV4bQ","height-ten-5":"height-ten-5___im4Wy","width-ten-6":"width-ten-6___oNEfC","height-ten-6":"height-ten-6___Jia3l","width-ten-7":"width-ten-7___vTmOK","height-ten-7":"height-ten-7___MHhfI","width-ten-8":"width-ten-8___blPCh","height-ten-8":"height-ten-8___Tv2jg","width-ten-9":"width-ten-9___OSjMx","height-ten-9":"height-ten-9___KWSq4","width-ten-10":"width-ten-10___cGw4V","height-ten-10":"height-ten-10___sRSeJ","text-size-1":"text-size-1___hL8nB","text-size-2":"text-size-2___RfLKH","text-size-3":"text-size-3___S7blv","text-size-4":"text-size-4___WC7_9","text-size-5":"text-size-5___sdp0M","text-size-6":"text-size-6___Mtq6Z","text-size-7":"text-size-7___UpZVb","text-size-8":"text-size-8___jz9mo","text-size-9":"text-size-9___Nukm8","text-size-10":"text-size-10___Hrg1J",flex:"flex___blQVh","flex-1":"flex-1___JuepB","flex-2":"flex-2___MOufX","flex-3":"flex-3___Fyoix","flex-between":"flex-between___mV8_3","flex-center":"flex-center___IURyi","flex-space-between":"flex-space-between____2zIf","ant-card-body-bottom0":"ant-card-body-bottom0___rlCXn","ant-card-body":"ant-card-body___wXZ8U","bpo-description":"bpo-description___s_1jG","ant-descriptions-item":"ant-descriptions-item___HSJTV","ant-message-notice-content":"ant-message-notice-content___w5Cw2","custom-modal":"custom-modal___aSblx","ant-modal-header":"ant-modal-header____8DxG","ant-modal-footer":"ant-modal-footer___t3Lua","modal-wrap-fullscreen":"modal-wrap-fullscreen___TEd3I","ant-modal":"ant-modal___ogYMA","primary-color":"primary-color___F0vkv","color-grey-9":"color-grey-9___XWurS","background-color-grey-9":"background-color-grey-9___zGraW","color-grey-6":"color-grey-6___eDqug","background-color-grey-6":"background-color-grey-6___HLvNo","color-grey-7":"color-grey-7___IxpPH","background-color-grey-7":"background-color-grey-7___tGkWH","color-grey-e":"color-grey-e___vvfDJ","background-color-grey-e":"background-color-grey-e___ydS2f","color-red":"color-red___KoSi6","background-color-red":"background-color-red___ezAYK","color-blue":"color-blue___BUIYS","background-color-blue":"background-color-blue___wWG8E","color-green":"color-green___MCdQX","background-color-green":"background-color-green___ZsxzZ","color-yellow":"color-yellow___G7Nrx","background-color-yellow":"background-color-yellow___mD4n4","color-purple":"color-purple___tSeAx","background-color-purple":"background-color-purple___ZNEKb","color-warning-color":"color-warning-color___cu9xO","background-color-warning-color":"background-color-warning-color___FeZTF","ant-legacy-form-item-control-wrapper":"ant-legacy-form-item-control-wrapper___Ag960","ant-list-lg":"ant-list-lg___dblto","btn-width":"btn-width___FFtIS","btn-underline":"btn-underline___FhhQ3","spin-custom":"spin-custom___z5o9i","ant-spin":"ant-spin___zBTAL","grecaptcha-badge":"grecaptcha-badge___wMhaV","react-flow__node":"react-flow__node___UBUuq","react-flow__node-qaJobNode":"react-flow__node-qaJobNode____Fh2O","react-flow__node-labelJobNode":"react-flow__node-labelJobNode___Ikspf","text-dander":"text-dander___jTJJe"}},82162:function(je,O){O.Z={bpoTag:"bpoTag___HGnQ0",invited:"invited___bz5x7",rejected:"rejected___kzCqo",to_upload_form:"to_upload_form___tvWzK",uploaded_form:"uploaded_form___dgSlD",confirmed:"confirmed___XNKWF",declined:"declined___PYrDw",expired:"expired___YJEAM","form-item":"form-item___bxvMI","form-label":"form-label___u0VFA"}}}]);
